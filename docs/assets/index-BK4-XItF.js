(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(s){if(s.ep)return;s.ep=!0;const u=o(s);fetch(s.href,u)}})();function Dg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Uu={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh;function _S(){if(Uh)return fl;Uh=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,s,u){var d=null;if(u!==void 0&&(d=""+u),s.key!==void 0&&(d=""+s.key),"key"in s){u={};for(var h in s)h!=="key"&&(u[h]=s[h])}else u=s;return s=u.ref,{$$typeof:n,type:a,key:d,ref:s!==void 0?s:null,props:u}}return fl.Fragment=t,fl.jsx=o,fl.jsxs=o,fl}var Lh;function CS(){return Lh||(Lh=1,Uu.exports=_S()),Uu.exports}var E=CS(),Lu={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function AS(){if(kh)return de;kh=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,A={};function H(N,O,W){this.props=N,this.context=O,this.refs=A,this.updater=W||R}H.prototype.isReactComponent={},H.prototype.setState=function(N,O){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,O,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function F(){}F.prototype=H.prototype;function P(N,O,W){this.props=N,this.context=O,this.refs=A,this.updater=W||R}var L=P.prototype=new F;L.constructor=P,M(L,H.prototype),L.isPureReactComponent=!0;var z=Array.isArray;function X(){}var $={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function ne(N,O,W){var te=W.ref;return{$$typeof:n,type:N,key:O,ref:te!==void 0?te:null,props:W}}function ce(N,O){return ne(N.type,O,N.props)}function ge(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function Ae(N){var O={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(W){return O[W]})}var De=/\/+/g;function Ce(N,O){return typeof N=="object"&&N!==null&&N.key!=null?Ae(""+N.key):O.toString(36)}function He(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(X,X):(N.status="pending",N.then(function(O){N.status==="pending"&&(N.status="fulfilled",N.value=O)},function(O){N.status==="pending"&&(N.status="rejected",N.reason=O)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function w(N,O,W,te,se){var he=typeof N;(he==="undefined"||he==="boolean")&&(N=null);var pe=!1;if(N===null)pe=!0;else switch(he){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(N.$$typeof){case n:case t:pe=!0;break;case v:return pe=N._init,w(pe(N._payload),O,W,te,se)}}if(pe)return se=se(N),pe=te===""?"."+Ce(N,0):te,z(se)?(W="",pe!=null&&(W=pe.replace(De,"$&/")+"/"),w(se,O,W,"",function(Oe){return Oe})):se!=null&&(ge(se)&&(se=ce(se,W+(se.key==null||N&&N.key===se.key?"":(""+se.key).replace(De,"$&/")+"/")+pe)),O.push(se)),1;pe=0;var oe=te===""?".":te+":";if(z(N))for(var ve=0;ve<N.length;ve++)te=N[ve],he=oe+Ce(te,ve),pe+=w(te,O,W,he,se);else if(ve=C(N),typeof ve=="function")for(N=ve.call(N),ve=0;!(te=N.next()).done;)te=te.value,he=oe+Ce(te,ve++),pe+=w(te,O,W,he,se);else if(he==="object"){if(typeof N.then=="function")return w(He(N),O,W,te,se);throw O=String(N),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Q(N,O,W){if(N==null)return N;var te=[],se=0;return w(N,te,"","",function(he){return O.call(W,he,se++)}),te}function Z(N){if(N._status===-1){var O=N._result;O=O(),O.then(function(W){(N._status===0||N._status===-1)&&(N._status=1,N._result=W)},function(W){(N._status===0||N._status===-1)&&(N._status=2,N._result=W)}),N._status===-1&&(N._status=0,N._result=O)}if(N._status===1)return N._result.default;throw N._result}var U=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},j={map:Q,forEach:function(N,O,W){Q(N,function(){O.apply(this,arguments)},W)},count:function(N){var O=0;return Q(N,function(){O++}),O},toArray:function(N){return Q(N,function(O){return O})||[]},only:function(N){if(!ge(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return de.Activity=S,de.Children=j,de.Component=H,de.Fragment=o,de.Profiler=s,de.PureComponent=P,de.StrictMode=a,de.Suspense=y,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,de.__COMPILER_RUNTIME={__proto__:null,c:function(N){return $.H.useMemoCache(N)}},de.cache=function(N){return function(){return N.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(N,O,W){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var te=M({},N.props),se=N.key;if(O!=null)for(he in O.key!==void 0&&(se=""+O.key),O)!ee.call(O,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&O.ref===void 0||(te[he]=O[he]);var he=arguments.length-2;if(he===1)te.children=W;else if(1<he){for(var pe=Array(he),oe=0;oe<he;oe++)pe[oe]=arguments[oe+2];te.children=pe}return ne(N.type,se,te)},de.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},de.createElement=function(N,O,W){var te,se={},he=null;if(O!=null)for(te in O.key!==void 0&&(he=""+O.key),O)ee.call(O,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(se[te]=O[te]);var pe=arguments.length-2;if(pe===1)se.children=W;else if(1<pe){for(var oe=Array(pe),ve=0;ve<pe;ve++)oe[ve]=arguments[ve+2];se.children=oe}if(N&&N.defaultProps)for(te in pe=N.defaultProps,pe)se[te]===void 0&&(se[te]=pe[te]);return ne(N,he,se)},de.createRef=function(){return{current:null}},de.forwardRef=function(N){return{$$typeof:h,render:N}},de.isValidElement=ge,de.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:Z}},de.memo=function(N,O){return{$$typeof:m,type:N,compare:O===void 0?null:O}},de.startTransition=function(N){var O=$.T,W={};$.T=W;try{var te=N(),se=$.S;se!==null&&se(W,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(X,U)}catch(he){U(he)}finally{O!==null&&W.types!==null&&(O.types=W.types),$.T=O}},de.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},de.use=function(N){return $.H.use(N)},de.useActionState=function(N,O,W){return $.H.useActionState(N,O,W)},de.useCallback=function(N,O){return $.H.useCallback(N,O)},de.useContext=function(N){return $.H.useContext(N)},de.useDebugValue=function(){},de.useDeferredValue=function(N,O){return $.H.useDeferredValue(N,O)},de.useEffect=function(N,O){return $.H.useEffect(N,O)},de.useEffectEvent=function(N){return $.H.useEffectEvent(N)},de.useId=function(){return $.H.useId()},de.useImperativeHandle=function(N,O,W){return $.H.useImperativeHandle(N,O,W)},de.useInsertionEffect=function(N,O){return $.H.useInsertionEffect(N,O)},de.useLayoutEffect=function(N,O){return $.H.useLayoutEffect(N,O)},de.useMemo=function(N,O){return $.H.useMemo(N,O)},de.useOptimistic=function(N,O){return $.H.useOptimistic(N,O)},de.useReducer=function(N,O,W){return $.H.useReducer(N,O,W)},de.useRef=function(N){return $.H.useRef(N)},de.useState=function(N){return $.H.useState(N)},de.useSyncExternalStore=function(N,O,W){return $.H.useSyncExternalStore(N,O,W)},de.useTransition=function(){return $.H.useTransition()},de.version="19.2.4",de}var Gh;function dc(){return Gh||(Gh=1,Lu.exports=AS()),Lu.exports}var V=dc();const uo=Dg(V);var ku={exports:{}},dl={},Gu={exports:{}},Hu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function NS(){return Hh||(Hh=1,(function(n){function t(w,Q){var Z=w.length;w.push(Q);e:for(;0<Z;){var U=Z-1>>>1,j=w[U];if(0<s(j,Q))w[U]=Q,w[Z]=j,Z=U;else break e}}function o(w){return w.length===0?null:w[0]}function a(w){if(w.length===0)return null;var Q=w[0],Z=w.pop();if(Z!==Q){w[0]=Z;e:for(var U=0,j=w.length,N=j>>>1;U<N;){var O=2*(U+1)-1,W=w[O],te=O+1,se=w[te];if(0>s(W,Z))te<j&&0>s(se,W)?(w[U]=se,w[te]=Z,U=te):(w[U]=W,w[O]=Z,U=O);else if(te<j&&0>s(se,Z))w[U]=se,w[te]=Z,U=te;else break e}}return Q}function s(w,Q){var Z=w.sortIndex-Q.sortIndex;return Z!==0?Z:w.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var y=[],m=[],v=1,S=null,x=3,C=!1,R=!1,M=!1,A=!1,H=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function L(w){for(var Q=o(m);Q!==null;){if(Q.callback===null)a(m);else if(Q.startTime<=w)a(m),Q.sortIndex=Q.expirationTime,t(y,Q);else break;Q=o(m)}}function z(w){if(M=!1,L(w),!R)if(o(y)!==null)R=!0,X||(X=!0,Ae());else{var Q=o(m);Q!==null&&He(z,Q.startTime-w)}}var X=!1,$=-1,ee=5,ne=-1;function ce(){return A?!0:!(n.unstable_now()-ne<ee)}function ge(){if(A=!1,X){var w=n.unstable_now();ne=w;var Q=!0;try{e:{R=!1,M&&(M=!1,F($),$=-1),C=!0;var Z=x;try{t:{for(L(w),S=o(y);S!==null&&!(S.expirationTime>w&&ce());){var U=S.callback;if(typeof U=="function"){S.callback=null,x=S.priorityLevel;var j=U(S.expirationTime<=w);if(w=n.unstable_now(),typeof j=="function"){S.callback=j,L(w),Q=!0;break t}S===o(y)&&a(y),L(w)}else a(y);S=o(y)}if(S!==null)Q=!0;else{var N=o(m);N!==null&&He(z,N.startTime-w),Q=!1}}break e}finally{S=null,x=Z,C=!1}Q=void 0}}finally{Q?Ae():X=!1}}}var Ae;if(typeof P=="function")Ae=function(){P(ge)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ce=De.port2;De.port1.onmessage=ge,Ae=function(){Ce.postMessage(null)}}else Ae=function(){H(ge,0)};function He(w,Q){$=H(function(){w(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(w){w.callback=null},n.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<w?Math.floor(1e3/w):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(w){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var Z=x;x=Q;try{return w()}finally{x=Z}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(w,Q){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var Z=x;x=w;try{return Q()}finally{x=Z}},n.unstable_scheduleCallback=function(w,Q,Z){var U=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?U+Z:U):Z=U,w){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Z+j,w={id:v++,callback:Q,priorityLevel:w,startTime:Z,expirationTime:j,sortIndex:-1},Z>U?(w.sortIndex=Z,t(m,w),o(y)===null&&w===o(m)&&(M?(F($),$=-1):M=!0,He(z,Z-U))):(w.sortIndex=j,t(y,w),R||C||(R=!0,X||(X=!0,Ae()))),w},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(w){var Q=x;return function(){var Z=x;x=Q;try{return w.apply(this,arguments)}finally{x=Z}}}})(Hu)),Hu}var Ph;function bS(){return Ph||(Ph=1,Gu.exports=NS()),Gu.exports}var Pu={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function RS(){if(qh)return st;qh=1;var n=dc();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");function u(y,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:S==null?null:""+S,children:y,containerInfo:m,implementation:v}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,st.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(y,m,null,v)},st.flushSync=function(y){var m=d.T,v=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=m,a.p=v,a.d.f()}},st.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},st.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},st.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,S=h(v,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},st.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},st.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=h(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},st.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=h(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},st.requestFormReset=function(y){a.d.r(y)},st.unstable_batchedUpdates=function(y,m){return y(m)},st.useFormState=function(y,m,v){return d.H.useFormState(y,m,v)},st.useFormStatus=function(){return d.H.useHostTransitionStatus()},st.version="19.2.4",st}var zh;function MS(){if(zh)return Pu.exports;zh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Pu.exports=RS(),Pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function wS(){if(Vh)return dl;Vh=1;var n=bS(),t=dc(),o=MS();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(a(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var l=e,r=i;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(r=p.return,r!==null){l=r;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return y(p),e;if(g===r)return y(p),i;g=g.sibling}throw Error(a(188))}if(l.return!==r.return)l=p,r=g;else{for(var T=!1,_=p.child;_;){if(_===l){T=!0,l=p,r=g;break}if(_===r){T=!0,r=p,l=g;break}_=_.sibling}if(!T){for(_=g.child;_;){if(_===l){T=!0,l=g,r=p;break}if(_===r){T=!0,r=g,l=p;break}_=_.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==r)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:i}function v(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=v(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),P=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var De=Symbol.for("react.client.reference");function Ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===De?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case H:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case X:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case P:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case L:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return i=e.displayName||null,i!==null?i:Ce(e.type)||"Memo";case ee:i=e._payload,e=e._init;try{return Ce(e(i))}catch{}}return null}var He=Array.isArray,w=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},U=[],j=-1;function N(e){return{current:e}}function O(e){0>j||(e.current=U[j],U[j]=null,j--)}function W(e,i){j++,U[j]=e.current,e.current=i}var te=N(null),se=N(null),he=N(null),pe=N(null);function oe(e,i){switch(W(he,i),W(se,e),W(te,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?nh(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=nh(i),e=ih(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(te),W(te,e)}function ve(){O(te),O(se),O(he)}function Oe(e){e.memoizedState!==null&&W(pe,e);var i=te.current,l=ih(i,e.type);i!==l&&(W(se,e),W(te,l))}function St(e){se.current===e&&(O(te),O(se)),pe.current===e&&(O(pe),sl._currentValue=Z)}var $t,xl;function nn(e){if($t===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);$t=i&&i[1]||"",xl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$t+e+xl}var gs=!1;function ys(e,i){if(!e||gs)return"";gs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var q=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){q=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){q=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&q&&typeof B.stack=="string")return[B.stack,q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=r.DetermineComponentFrameRoot(),T=g[0],_=g[1];if(T&&_){var b=T.split(`
`),G=_.split(`
`);for(p=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(r===b.length||p===G.length)for(r=b.length-1,p=G.length-1;1<=r&&0<=p&&b[r]!==G[p];)p--;for(;1<=r&&0<=p;r--,p--)if(b[r]!==G[p]){if(r!==1||p!==1)do if(r--,p--,0>p||b[r]!==G[p]){var J=`
`+b[r].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=r&&0<=p);break}}}finally{gs=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?nn(l):""}function e0(e,i){switch(e.tag){case 26:case 27:case 5:return nn(e.type);case 16:return nn("Lazy");case 13:return e.child!==i&&i!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return ys(e.type,!1);case 11:return ys(e.type.render,!1);case 1:return ys(e.type,!0);case 31:return nn("Activity");default:return""}}function Dc(e){try{var i="",l=null;do i+=e0(e,l),l=e,e=e.return;while(e);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var vs=Object.prototype.hasOwnProperty,Ss=n.unstable_scheduleCallback,Ts=n.unstable_cancelCallback,t0=n.unstable_shouldYield,n0=n.unstable_requestPaint,Tt=n.unstable_now,i0=n.unstable_getCurrentPriorityLevel,Uc=n.unstable_ImmediatePriority,Lc=n.unstable_UserBlockingPriority,_l=n.unstable_NormalPriority,o0=n.unstable_LowPriority,kc=n.unstable_IdlePriority,l0=n.log,a0=n.unstable_setDisableYieldValue,So=null,Et=null;function Rn(e){if(typeof l0=="function"&&a0(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(So,e)}catch{}}var xt=Math.clz32?Math.clz32:u0,s0=Math.log,r0=Math.LN2;function u0(e){return e>>>=0,e===0?32:31-(s0(e)/r0|0)|0}var Cl=256,Al=262144,Nl=4194304;function ti(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bl(e,i,l){var r=e.pendingLanes;if(r===0)return 0;var p=0,g=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~g,r!==0?p=ti(r):(T&=_,T!==0?p=ti(T):l||(l=_&~e,l!==0&&(p=ti(l))))):(_=r&~g,_!==0?p=ti(_):T!==0?p=ti(T):l||(l=r&~e,l!==0&&(p=ti(l)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:p}function To(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function c0(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var e=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),e}function Es(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function Eo(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function f0(e,i,l,r,p,g){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,b=e.expirationTimes,G=e.hiddenUpdates;for(l=T&~l;0<l;){var J=31-xt(l),K=1<<J;_[J]=0,b[J]=-1;var q=G[J];if(q!==null)for(G[J]=null,J=0;J<q.length;J++){var B=q[J];B!==null&&(B.lane&=-536870913)}l&=~K}r!==0&&Hc(e,r,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(T&~i))}function Hc(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var r=31-xt(i);e.entangledLanes|=i,e.entanglements[r]=e.entanglements[r]|1073741824|l&261930}function Pc(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var r=31-xt(l),p=1<<r;p&i|e[r]&i&&(e[r]|=i),l&=~p}}function qc(e,i){var l=i&-i;return l=(l&42)!==0?1:xs(l),(l&(e.suspendedLanes|i))!==0?0:l}function xs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _s(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zc(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Nh(e.type))}function Vc(e,i){var l=Q.p;try{return Q.p=e,i()}finally{Q.p=l}}var Mn=Math.random().toString(36).slice(2),nt="__reactFiber$"+Mn,dt="__reactProps$"+Mn,_i="__reactContainer$"+Mn,Cs="__reactEvents$"+Mn,d0="__reactListeners$"+Mn,p0="__reactHandles$"+Mn,Oc="__reactResources$"+Mn,xo="__reactMarker$"+Mn;function As(e){delete e[nt],delete e[dt],delete e[Cs],delete e[d0],delete e[p0]}function Ci(e){var i=e[nt];if(i)return i;for(var l=e.parentNode;l;){if(i=l[_i]||l[nt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=ch(e);e!==null;){if(l=e[nt])return l;e=ch(e)}return i}e=l,l=e.parentNode}return null}function Ai(e){if(e=e[nt]||e[_i]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _o(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Ni(e){var i=e[Oc];return i||(i=e[Oc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function je(e){e[xo]=!0}var Bc=new Set,Fc={};function ni(e,i){bi(e,i),bi(e+"Capture",i)}function bi(e,i){for(Fc[e]=i,e=0;e<i.length;e++)Bc.add(i[e])}var h0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jc={},Yc={};function m0(e){return vs.call(Yc,e)?!0:vs.call(Jc,e)?!1:h0.test(e)?Yc[e]=!0:(Jc[e]=!0,!1)}function Rl(e,i,l){if(m0(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function Ml(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function on(e,i,l,r){if(r===null)e.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+r)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qc(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function g0(e,i,l){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,g=r.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){l=""+T,g.call(this,T)}}),Object.defineProperty(e,i,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ns(e){if(!e._valueTracker){var i=Qc(e)?"checked":"value";e._valueTracker=g0(e,i,""+e[i])}}function Kc(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),r="";return e&&(r=Qc(e)?e.checked?"true":"false":e.value),e=r,e!==l?(i.setValue(e),!0):!1}function wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var y0=/[\n"\\]/g;function It(e){return e.replace(y0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bs(e,i,l,r,p,g,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+wt(i)):e.value!==""+wt(i)&&(e.value=""+wt(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?Rs(e,T,wt(i)):l!=null?Rs(e,T,wt(l)):r!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+wt(_):e.removeAttribute("name")}function Xc(e,i,l,r,p,g,T,_){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Ns(e);return}l=l!=null?""+wt(l):"",i=i!=null?""+wt(i):l,_||i===e.value||(e.value=i),e.defaultValue=i}r=r??p,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Ns(e)}function Rs(e,i,l){i==="number"&&wl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ri(e,i,l,r){if(e=e.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<e.length;l++)p=i.hasOwnProperty("$"+e[l].value),e[l].selected!==p&&(e[l].selected=p),p&&r&&(e[l].defaultSelected=!0)}else{for(l=""+wt(l),i=null,p=0;p<e.length;p++){if(e[p].value===l){e[p].selected=!0,r&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function $c(e,i,l){if(i!=null&&(i=""+wt(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+wt(l):""}function Zc(e,i,l,r){if(i==null){if(r!=null){if(l!=null)throw Error(a(92));if(He(r)){if(1<r.length)throw Error(a(93));r=r[0]}l=r}l==null&&(l=""),i=l}l=wt(i),e.defaultValue=l,r=e.textContent,r===l&&r!==""&&r!==null&&(e.value=r),Ns(e)}function Mi(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var v0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wc(e,i,l){var r=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":r?e.setProperty(i,l):typeof l!="number"||l===0||v0.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function jc(e,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var p in i)r=i[p],i.hasOwnProperty(p)&&l[p]!==r&&Wc(e,p,r)}else for(var g in i)i.hasOwnProperty(g)&&Wc(e,g,i[g])}function Ms(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),T0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(e){return T0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ln(){}var ws=null;function Is(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wi=null,Ii=null;function ef(e){var i=Ai(e);if(i&&(e=i.stateNode)){var l=e[dt]||null;e:switch(e=i.stateNode,i.type){case"input":if(bs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+It(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var r=l[i];if(r!==e&&r.form===e.form){var p=r[dt]||null;if(!p)throw Error(a(90));bs(r,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)r=l[i],r.form===e.form&&Kc(r)}break e;case"textarea":$c(e,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Ri(e,!!l.multiple,i,!1)}}}var Ds=!1;function tf(e,i,l){if(Ds)return e(i,l);Ds=!0;try{var r=e(i);return r}finally{if(Ds=!1,(wi!==null||Ii!==null)&&(va(),wi&&(i=wi,e=Ii,Ii=wi=null,ef(i),e)))for(i=0;i<e.length;i++)ef(e[i])}}function Co(e,i){var l=e.stateNode;if(l===null)return null;var r=l[dt]||null;if(r===null)return null;l=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Us=!1;if(an)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{Us=!1}var wn=null,Ls=null,Dl=null;function nf(){if(Dl)return Dl;var e,i=Ls,l=i.length,r,p="value"in wn?wn.value:wn.textContent,g=p.length;for(e=0;e<l&&i[e]===p[e];e++);var T=l-e;for(r=1;r<=T&&i[l-r]===p[g-r];r++);return Dl=p.slice(e,1<r?1-r:void 0)}function Ul(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function of(){return!1}function pt(e){function i(l,r,p,g,T){this._reactName=l,this._targetInst=p,this.type=r,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ll:of,this.isPropagationStopped=of,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),i}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=pt(ii),No=S({},ii,{view:0,detail:0}),E0=pt(No),ks,Gs,bo,Gl=S({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bo&&(bo&&e.type==="mousemove"?(ks=e.screenX-bo.screenX,Gs=e.screenY-bo.screenY):Gs=ks=0,bo=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:Gs}}),lf=pt(Gl),x0=S({},Gl,{dataTransfer:0}),_0=pt(x0),C0=S({},No,{relatedTarget:0}),Hs=pt(C0),A0=S({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),N0=pt(A0),b0=S({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R0=pt(b0),M0=S({},ii,{data:0}),af=pt(M0),w0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U0(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=D0[e])?!!i[e]:!1}function Ps(){return U0}var L0=S({},No,{key:function(e){if(e.key){var i=w0[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k0=pt(L0),G0=S({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=pt(G0),H0=S({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),P0=pt(H0),q0=S({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),z0=pt(q0),V0=S({},Gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O0=pt(V0),B0=S({},ii,{newState:0,oldState:0}),F0=pt(B0),J0=[9,13,27,32],qs=an&&"CompositionEvent"in window,Ro=null;an&&"documentMode"in document&&(Ro=document.documentMode);var Y0=an&&"TextEvent"in window&&!Ro,rf=an&&(!qs||Ro&&8<Ro&&11>=Ro),uf=" ",cf=!1;function ff(e,i){switch(e){case"keyup":return J0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function Q0(e,i){switch(e){case"compositionend":return df(i);case"keypress":return i.which!==32?null:(cf=!0,uf);case"textInput":return e=i.data,e===uf&&cf?null:e;default:return null}}function K0(e,i){if(Di)return e==="compositionend"||!qs&&ff(e,i)?(e=nf(),Dl=Ls=wn=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return rf&&i.locale!=="ko"?null:i.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!X0[e.type]:i==="textarea"}function hf(e,i,l,r){wi?Ii?Ii.push(r):Ii=[r]:wi=r,i=Aa(i,"onChange"),0<i.length&&(l=new kl("onChange","change",null,l,r),e.push({event:l,listeners:i}))}var Mo=null,wo=null;function $0(e){$p(e,0)}function Hl(e){var i=_o(e);if(Kc(i))return e}function mf(e,i){if(e==="change")return i}var gf=!1;if(an){var zs;if(an){var Vs="oninput"in document;if(!Vs){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),Vs=typeof yf.oninput=="function"}zs=Vs}else zs=!1;gf=zs&&(!document.documentMode||9<document.documentMode)}function vf(){Mo&&(Mo.detachEvent("onpropertychange",Sf),wo=Mo=null)}function Sf(e){if(e.propertyName==="value"&&Hl(wo)){var i=[];hf(i,wo,e,Is(e)),tf($0,i)}}function Z0(e,i,l){e==="focusin"?(vf(),Mo=i,wo=l,Mo.attachEvent("onpropertychange",Sf)):e==="focusout"&&vf()}function W0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(wo)}function j0(e,i){if(e==="click")return Hl(i)}function ev(e,i){if(e==="input"||e==="change")return Hl(i)}function tv(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _t=typeof Object.is=="function"?Object.is:tv;function Io(e,i){if(_t(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),r=Object.keys(i);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var p=l[r];if(!vs.call(i,p)||!_t(e[p],i[p]))return!1}return!0}function Tf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ef(e,i){var l=Tf(e);e=0;for(var r;l;){if(l.nodeType===3){if(r=e+l.textContent.length,e<=i&&r>=i)return{node:l,offset:i-e};e=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Tf(l)}}function xf(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?xf(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function _f(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=wl(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=wl(e.document)}return i}function Os(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var nv=an&&"documentMode"in document&&11>=document.documentMode,Ui=null,Bs=null,Do=null,Fs=!1;function Cf(e,i,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fs||Ui==null||Ui!==wl(r)||(r=Ui,"selectionStart"in r&&Os(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Do&&Io(Do,r)||(Do=r,r=Aa(Bs,"onSelect"),0<r.length&&(i=new kl("onSelect","select",null,i,l),e.push({event:i,listeners:r}),i.target=Ui)))}function oi(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var Li={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},Js={},Af={};an&&(Af=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function li(e){if(Js[e])return Js[e];if(!Li[e])return e;var i=Li[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in Af)return Js[e]=i[l];return e}var Nf=li("animationend"),bf=li("animationiteration"),Rf=li("animationstart"),iv=li("transitionrun"),ov=li("transitionstart"),lv=li("transitioncancel"),Mf=li("transitionend"),wf=new Map,Ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ys.push("scrollEnd");function Bt(e,i){wf.set(e,i),ni(i,[e])}var Pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],ki=0,Qs=0;function ql(){for(var e=ki,i=Qs=ki=0;i<e;){var l=Dt[i];Dt[i++]=null;var r=Dt[i];Dt[i++]=null;var p=Dt[i];Dt[i++]=null;var g=Dt[i];if(Dt[i++]=null,r!==null&&p!==null){var T=r.pending;T===null?p.next=p:(p.next=T.next,T.next=p),r.pending=p}g!==0&&If(l,p,g)}}function zl(e,i,l,r){Dt[ki++]=e,Dt[ki++]=i,Dt[ki++]=l,Dt[ki++]=r,Qs|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Ks(e,i,l,r){return zl(e,i,l,r),Vl(e)}function ai(e,i){return zl(e,null,null,i),Vl(e)}function If(e,i,l){e.lanes|=l;var r=e.alternate;r!==null&&(r.lanes|=l);for(var p=!1,g=e.return;g!==null;)g.childLanes|=l,r=g.alternate,r!==null&&(r.childLanes|=l),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&i!==null&&(p=31-xt(l),e=g.hiddenUpdates,r=e[p],r===null?e[p]=[i]:r.push(i),i.lane=l|536870912),g):null}function Vl(e){if(50<el)throw el=0,iu=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Gi={};function av(e,i,l,r){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,i,l,r){return new av(e,i,l,r)}function Xs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sn(e,i){var l=e.alternate;return l===null?(l=Ct(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Df(e,i){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ol(e,i,l,r,p,g){var T=0;if(r=e,typeof e=="function")Xs(e)&&(T=1);else if(typeof e=="string")T=fS(e,l,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=Ct(31,l,i,p),e.elementType=ne,e.lanes=g,e;case M:return si(l.children,p,g,i);case A:T=8,p|=24;break;case H:return e=Ct(12,l,i,p|2),e.elementType=H,e.lanes=g,e;case z:return e=Ct(13,l,i,p),e.elementType=z,e.lanes=g,e;case X:return e=Ct(19,l,i,p),e.elementType=X,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:T=10;break e;case F:T=9;break e;case L:T=11;break e;case $:T=14;break e;case ee:T=16,r=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),r=null}return i=Ct(T,l,i,p),i.elementType=e,i.type=r,i.lanes=g,i}function si(e,i,l,r){return e=Ct(7,e,r,i),e.lanes=l,e}function $s(e,i,l){return e=Ct(6,e,null,i),e.lanes=l,e}function Uf(e){var i=Ct(18,null,null,0);return i.stateNode=e,i}function Zs(e,i,l){return i=Ct(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Lf=new WeakMap;function Ut(e,i){if(typeof e=="object"&&e!==null){var l=Lf.get(e);return l!==void 0?l:(i={value:e,source:i,stack:Dc(i)},Lf.set(e,i),i)}return{value:e,source:i,stack:Dc(i)}}var Hi=[],Pi=0,Bl=null,Uo=0,Lt=[],kt=0,In=null,Zt=1,Wt="";function rn(e,i){Hi[Pi++]=Uo,Hi[Pi++]=Bl,Bl=e,Uo=i}function kf(e,i,l){Lt[kt++]=Zt,Lt[kt++]=Wt,Lt[kt++]=In,In=e;var r=Zt;e=Wt;var p=32-xt(r)-1;r&=~(1<<p),l+=1;var g=32-xt(i)+p;if(30<g){var T=p-p%5;g=(r&(1<<T)-1).toString(32),r>>=T,p-=T,Zt=1<<32-xt(i)+p|l<<p|r,Wt=g+e}else Zt=1<<g|l<<p|r,Wt=e}function Ws(e){e.return!==null&&(rn(e,1),kf(e,1,0))}function js(e){for(;e===Bl;)Bl=Hi[--Pi],Hi[Pi]=null,Uo=Hi[--Pi],Hi[Pi]=null;for(;e===In;)In=Lt[--kt],Lt[kt]=null,Wt=Lt[--kt],Lt[kt]=null,Zt=Lt[--kt],Lt[kt]=null}function Gf(e,i){Lt[kt++]=Zt,Lt[kt++]=Wt,Lt[kt++]=In,Zt=i.id,Wt=i.overflow,In=e}var it=null,qe=null,_e=!1,Dn=null,Gt=!1,er=Error(a(519));function Un(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Ut(i,e)),er}function Hf(e){var i=e.stateNode,l=e.type,r=e.memoizedProps;switch(i[nt]=e,i[dt]=r,l){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(l=0;l<nl.length;l++)Te(nl[l],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),Xc(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),Zc(i,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||r.suppressHydrationWarning===!0||eh(i.textContent,l)?(r.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),r.onScroll!=null&&Te("scroll",i),r.onScrollEnd!=null&&Te("scrollend",i),r.onClick!=null&&(i.onclick=ln),i=!0):i=!1,i||Un(e,!0)}function Pf(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:it=it.return}}function qi(e){if(e!==it)return!1;if(!_e)return Pf(e),_e=!0,!1;var i=e.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||vu(e.type,e.memoizedProps)),l=!l),l&&qe&&Un(e),Pf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));qe=uh(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));qe=uh(e)}else i===27?(i=qe,Qn(e.type)?(e=_u,_u=null,qe=e):qe=i):qe=it?Pt(e.stateNode.nextSibling):null;return!0}function ri(){qe=it=null,_e=!1}function tr(){var e=Dn;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),Dn=null),e}function Lo(e){Dn===null?Dn=[e]:Dn.push(e)}var nr=N(null),ui=null,un=null;function Ln(e,i,l){W(nr,i._currentValue),i._currentValue=l}function cn(e){e._currentValue=nr.current,O(nr)}function ir(e,i,l){for(;e!==null;){var r=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),e===l)break;e=e.return}}function or(e,i,l,r){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var _=g;g=p;for(var b=0;b<i.length;b++)if(_.context===i[b]){g.lanes|=l,_=g.alternate,_!==null&&(_.lanes|=l),ir(g.return,l,e),r||(T=null);break e}g=_.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(a(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),ir(T,l,e),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===e){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function zi(e,i,l,r){e=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=p.type;_t(p.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(p===pe.current){if(T=p.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}p=p.return}e!==null&&or(i,e,l,r),i.flags|=262144}function Fl(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ci(e){ui=e,un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return qf(ui,e)}function Jl(e,i){return ui===null&&ci(e),qf(e,i)}function qf(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},un===null){if(e===null)throw Error(a(308));un=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else un=un.next=i;return l}var sv=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,r){e.push(r)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},rv=n.unstable_scheduleCallback,uv=n.unstable_NormalPriority,Ke={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lr(){return{controller:new sv,data:new Map,refCount:0}}function ko(e){e.refCount--,e.refCount===0&&rv(uv,function(){e.controller.abort()})}var Go=null,ar=0,Vi=0,Oi=null;function cv(e,i){if(Go===null){var l=Go=[];ar=0,Vi=uu(),Oi={status:"pending",value:void 0,then:function(r){l.push(r)}}}return ar++,i.then(zf,zf),i}function zf(){if(--ar===0&&Go!==null){Oi!==null&&(Oi.status="fulfilled");var e=Go;Go=null,Vi=0,Oi=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function fv(e,i){var l=[],r={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return e.then(function(){r.status="fulfilled",r.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(r.status="rejected",r.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),r}var Vf=w.S;w.S=function(e,i){Cp=Tt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&cv(e,i),Vf!==null&&Vf(e,i)};var fi=N(null);function sr(){var e=fi.current;return e!==null?e:Pe.pooledCache}function Yl(e,i){i===null?W(fi,fi.current):W(fi,i.pool)}function Of(){var e=sr();return e===null?null:{parent:Ke._currentValue,pool:e}}var Bi=Error(a(460)),rr=Error(a(474)),Ql=Error(a(542)),Kl={then:function(){}};function Bf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ff(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(ln,ln),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yf(e),e;default:if(typeof i.status=="string")i.then(ln,ln);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(r){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=r}},function(r){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yf(e),e}throw pi=i,Bi}}function di(e){try{var i=e._init;return i(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(pi=l,Bi):l}}var pi=null;function Jf(){if(pi===null)throw Error(a(459));var e=pi;return pi=null,e}function Yf(e){if(e===Bi||e===Ql)throw Error(a(483))}var Fi=null,Ho=0;function Xl(e){var i=Ho;return Ho+=1,Fi===null&&(Fi=[]),Ff(Fi,e,i)}function Po(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $l(e,i){throw i.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Qf(e){function i(D,I){if(e){var k=D.deletions;k===null?(D.deletions=[I],D.flags|=16):k.push(I)}}function l(D,I){if(!e)return null;for(;I!==null;)i(D,I),I=I.sibling;return null}function r(D){for(var I=new Map;D!==null;)D.key!==null?I.set(D.key,D):I.set(D.index,D),D=D.sibling;return I}function p(D,I){return D=sn(D,I),D.index=0,D.sibling=null,D}function g(D,I,k){return D.index=k,e?(k=D.alternate,k!==null?(k=k.index,k<I?(D.flags|=67108866,I):k):(D.flags|=67108866,I)):(D.flags|=1048576,I)}function T(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function _(D,I,k,Y){return I===null||I.tag!==6?(I=$s(k,D.mode,Y),I.return=D,I):(I=p(I,k),I.return=D,I)}function b(D,I,k,Y){var re=k.type;return re===M?J(D,I,k.props.children,Y,k.key):I!==null&&(I.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ee&&di(re)===I.type)?(I=p(I,k.props),Po(I,k),I.return=D,I):(I=Ol(k.type,k.key,k.props,null,D.mode,Y),Po(I,k),I.return=D,I)}function G(D,I,k,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==k.containerInfo||I.stateNode.implementation!==k.implementation?(I=Zs(k,D.mode,Y),I.return=D,I):(I=p(I,k.children||[]),I.return=D,I)}function J(D,I,k,Y,re){return I===null||I.tag!==7?(I=si(k,D.mode,Y,re),I.return=D,I):(I=p(I,k),I.return=D,I)}function K(D,I,k){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=$s(""+I,D.mode,k),I.return=D,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return k=Ol(I.type,I.key,I.props,null,D.mode,k),Po(k,I),k.return=D,k;case R:return I=Zs(I,D.mode,k),I.return=D,I;case ee:return I=di(I),K(D,I,k)}if(He(I)||Ae(I))return I=si(I,D.mode,k,null),I.return=D,I;if(typeof I.then=="function")return K(D,Xl(I),k);if(I.$$typeof===P)return K(D,Jl(D,I),k);$l(D,I)}return null}function q(D,I,k,Y){var re=I!==null?I.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return re!==null?null:_(D,I,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return k.key===re?b(D,I,k,Y):null;case R:return k.key===re?G(D,I,k,Y):null;case ee:return k=di(k),q(D,I,k,Y)}if(He(k)||Ae(k))return re!==null?null:J(D,I,k,Y,null);if(typeof k.then=="function")return q(D,I,Xl(k),Y);if(k.$$typeof===P)return q(D,I,Jl(D,k),Y);$l(D,k)}return null}function B(D,I,k,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return D=D.get(k)||null,_(I,D,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return D=D.get(Y.key===null?k:Y.key)||null,b(I,D,Y,re);case R:return D=D.get(Y.key===null?k:Y.key)||null,G(I,D,Y,re);case ee:return Y=di(Y),B(D,I,k,Y,re)}if(He(Y)||Ae(Y))return D=D.get(k)||null,J(I,D,Y,re,null);if(typeof Y.then=="function")return B(D,I,k,Xl(Y),re);if(Y.$$typeof===P)return B(D,I,k,Jl(I,Y),re);$l(I,Y)}return null}function le(D,I,k,Y){for(var re=null,Ne=null,ae=I,ye=I=0,xe=null;ae!==null&&ye<k.length;ye++){ae.index>ye?(xe=ae,ae=null):xe=ae.sibling;var be=q(D,ae,k[ye],Y);if(be===null){ae===null&&(ae=xe);break}e&&ae&&be.alternate===null&&i(D,ae),I=g(be,I,ye),Ne===null?re=be:Ne.sibling=be,Ne=be,ae=xe}if(ye===k.length)return l(D,ae),_e&&rn(D,ye),re;if(ae===null){for(;ye<k.length;ye++)ae=K(D,k[ye],Y),ae!==null&&(I=g(ae,I,ye),Ne===null?re=ae:Ne.sibling=ae,Ne=ae);return _e&&rn(D,ye),re}for(ae=r(ae);ye<k.length;ye++)xe=B(ae,D,ye,k[ye],Y),xe!==null&&(e&&xe.alternate!==null&&ae.delete(xe.key===null?ye:xe.key),I=g(xe,I,ye),Ne===null?re=xe:Ne.sibling=xe,Ne=xe);return e&&ae.forEach(function(Wn){return i(D,Wn)}),_e&&rn(D,ye),re}function ue(D,I,k,Y){if(k==null)throw Error(a(151));for(var re=null,Ne=null,ae=I,ye=I=0,xe=null,be=k.next();ae!==null&&!be.done;ye++,be=k.next()){ae.index>ye?(xe=ae,ae=null):xe=ae.sibling;var Wn=q(D,ae,be.value,Y);if(Wn===null){ae===null&&(ae=xe);break}e&&ae&&Wn.alternate===null&&i(D,ae),I=g(Wn,I,ye),Ne===null?re=Wn:Ne.sibling=Wn,Ne=Wn,ae=xe}if(be.done)return l(D,ae),_e&&rn(D,ye),re;if(ae===null){for(;!be.done;ye++,be=k.next())be=K(D,be.value,Y),be!==null&&(I=g(be,I,ye),Ne===null?re=be:Ne.sibling=be,Ne=be);return _e&&rn(D,ye),re}for(ae=r(ae);!be.done;ye++,be=k.next())be=B(ae,D,ye,be.value,Y),be!==null&&(e&&be.alternate!==null&&ae.delete(be.key===null?ye:be.key),I=g(be,I,ye),Ne===null?re=be:Ne.sibling=be,Ne=be);return e&&ae.forEach(function(xS){return i(D,xS)}),_e&&rn(D,ye),re}function ke(D,I,k,Y){if(typeof k=="object"&&k!==null&&k.type===M&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case C:e:{for(var re=k.key;I!==null;){if(I.key===re){if(re=k.type,re===M){if(I.tag===7){l(D,I.sibling),Y=p(I,k.props.children),Y.return=D,D=Y;break e}}else if(I.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ee&&di(re)===I.type){l(D,I.sibling),Y=p(I,k.props),Po(Y,k),Y.return=D,D=Y;break e}l(D,I);break}else i(D,I);I=I.sibling}k.type===M?(Y=si(k.props.children,D.mode,Y,k.key),Y.return=D,D=Y):(Y=Ol(k.type,k.key,k.props,null,D.mode,Y),Po(Y,k),Y.return=D,D=Y)}return T(D);case R:e:{for(re=k.key;I!==null;){if(I.key===re)if(I.tag===4&&I.stateNode.containerInfo===k.containerInfo&&I.stateNode.implementation===k.implementation){l(D,I.sibling),Y=p(I,k.children||[]),Y.return=D,D=Y;break e}else{l(D,I);break}else i(D,I);I=I.sibling}Y=Zs(k,D.mode,Y),Y.return=D,D=Y}return T(D);case ee:return k=di(k),ke(D,I,k,Y)}if(He(k))return le(D,I,k,Y);if(Ae(k)){if(re=Ae(k),typeof re!="function")throw Error(a(150));return k=re.call(k),ue(D,I,k,Y)}if(typeof k.then=="function")return ke(D,I,Xl(k),Y);if(k.$$typeof===P)return ke(D,I,Jl(D,k),Y);$l(D,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,I!==null&&I.tag===6?(l(D,I.sibling),Y=p(I,k),Y.return=D,D=Y):(l(D,I),Y=$s(k,D.mode,Y),Y.return=D,D=Y),T(D)):l(D,I)}return function(D,I,k,Y){try{Ho=0;var re=ke(D,I,k,Y);return Fi=null,re}catch(ae){if(ae===Bi||ae===Ql)throw ae;var Ne=Ct(29,ae,null,D.mode);return Ne.lanes=Y,Ne.return=D,Ne}finally{}}}var hi=Qf(!0),Kf=Qf(!1),kn=!1;function ur(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cr(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(e,i,l){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Me&2)!==0){var p=r.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),r.pending=i,i=Vl(e),If(e,null,l),i}return zl(e,r,i,l),Vl(e)}function qo(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var r=i.lanes;r&=e.pendingLanes,l|=r,i.lanes=l,Pc(e,l)}}function fr(e,i){var l=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?p=g=i:g=g.next=i}else p=g=i;l={baseState:r.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:r.shared,callbacks:r.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var dr=!1;function zo(){if(dr){var e=Oi;if(e!==null)throw e}}function Vo(e,i,l,r){dr=!1;var p=e.updateQueue;kn=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,_=p.shared.pending;if(_!==null){p.shared.pending=null;var b=_,G=b.next;b.next=null,T===null?g=G:T.next=G,T=b;var J=e.alternate;J!==null&&(J=J.updateQueue,_=J.lastBaseUpdate,_!==T&&(_===null?J.firstBaseUpdate=G:_.next=G,J.lastBaseUpdate=b))}if(g!==null){var K=p.baseState;T=0,J=G=b=null,_=g;do{var q=_.lane&-536870913,B=q!==_.lane;if(B?(Ee&q)===q:(r&q)===q){q!==0&&q===Vi&&(dr=!0),J!==null&&(J=J.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=e,ue=_;q=i;var ke=l;switch(ue.tag){case 1:if(le=ue.payload,typeof le=="function"){K=le.call(ke,K,q);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,q=typeof le=="function"?le.call(ke,K,q):le,q==null)break e;K=S({},K,q);break e;case 2:kn=!0}}q=_.callback,q!==null&&(e.flags|=64,B&&(e.flags|=8192),B=p.callbacks,B===null?p.callbacks=[q]:B.push(q))}else B={lane:q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},J===null?(G=J=B,b=K):J=J.next=B,T|=q;if(_=_.next,_===null){if(_=p.shared.pending,_===null)break;B=_,_=B.next,B.next=null,p.lastBaseUpdate=B,p.shared.pending=null}}while(!0);J===null&&(b=K),p.baseState=b,p.firstBaseUpdate=G,p.lastBaseUpdate=J,g===null&&(p.shared.lanes=0),On|=T,e.lanes=T,e.memoizedState=K}}function Xf(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function $f(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Xf(l[e],i)}var Ji=N(null),Zl=N(0);function Zf(e,i){e=Sn,W(Zl,e),W(Ji,i),Sn=e|i.baseLanes}function pr(){W(Zl,Sn),W(Ji,Ji.current)}function hr(){Sn=Zl.current,O(Ji),O(Zl)}var At=N(null),Ht=null;function Pn(e){var i=e.alternate;W(Ye,Ye.current&1),W(At,e),Ht===null&&(i===null||Ji.current!==null||i.memoizedState!==null)&&(Ht=e)}function mr(e){W(Ye,Ye.current),W(At,e),Ht===null&&(Ht=e)}function Wf(e){e.tag===22?(W(Ye,Ye.current),W(At,e),Ht===null&&(Ht=e)):qn()}function qn(){W(Ye,Ye.current),W(At,At.current)}function Nt(e){O(At),Ht===e&&(Ht=null),O(Ye)}var Ye=N(0);function Wl(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Eu(l)||xu(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fn=0,me=null,Ue=null,Xe=null,jl=!1,Yi=!1,mi=!1,ea=0,Oo=0,Qi=null,dv=0;function Fe(){throw Error(a(321))}function gr(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!_t(e[l],i[l]))return!1;return!0}function yr(e,i,l,r,p,g){return fn=g,me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=e===null||e.memoizedState===null?kd:Dr,mi=!1,g=l(r,p),mi=!1,Yi&&(g=ed(i,l,r,p)),jf(e),g}function jf(e){w.H=Jo;var i=Ue!==null&&Ue.next!==null;if(fn=0,Xe=Ue=me=null,jl=!1,Oo=0,Qi=null,i)throw Error(a(300));e===null||$e||(e=e.dependencies,e!==null&&Fl(e)&&($e=!0))}function ed(e,i,l,r){me=e;var p=0;do{if(Yi&&(Qi=null),Oo=0,Yi=!1,25<=p)throw Error(a(301));if(p+=1,Xe=Ue=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}w.H=Gd,g=i(l,r)}while(Yi);return g}function pv(){var e=w.H,i=e.useState()[0];return i=typeof i.then=="function"?Bo(i):i,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(me.flags|=1024),i}function vr(){var e=ea!==0;return ea=0,e}function Sr(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function Tr(e){if(jl){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}jl=!1}fn=0,Xe=Ue=me=null,Yi=!1,Oo=ea=0,Qi=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?me.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Qe(){if(Ue===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var i=Xe===null?me.memoizedState:Xe.next;if(i!==null)Xe=i,Ue=e;else{if(e===null)throw me.alternate===null?Error(a(467)):Error(a(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Xe===null?me.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function ta(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var i=Oo;return Oo+=1,Qi===null&&(Qi=[]),e=Ff(Qi,e,i),i=me,(Xe===null?i.memoizedState:Xe.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?kd:Dr),e}function na(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===P)return ot(e)}throw Error(a(438,String(e)))}function Er(e){var i=null,l=me.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var r=me.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=ta(),me.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),r=0;r<e;r++)l[r]=ce;return i.index++,l}function dn(e,i){return typeof i=="function"?i(e):i}function ia(e){var i=Qe();return xr(i,Ue,e)}function xr(e,i,l){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=l;var p=e.baseQueue,g=r.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}i.baseQueue=p=g,r.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{i=p.next;var _=T=null,b=null,G=i,J=!1;do{var K=G.lane&-536870913;if(K!==G.lane?(Ee&K)===K:(fn&K)===K){var q=G.revertLane;if(q===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),K===Vi&&(J=!0);else if((fn&q)===q){G=G.next,q===Vi&&(J=!0);continue}else K={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},b===null?(_=b=K,T=g):b=b.next=K,me.lanes|=q,On|=q;K=G.action,mi&&l(g,K),g=G.hasEagerState?G.eagerState:l(g,K)}else q={lane:K,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},b===null?(_=b=q,T=g):b=b.next=q,me.lanes|=K,On|=K;G=G.next}while(G!==null&&G!==i);if(b===null?T=g:b.next=_,!_t(g,e.memoizedState)&&($e=!0,J&&(l=Oi,l!==null)))throw l;e.memoizedState=g,e.baseState=T,e.baseQueue=b,r.lastRenderedState=g}return p===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function _r(e){var i=Qe(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var r=l.dispatch,p=l.pending,g=i.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do g=e(g,T.action),T=T.next;while(T!==p);_t(g,i.memoizedState)||($e=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,r]}function td(e,i,l){var r=me,p=Qe(),g=_e;if(g){if(l===void 0)throw Error(a(407));l=l()}else l=i();var T=!_t((Ue||p).memoizedState,l);if(T&&(p.memoizedState=l,$e=!0),p=p.queue,Nr(od.bind(null,r,p,e),[e]),p.getSnapshot!==i||T||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,Ki(9,{destroy:void 0},id.bind(null,r,p,l,i),null),Pe===null)throw Error(a(349));g||(fn&127)!==0||nd(r,i,l)}return l}function nd(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=me.updateQueue,i===null?(i=ta(),me.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function id(e,i,l,r){i.value=l,i.getSnapshot=r,ld(i)&&ad(e)}function od(e,i,l){return l(function(){ld(i)&&ad(e)})}function ld(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!_t(e,l)}catch{return!0}}function ad(e){var i=ai(e,2);i!==null&&vt(i,e,2)}function Cr(e){var i=ut();if(typeof e=="function"){var l=e;if(e=l(),mi){Rn(!0);try{l()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:e},i}function sd(e,i,l,r){return e.baseState=l,xr(e,Ue,typeof r=="function"?r:dn)}function hv(e,i,l,r,p){if(aa(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};w.T!==null?l(!0):g.isTransition=!1,r(g),l=i.pending,l===null?(g.next=i.pending=g,rd(i,g)):(g.next=l.next,i.pending=l.next=g)}}function rd(e,i){var l=i.action,r=i.payload,p=e.state;if(i.isTransition){var g=w.T,T={};w.T=T;try{var _=l(p,r),b=w.S;b!==null&&b(T,_),ud(e,i,_)}catch(G){Ar(e,i,G)}finally{g!==null&&T.types!==null&&(g.types=T.types),w.T=g}}else try{g=l(p,r),ud(e,i,g)}catch(G){Ar(e,i,G)}}function ud(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){cd(e,i,r)},function(r){return Ar(e,i,r)}):cd(e,i,l)}function cd(e,i,l){i.status="fulfilled",i.value=l,fd(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,rd(e,l)))}function Ar(e,i,l){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=l,fd(i),i=i.next;while(i!==r)}e.action=null}function fd(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function dd(e,i){return i}function pd(e,i){if(_e){var l=Pe.formState;if(l!==null){e:{var r=me;if(_e){if(qe){t:{for(var p=qe,g=Gt;p.nodeType!==8;){if(!g){p=null;break t}if(p=Pt(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){qe=Pt(p.nextSibling),r=p.data==="F!";break e}}Un(r)}r=!1}r&&(i=l[0])}}return l=ut(),l.memoizedState=l.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:i},l.queue=r,l=Dd.bind(null,me,r),r.dispatch=l,r=Cr(!1),g=Ir.bind(null,me,!1,r.queue),r=ut(),p={state:i,dispatch:null,action:e,pending:null},r.queue=p,l=hv.bind(null,me,p,g,l),p.dispatch=l,r.memoizedState=e,[i,l,!1]}function hd(e){var i=Qe();return md(i,Ue,e)}function md(e,i,l){if(i=xr(e,i,dd)[0],e=ia(dn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Bo(i)}catch(T){throw T===Bi?Ql:T}else r=i;i=Qe();var p=i.queue,g=p.dispatch;return l!==i.memoizedState&&(me.flags|=2048,Ki(9,{destroy:void 0},mv.bind(null,p,l),null)),[r,g,e]}function mv(e,i){e.action=i}function gd(e){var i=Qe(),l=Ue;if(l!==null)return md(i,l,e);Qe(),i=i.memoizedState,l=Qe();var r=l.queue.dispatch;return l.memoizedState=e,[i,r,!1]}function Ki(e,i,l,r){return e={tag:e,create:l,deps:r,inst:i,next:null},i=me.updateQueue,i===null&&(i=ta(),me.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(r=l.next,l.next=e,e.next=r,i.lastEffect=e),e}function yd(){return Qe().memoizedState}function oa(e,i,l,r){var p=ut();me.flags|=e,p.memoizedState=Ki(1|i,{destroy:void 0},l,r===void 0?null:r)}function la(e,i,l,r){var p=Qe();r=r===void 0?null:r;var g=p.memoizedState.inst;Ue!==null&&r!==null&&gr(r,Ue.memoizedState.deps)?p.memoizedState=Ki(i,g,l,r):(me.flags|=e,p.memoizedState=Ki(1|i,g,l,r))}function vd(e,i){oa(8390656,8,e,i)}function Nr(e,i){la(2048,8,e,i)}function gv(e){me.flags|=4;var i=me.updateQueue;if(i===null)i=ta(),me.updateQueue=i,i.events=[e];else{var l=i.events;l===null?i.events=[e]:l.push(e)}}function Sd(e){var i=Qe().memoizedState;return gv({ref:i,nextImpl:e}),function(){if((Me&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Td(e,i){return la(4,2,e,i)}function Ed(e,i){return la(4,4,e,i)}function xd(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function _d(e,i,l){l=l!=null?l.concat([e]):null,la(4,4,xd.bind(null,i,e),l)}function br(){}function Cd(e,i){var l=Qe();i=i===void 0?null:i;var r=l.memoizedState;return i!==null&&gr(i,r[1])?r[0]:(l.memoizedState=[e,i],e)}function Ad(e,i){var l=Qe();i=i===void 0?null:i;var r=l.memoizedState;if(i!==null&&gr(i,r[1]))return r[0];if(r=e(),mi){Rn(!0);try{e()}finally{Rn(!1)}}return l.memoizedState=[r,i],r}function Rr(e,i,l){return l===void 0||(fn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=i:(e.memoizedState=l,e=Np(),me.lanes|=e,On|=e,l)}function Nd(e,i,l,r){return _t(l,i)?l:Ji.current!==null?(e=Rr(e,l,r),_t(e,i)||($e=!0),e):(fn&42)===0||(fn&1073741824)!==0&&(Ee&261930)===0?($e=!0,e.memoizedState=l):(e=Np(),me.lanes|=e,On|=e,i)}function bd(e,i,l,r,p){var g=Q.p;Q.p=g!==0&&8>g?g:8;var T=w.T,_={};w.T=_,Ir(e,!1,i,l);try{var b=p(),G=w.S;if(G!==null&&G(_,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var J=fv(b,r);Fo(e,i,J,Mt(e))}else Fo(e,i,r,Mt(e))}catch(K){Fo(e,i,{then:function(){},status:"rejected",reason:K},Mt())}finally{Q.p=g,T!==null&&_.types!==null&&(T.types=_.types),w.T=T}}function yv(){}function Mr(e,i,l,r){if(e.tag!==5)throw Error(a(476));var p=Rd(e).queue;bd(e,p,i,Z,l===null?yv:function(){return Md(e),l(r)})}function Rd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:Z},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Md(e){var i=Rd(e);i.next===null&&(i=e.alternate.memoizedState),Fo(e,i.next.queue,{},Mt())}function wr(){return ot(sl)}function wd(){return Qe().memoizedState}function Id(){return Qe().memoizedState}function vv(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=Mt();e=Gn(l);var r=Hn(i,e,l);r!==null&&(vt(r,i,l),qo(r,i,l)),i={cache:lr()},e.payload=i;return}i=i.return}}function Sv(e,i,l){var r=Mt();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},aa(e)?Ud(i,l):(l=Ks(e,i,l,r),l!==null&&(vt(l,e,r),Ld(l,i,r)))}function Dd(e,i,l){var r=Mt();Fo(e,i,l,r)}function Fo(e,i,l,r){var p={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(aa(e))Ud(i,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,_=g(T,l);if(p.hasEagerState=!0,p.eagerState=_,_t(_,T))return zl(e,i,p,0),Pe===null&&ql(),!1}catch{}finally{}if(l=Ks(e,i,p,r),l!==null)return vt(l,e,r),Ld(l,i,r),!0}return!1}function Ir(e,i,l,r){if(r={lane:2,revertLane:uu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},aa(e)){if(i)throw Error(a(479))}else i=Ks(e,l,r,2),i!==null&&vt(i,e,2)}function aa(e){var i=e.alternate;return e===me||i!==null&&i===me}function Ud(e,i){Yi=jl=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function Ld(e,i,l){if((l&4194048)!==0){var r=i.lanes;r&=e.pendingLanes,l|=r,i.lanes=l,Pc(e,l)}}var Jo={readContext:ot,use:na,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Jo.useEffectEvent=Fe;var kd={readContext:ot,use:na,useCallback:function(e,i){return ut().memoizedState=[e,i===void 0?null:i],e},useContext:ot,useEffect:vd,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,oa(4194308,4,xd.bind(null,i,e),l)},useLayoutEffect:function(e,i){return oa(4194308,4,e,i)},useInsertionEffect:function(e,i){oa(4,2,e,i)},useMemo:function(e,i){var l=ut();i=i===void 0?null:i;var r=e();if(mi){Rn(!0);try{e()}finally{Rn(!1)}}return l.memoizedState=[r,i],r},useReducer:function(e,i,l){var r=ut();if(l!==void 0){var p=l(i);if(mi){Rn(!0);try{l(i)}finally{Rn(!1)}}}else p=i;return r.memoizedState=r.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},r.queue=e,e=e.dispatch=Sv.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var i=ut();return e={current:e},i.memoizedState=e},useState:function(e){e=Cr(e);var i=e.queue,l=Dd.bind(null,me,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:br,useDeferredValue:function(e,i){var l=ut();return Rr(l,e,i)},useTransition:function(){var e=Cr(!1);return e=bd.bind(null,me,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var r=me,p=ut();if(_e){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),Pe===null)throw Error(a(349));(Ee&127)!==0||nd(r,i,l)}p.memoizedState=l;var g={value:l,getSnapshot:i};return p.queue=g,vd(od.bind(null,r,g,e),[e]),r.flags|=2048,Ki(9,{destroy:void 0},id.bind(null,r,g,l,i),null),l},useId:function(){var e=ut(),i=Pe.identifierPrefix;if(_e){var l=Wt,r=Zt;l=(r&~(1<<32-xt(r)-1)).toString(32)+l,i="_"+i+"R_"+l,l=ea++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=dv++,i="_"+i+"r_"+l.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:wr,useFormState:pd,useActionState:pd,useOptimistic:function(e){var i=ut();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Ir.bind(null,me,!0,l),l.dispatch=i,[e,i]},useMemoCache:Er,useCacheRefresh:function(){return ut().memoizedState=vv.bind(null,me)},useEffectEvent:function(e){var i=ut(),l={impl:e};return i.memoizedState=l,function(){if((Me&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Dr={readContext:ot,use:na,useCallback:Cd,useContext:ot,useEffect:Nr,useImperativeHandle:_d,useInsertionEffect:Td,useLayoutEffect:Ed,useMemo:Ad,useReducer:ia,useRef:yd,useState:function(){return ia(dn)},useDebugValue:br,useDeferredValue:function(e,i){var l=Qe();return Nd(l,Ue.memoizedState,e,i)},useTransition:function(){var e=ia(dn)[0],i=Qe().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:td,useId:wd,useHostTransitionStatus:wr,useFormState:hd,useActionState:hd,useOptimistic:function(e,i){var l=Qe();return sd(l,Ue,e,i)},useMemoCache:Er,useCacheRefresh:Id};Dr.useEffectEvent=Sd;var Gd={readContext:ot,use:na,useCallback:Cd,useContext:ot,useEffect:Nr,useImperativeHandle:_d,useInsertionEffect:Td,useLayoutEffect:Ed,useMemo:Ad,useReducer:_r,useRef:yd,useState:function(){return _r(dn)},useDebugValue:br,useDeferredValue:function(e,i){var l=Qe();return Ue===null?Rr(l,e,i):Nd(l,Ue.memoizedState,e,i)},useTransition:function(){var e=_r(dn)[0],i=Qe().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:td,useId:wd,useHostTransitionStatus:wr,useFormState:gd,useActionState:gd,useOptimistic:function(e,i){var l=Qe();return Ue!==null?sd(l,Ue,e,i):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Er,useCacheRefresh:Id};Gd.useEffectEvent=Sd;function Ur(e,i,l,r){i=e.memoizedState,l=l(r,i),l=l==null?i:S({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Lr={enqueueSetState:function(e,i,l){e=e._reactInternals;var r=Mt(),p=Gn(r);p.payload=i,l!=null&&(p.callback=l),i=Hn(e,p,r),i!==null&&(vt(i,e,r),qo(i,e,r))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var r=Mt(),p=Gn(r);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=Hn(e,p,r),i!==null&&(vt(i,e,r),qo(i,e,r))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=Mt(),r=Gn(l);r.tag=2,i!=null&&(r.callback=i),i=Hn(e,r,l),i!==null&&(vt(i,e,l),qo(i,e,l))}};function Hd(e,i,l,r,p,g,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,g,T):i.prototype&&i.prototype.isPureReactComponent?!Io(l,r)||!Io(p,g):!0}function Pd(e,i,l,r){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,r),i.state!==e&&Lr.enqueueReplaceState(i,i.state,null)}function gi(e,i){var l=i;if("ref"in i){l={};for(var r in i)r!=="ref"&&(l[r]=i[r])}if(e=e.defaultProps){l===i&&(l=S({},l));for(var p in e)l[p]===void 0&&(l[p]=e[p])}return l}function qd(e){Pl(e)}function zd(e){console.error(e)}function Vd(e){Pl(e)}function sa(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Od(e,i,l){try{var r=e.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function kr(e,i,l){return l=Gn(l),l.tag=3,l.payload={element:null},l.callback=function(){sa(e,i)},l}function Bd(e){return e=Gn(e),e.tag=3,e}function Fd(e,i,l,r){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=r.value;e.payload=function(){return p(g)},e.callback=function(){Od(i,l,r)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Od(i,l,r),typeof p!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function Tv(e,i,l,r,p){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=l.alternate,i!==null&&zi(i,l,p,!0),l=At.current,l!==null){switch(l.tag){case 31:case 13:return Ht===null?Sa():l.alternate===null&&Je===0&&(Je=3),l.flags&=-257,l.flags|=65536,l.lanes=p,r===Kl?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([r]):i.add(r),au(e,r,p)),!1;case 22:return l.flags|=65536,r===Kl?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([r]):l.add(r)),au(e,r,p)),!1}throw Error(a(435,l.tag))}return au(e,r,p),Sa(),!1}if(_e)return i=At.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,r!==er&&(e=Error(a(422),{cause:r}),Lo(Ut(e,l)))):(r!==er&&(i=Error(a(423),{cause:r}),Lo(Ut(i,l))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,r=Ut(r,l),p=kr(e.stateNode,r,p),fr(e,p),Je!==4&&(Je=2)),!1;var g=Error(a(520),{cause:r});if(g=Ut(g,l),jo===null?jo=[g]:jo.push(g),Je!==4&&(Je=2),i===null)return!0;r=Ut(r,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=p&-p,l.lanes|=e,e=kr(l.stateNode,r,e),fr(l,e),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bn===null||!Bn.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Bd(p),Fd(p,e,l,r),fr(l,p),!1}l=l.return}while(l!==null);return!1}var Gr=Error(a(461)),$e=!1;function lt(e,i,l,r){i.child=e===null?Kf(i,null,l,r):hi(i,e.child,l,r)}function Jd(e,i,l,r,p){l=l.render;var g=i.ref;if("ref"in r){var T={};for(var _ in r)_!=="ref"&&(T[_]=r[_])}else T=r;return ci(i),r=yr(e,i,l,T,g,p),_=vr(),e!==null&&!$e?(Sr(e,i,p),pn(e,i,p)):(_e&&_&&Ws(i),i.flags|=1,lt(e,i,r,p),i.child)}function Yd(e,i,l,r,p){if(e===null){var g=l.type;return typeof g=="function"&&!Xs(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,Qd(e,i,g,r,p)):(e=Ol(l.type,null,r,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Fr(e,p)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:Io,l(T,r)&&e.ref===i.ref)return pn(e,i,p)}return i.flags|=1,e=sn(g,r),e.ref=i.ref,e.return=i,i.child=e}function Qd(e,i,l,r,p){if(e!==null){var g=e.memoizedProps;if(Io(g,r)&&e.ref===i.ref)if($e=!1,i.pendingProps=r=g,Fr(e,p))(e.flags&131072)!==0&&($e=!0);else return i.lanes=e.lanes,pn(e,i,p)}return Hr(e,i,l,r,p)}function Kd(e,i,l,r){var p=r.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,e!==null){for(r=i.child=e.child,p=0;r!==null;)p=p|r.lanes|r.childLanes,r=r.sibling;r=p&~g}else r=0,i.child=null;return Xd(e,i,g,l,r)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yl(i,g!==null?g.cachePool:null),g!==null?Zf(i,g):pr(),Wf(i);else return r=i.lanes=536870912,Xd(e,i,g!==null?g.baseLanes|l:l,l,r)}else g!==null?(Yl(i,g.cachePool),Zf(i,g),qn(),i.memoizedState=null):(e!==null&&Yl(i,null),pr(),qn());return lt(e,i,p,l),i.child}function Yo(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xd(e,i,l,r,p){var g=sr();return g=g===null?null:{parent:Ke._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},e!==null&&Yl(i,null),pr(),Wf(i),e!==null&&zi(e,i,r,!0),i.childLanes=p,null}function ra(e,i){return i=ca({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function $d(e,i,l){return hi(i,e.child,null,l),e=ra(i,i.pendingProps),e.flags|=2,Nt(i),i.memoizedState=null,e}function Ev(e,i,l){var r=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(_e){if(r.mode==="hidden")return e=ra(i,r),i.lanes=536870912,Yo(null,e);if(mr(i),(e=qe)?(e=rh(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:In!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},l=Uf(e),l.return=i,i.child=l,it=i,qe=null)):e=null,e===null)throw Un(i);return i.lanes=536870912,null}return ra(i,r)}var g=e.memoizedState;if(g!==null){var T=g.dehydrated;if(mr(i),p)if(i.flags&256)i.flags&=-257,i=$d(e,i,l);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if($e||zi(e,i,l,!1),p=(l&e.childLanes)!==0,$e||p){if(r=Pe,r!==null&&(T=qc(r,l),T!==0&&T!==g.retryLane))throw g.retryLane=T,ai(e,T),vt(r,e,T),Gr;Sa(),i=$d(e,i,l)}else e=g.treeContext,qe=Pt(T.nextSibling),it=i,_e=!0,Dn=null,Gt=!1,e!==null&&Gf(i,e),i=ra(i,r),i.flags|=4096;return i}return e=sn(e.child,{mode:r.mode,children:r.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ua(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(i.flags|=4194816)}}function Hr(e,i,l,r,p){return ci(i),l=yr(e,i,l,r,void 0,p),r=vr(),e!==null&&!$e?(Sr(e,i,p),pn(e,i,p)):(_e&&r&&Ws(i),i.flags|=1,lt(e,i,l,p),i.child)}function Zd(e,i,l,r,p,g){return ci(i),i.updateQueue=null,l=ed(i,r,l,p),jf(e),r=vr(),e!==null&&!$e?(Sr(e,i,g),pn(e,i,g)):(_e&&r&&Ws(i),i.flags|=1,lt(e,i,l,g),i.child)}function Wd(e,i,l,r,p){if(ci(i),i.stateNode===null){var g=Gi,T=l.contextType;typeof T=="object"&&T!==null&&(g=ot(T)),g=new l(r,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Lr,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=r,g.state=i.memoizedState,g.refs={},ur(i),T=l.contextType,g.context=typeof T=="object"&&T!==null?ot(T):Gi,g.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Ur(i,l,T,r),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Lr.enqueueReplaceState(g,g.state,null),Vo(i,r,g,p),zo(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(e===null){g=i.stateNode;var _=i.memoizedProps,b=gi(l,_);g.props=b;var G=g.context,J=l.contextType;T=Gi,typeof J=="object"&&J!==null&&(T=ot(J));var K=l.getDerivedStateFromProps;J=typeof K=="function"||typeof g.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_||G!==T)&&Pd(i,g,r,T),kn=!1;var q=i.memoizedState;g.state=q,Vo(i,r,g,p),zo(),G=i.memoizedState,_||q!==G||kn?(typeof K=="function"&&(Ur(i,l,K,r),G=i.memoizedState),(b=kn||Hd(i,l,b,r,q,G,T))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=G),g.props=r,g.state=G,g.context=T,r=b):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{g=i.stateNode,cr(e,i),T=i.memoizedProps,J=gi(l,T),g.props=J,K=i.pendingProps,q=g.context,G=l.contextType,b=Gi,typeof G=="object"&&G!==null&&(b=ot(G)),_=l.getDerivedStateFromProps,(G=typeof _=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==K||q!==b)&&Pd(i,g,r,b),kn=!1,q=i.memoizedState,g.state=q,Vo(i,r,g,p),zo();var B=i.memoizedState;T!==K||q!==B||kn||e!==null&&e.dependencies!==null&&Fl(e.dependencies)?(typeof _=="function"&&(Ur(i,l,_,r),B=i.memoizedState),(J=kn||Hd(i,l,J,r,q,B,b)||e!==null&&e.dependencies!==null&&Fl(e.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,B,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,B,b)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=B),g.props=r,g.state=B,g.context=b,r=J):(typeof g.componentDidUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),r=!1)}return g=r,ua(e,i),r=(i.flags&128)!==0,g||r?(g=i.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&r?(i.child=hi(i,e.child,null,p),i.child=hi(i,null,l,p)):lt(e,i,l,p),i.memoizedState=g.state,e=i.child):e=pn(e,i,p),e}function jd(e,i,l,r){return ri(),i.flags|=256,lt(e,i,l,r),i.child}var Pr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qr(e){return{baseLanes:e,cachePool:Of()}}function zr(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=Rt),e}function ep(e,i,l){var r=i.pendingProps,p=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),T&&(p=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(_e){if(p?Pn(i):qn(),(e=qe)?(e=rh(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:In!==null?{id:Zt,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},l=Uf(e),l.return=i,i.child=l,it=i,qe=null)):e=null,e===null)throw Un(i);return xu(e)?i.lanes=32:i.lanes=536870912,null}var _=r.children;return r=r.fallback,p?(qn(),p=i.mode,_=ca({mode:"hidden",children:_},p),r=si(r,p,l,null),_.return=i,r.return=i,_.sibling=r,i.child=_,r=i.child,r.memoizedState=qr(l),r.childLanes=zr(e,T,l),i.memoizedState=Pr,Yo(null,r)):(Pn(i),Vr(i,_))}var b=e.memoizedState;if(b!==null&&(_=b.dehydrated,_!==null)){if(g)i.flags&256?(Pn(i),i.flags&=-257,i=Or(e,i,l)):i.memoizedState!==null?(qn(),i.child=e.child,i.flags|=128,i=null):(qn(),_=r.fallback,p=i.mode,r=ca({mode:"visible",children:r.children},p),_=si(_,p,l,null),_.flags|=2,r.return=i,_.return=i,r.sibling=_,i.child=r,hi(i,e.child,null,l),r=i.child,r.memoizedState=qr(l),r.childLanes=zr(e,T,l),i.memoizedState=Pr,i=Yo(null,r));else if(Pn(i),xu(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var G=T.dgst;T=G,r=Error(a(419)),r.stack="",r.digest=T,Lo({value:r,source:null,stack:null}),i=Or(e,i,l)}else if($e||zi(e,i,l,!1),T=(l&e.childLanes)!==0,$e||T){if(T=Pe,T!==null&&(r=qc(T,l),r!==0&&r!==b.retryLane))throw b.retryLane=r,ai(e,r),vt(T,e,r),Gr;Eu(_)||Sa(),i=Or(e,i,l)}else Eu(_)?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,qe=Pt(_.nextSibling),it=i,_e=!0,Dn=null,Gt=!1,e!==null&&Gf(i,e),i=Vr(i,r.children),i.flags|=4096);return i}return p?(qn(),_=r.fallback,p=i.mode,b=e.child,G=b.sibling,r=sn(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,G!==null?_=sn(G,_):(_=si(_,p,l,null),_.flags|=2),_.return=i,r.return=i,r.sibling=_,i.child=r,Yo(null,r),r=i.child,_=e.child.memoizedState,_===null?_=qr(l):(p=_.cachePool,p!==null?(b=Ke._currentValue,p=p.parent!==b?{parent:b,pool:b}:p):p=Of(),_={baseLanes:_.baseLanes|l,cachePool:p}),r.memoizedState=_,r.childLanes=zr(e,T,l),i.memoizedState=Pr,Yo(e.child,r)):(Pn(i),l=e.child,e=l.sibling,l=sn(l,{mode:"visible",children:r.children}),l.return=i,l.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=l,i.memoizedState=null,l)}function Vr(e,i){return i=ca({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ca(e,i){return e=Ct(22,e,null,i),e.lanes=0,e}function Or(e,i,l){return hi(i,e.child,null,l),e=Vr(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function tp(e,i,l){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i),ir(e.return,i,l)}function Br(e,i,l,r,p,g){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:p,treeForkCount:g}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=r,T.tail=l,T.tailMode=p,T.treeForkCount=g)}function np(e,i,l){var r=i.pendingProps,p=r.revealOrder,g=r.tail;r=r.children;var T=Ye.current,_=(T&2)!==0;if(_?(T=T&1|2,i.flags|=128):T&=1,W(Ye,T),lt(e,i,r,l),r=_e?Uo:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tp(e,l,i);else if(e.tag===19)tp(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)e=l.alternate,e!==null&&Wl(e)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Br(i,!1,p,l,g,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&Wl(e)===null){i.child=p;break}e=p.sibling,p.sibling=l,l=p,p=e}Br(i,!0,l,null,g,r);break;case"together":Br(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function pn(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),On|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(zi(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,l=sn(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=sn(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function Fr(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Fl(e)))}function xv(e,i,l){switch(i.tag){case 3:oe(i,i.stateNode.containerInfo),Ln(i,Ke,e.memoizedState.cache),ri();break;case 27:case 5:Oe(i);break;case 4:oe(i,i.stateNode.containerInfo);break;case 10:Ln(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,mr(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(Pn(i),i.flags|=128,null):(l&i.child.childLanes)!==0?ep(e,i,l):(Pn(i),e=pn(e,i,l),e!==null?e.sibling:null);Pn(i);break;case 19:var p=(e.flags&128)!==0;if(r=(l&i.childLanes)!==0,r||(zi(e,i,l,!1),r=(l&i.childLanes)!==0),p){if(r)return np(e,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(Ye,Ye.current),r)break;return null;case 22:return i.lanes=0,Kd(e,i,l,i.pendingProps);case 24:Ln(i,Ke,e.memoizedState.cache)}return pn(e,i,l)}function ip(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)$e=!0;else{if(!Fr(e,l)&&(i.flags&128)===0)return $e=!1,xv(e,i,l);$e=(e.flags&131072)!==0}else $e=!1,_e&&(i.flags&1048576)!==0&&kf(i,Uo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(e=di(i.elementType),i.type=e,typeof e=="function")Xs(e)?(r=gi(e,r),i.tag=1,i=Wd(null,i,e,r,l)):(i.tag=0,i=Hr(null,i,e,r,l));else{if(e!=null){var p=e.$$typeof;if(p===L){i.tag=11,i=Jd(null,i,e,r,l);break e}else if(p===$){i.tag=14,i=Yd(null,i,e,r,l);break e}}throw i=Ce(e)||e,Error(a(306,i,""))}}return i;case 0:return Hr(e,i,i.type,i.pendingProps,l);case 1:return r=i.type,p=gi(r,i.pendingProps),Wd(e,i,r,p,l);case 3:e:{if(oe(i,i.stateNode.containerInfo),e===null)throw Error(a(387));r=i.pendingProps;var g=i.memoizedState;p=g.element,cr(e,i),Vo(i,r,null,l);var T=i.memoizedState;if(r=T.cache,Ln(i,Ke,r),r!==g.cache&&or(i,[Ke],l,!0),zo(),r=T.element,g.isDehydrated)if(g={element:r,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=jd(e,i,r,l);break e}else if(r!==p){p=Ut(Error(a(424)),i),Lo(p),i=jd(e,i,r,l);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Pt(e.firstChild),it=i,_e=!0,Dn=null,Gt=!0,l=Kf(i,null,r,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ri(),r===p){i=pn(e,i,l);break e}lt(e,i,r,l)}i=i.child}return i;case 26:return ua(e,i),e===null?(l=hh(i.type,null,i.pendingProps,null))?i.memoizedState=l:_e||(l=i.type,e=i.pendingProps,r=Na(he.current).createElement(l),r[nt]=i,r[dt]=e,at(r,l,e),je(r),i.stateNode=r):i.memoizedState=hh(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Oe(i),e===null&&_e&&(r=i.stateNode=fh(i.type,i.pendingProps,he.current),it=i,Gt=!0,p=qe,Qn(i.type)?(_u=p,qe=Pt(r.firstChild)):qe=p),lt(e,i,i.pendingProps.children,l),ua(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&_e&&((p=r=qe)&&(r=Wv(r,i.type,i.pendingProps,Gt),r!==null?(i.stateNode=r,it=i,qe=Pt(r.firstChild),Gt=!1,p=!0):p=!1),p||Un(i)),Oe(i),p=i.type,g=i.pendingProps,T=e!==null?e.memoizedProps:null,r=g.children,vu(p,g)?r=null:T!==null&&vu(p,T)&&(i.flags|=32),i.memoizedState!==null&&(p=yr(e,i,pv,null,null,l),sl._currentValue=p),ua(e,i),lt(e,i,r,l),i.child;case 6:return e===null&&_e&&((e=l=qe)&&(l=jv(l,i.pendingProps,Gt),l!==null?(i.stateNode=l,it=i,qe=null,e=!0):e=!1),e||Un(i)),null;case 13:return ep(e,i,l);case 4:return oe(i,i.stateNode.containerInfo),r=i.pendingProps,e===null?i.child=hi(i,null,r,l):lt(e,i,r,l),i.child;case 11:return Jd(e,i,i.type,i.pendingProps,l);case 7:return lt(e,i,i.pendingProps,l),i.child;case 8:return lt(e,i,i.pendingProps.children,l),i.child;case 12:return lt(e,i,i.pendingProps.children,l),i.child;case 10:return r=i.pendingProps,Ln(i,i.type,r.value),lt(e,i,r.children,l),i.child;case 9:return p=i.type._context,r=i.pendingProps.children,ci(i),p=ot(p),r=r(p),i.flags|=1,lt(e,i,r,l),i.child;case 14:return Yd(e,i,i.type,i.pendingProps,l);case 15:return Qd(e,i,i.type,i.pendingProps,l);case 19:return np(e,i,l);case 31:return Ev(e,i,l);case 22:return Kd(e,i,l,i.pendingProps);case 24:return ci(i),r=ot(Ke),e===null?(p=sr(),p===null&&(p=Pe,g=lr(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),i.memoizedState={parent:r,cache:p},ur(i),Ln(i,Ke,p)):((e.lanes&l)!==0&&(cr(e,i),Vo(i,null,null,l),zo()),p=e.memoizedState,g=i.memoizedState,p.parent!==r?(p={parent:r,cache:r},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Ln(i,Ke,r)):(r=g.cache,Ln(i,Ke,r),r!==p.cache&&or(i,[Ke],l,!0))),lt(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function hn(e){e.flags|=4}function Jr(e,i,l,r,p){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(wp())e.flags|=8192;else throw pi=Kl,rr}else e.flags&=-16777217}function op(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sh(i))if(wp())e.flags|=8192;else throw pi=Kl,rr}function fa(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Gc():536870912,e.lanes|=i,Wi|=i)}function Qo(e,i){if(!_e)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,r=0;if(i)for(var p=e.child;p!==null;)l|=p.lanes|p.childLanes,r|=p.subtreeFlags&65011712,r|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)l|=p.lanes|p.childLanes,r|=p.subtreeFlags,r|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=r,e.childLanes=l,i}function _v(e,i,l){var r=i.pendingProps;switch(js(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(i),null;case 1:return ze(i),null;case 3:return l=i.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),cn(Ke),ve(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(qi(i)?hn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,tr())),ze(i),null;case 26:var p=i.type,g=i.memoizedState;return e===null?(hn(i),g!==null?(ze(i),op(i,g)):(ze(i),Jr(i,p,null,r,l))):g?g!==e.memoizedState?(hn(i),ze(i),op(i,g)):(ze(i),i.flags&=-16777217):(e=e.memoizedProps,e!==r&&hn(i),ze(i),Jr(i,p,e,r,l)),null;case 27:if(St(i),l=he.current,p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&hn(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return ze(i),null}e=te.current,qi(i)?Hf(i):(e=fh(p,r,l),i.stateNode=e,hn(i))}return ze(i),null;case 5:if(St(i),p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&hn(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return ze(i),null}if(g=te.current,qi(i))Hf(i);else{var T=Na(he.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof r.is=="string"?T.createElement("select",{is:r.is}):T.createElement("select"),r.multiple?g.multiple=!0:r.size&&(g.size=r.size);break;default:g=typeof r.is=="string"?T.createElement(p,{is:r.is}):T.createElement(p)}}g[nt]=i,g[dt]=r;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=g;e:switch(at(g,p,r),p){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&hn(i)}}return ze(i),Jr(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,l),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==r&&hn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(a(166));if(e=he.current,qi(i)){if(e=i.stateNode,l=i.memoizedProps,r=null,p=it,p!==null)switch(p.tag){case 27:case 5:r=p.memoizedProps}e[nt]=i,e=!!(e.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||eh(e.nodeValue,l)),e||Un(i,!0)}else e=Na(e).createTextNode(r),e[nt]=i,i.stateNode=e}return ze(i),null;case 31:if(l=i.memoizedState,e===null||e.memoizedState!==null){if(r=qi(i),l!==null){if(e===null){if(!r)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[nt]=i}else ri(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ze(i),e=!1}else l=tr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return i.flags&256?(Nt(i),i):(Nt(i),null);if((i.flags&128)!==0)throw Error(a(558))}return ze(i),null;case 13:if(r=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=qi(i),r!==null&&r.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[nt]=i}else ri(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ze(i),p=!1}else p=tr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Nt(i),i):(Nt(i),null)}return Nt(i),(i.flags&128)!==0?(i.lanes=l,i):(l=r!==null,e=e!==null&&e.memoizedState!==null,l&&(r=i.child,p=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(p=r.alternate.memoizedState.cachePool.pool),g=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==p&&(r.flags|=2048)),l!==e&&l&&(i.child.flags|=8192),fa(i,i.updateQueue),ze(i),null);case 4:return ve(),e===null&&pu(i.stateNode.containerInfo),ze(i),null;case 10:return cn(i.type),ze(i),null;case 19:if(O(Ye),r=i.memoizedState,r===null)return ze(i),null;if(p=(i.flags&128)!==0,g=r.rendering,g===null)if(p)Qo(r,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=Wl(e),g!==null){for(i.flags|=128,Qo(r,!1),e=g.updateQueue,i.updateQueue=e,fa(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)Df(l,e),l=l.sibling;return W(Ye,Ye.current&1|2),_e&&rn(i,r.treeForkCount),i.child}e=e.sibling}r.tail!==null&&Tt()>ga&&(i.flags|=128,p=!0,Qo(r,!1),i.lanes=4194304)}else{if(!p)if(e=Wl(g),e!==null){if(i.flags|=128,p=!0,e=e.updateQueue,i.updateQueue=e,fa(i,e),Qo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!g.alternate&&!_e)return ze(i),null}else 2*Tt()-r.renderingStartTime>ga&&l!==536870912&&(i.flags|=128,p=!0,Qo(r,!1),i.lanes=4194304);r.isBackwards?(g.sibling=i.child,i.child=g):(e=r.last,e!==null?e.sibling=g:i.child=g,r.last=g)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Tt(),e.sibling=null,l=Ye.current,W(Ye,p?l&1|2:l&1),_e&&rn(i,r.treeForkCount),e):(ze(i),null);case 22:case 23:return Nt(i),hr(),r=i.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(l&536870912)!==0&&(i.flags&128)===0&&(ze(i),i.subtreeFlags&6&&(i.flags|=8192)):ze(i),l=i.updateQueue,l!==null&&fa(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(i.flags|=2048),e!==null&&O(fi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),cn(Ke),ze(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Cv(e,i){switch(js(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return cn(Ke),ve(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return St(i),null;case 31:if(i.memoizedState!==null){if(Nt(i),i.alternate===null)throw Error(a(340));ri()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Nt(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ri()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return O(Ye),null;case 4:return ve(),null;case 10:return cn(i.type),null;case 22:case 23:return Nt(i),hr(),e!==null&&O(fi),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return cn(Ke),null;case 25:return null;default:return null}}function lp(e,i){switch(js(i),i.tag){case 3:cn(Ke),ve();break;case 26:case 27:case 5:St(i);break;case 4:ve();break;case 31:i.memoizedState!==null&&Nt(i);break;case 13:Nt(i);break;case 19:O(Ye);break;case 10:cn(i.type);break;case 22:case 23:Nt(i),hr(),e!==null&&O(fi);break;case 24:cn(Ke)}}function Ko(e,i){try{var l=i.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var p=r.next;l=p;do{if((l.tag&e)===e){r=void 0;var g=l.create,T=l.inst;r=g(),T.destroy=r}l=l.next}while(l!==p)}}catch(_){Ie(i,i.return,_)}}function zn(e,i,l){try{var r=i.updateQueue,p=r!==null?r.lastEffect:null;if(p!==null){var g=p.next;r=g;do{if((r.tag&e)===e){var T=r.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,p=i;var b=l,G=_;try{G()}catch(J){Ie(p,b,J)}}}r=r.next}while(r!==g)}}catch(J){Ie(i,i.return,J)}}function ap(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{$f(i,l)}catch(r){Ie(e,e.return,r)}}}function sp(e,i,l){l.props=gi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(r){Ie(e,i,r)}}function Xo(e,i){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof l=="function"?e.refCleanup=l(r):l.current=r}}catch(p){Ie(e,i,p)}}function jt(e,i){var l=e.ref,r=e.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(p){Ie(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ie(e,i,p)}else l.current=null}function rp(e){var i=e.type,l=e.memoizedProps,r=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(p){Ie(e,e.return,p)}}function Yr(e,i,l){try{var r=e.stateNode;Yv(r,e.type,l,i),r[dt]=i}catch(p){Ie(e,e.return,p)}}function up(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qn(e.type)||e.tag===4}function Qr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kr(e,i,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(e),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ln));else if(r!==4&&(r===27&&Qn(e.type)&&(l=e.stateNode,i=null),e=e.child,e!==null))for(Kr(e,i,l),e=e.sibling;e!==null;)Kr(e,i,l),e=e.sibling}function da(e,i,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(r!==4&&(r===27&&Qn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(da(e,i,l),e=e.sibling;e!==null;)da(e,i,l),e=e.sibling}function cp(e){var i=e.stateNode,l=e.memoizedProps;try{for(var r=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);at(i,r,l),i[nt]=e,i[dt]=l}catch(g){Ie(e,e.return,g)}}var mn=!1,Ze=!1,Xr=!1,fp=typeof WeakSet=="function"?WeakSet:Set,et=null;function Av(e,i){if(e=e.containerInfo,gu=Ua,e=_f(e),Os(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var p=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,_=-1,b=-1,G=0,J=0,K=e,q=null;t:for(;;){for(var B;K!==l||p!==0&&K.nodeType!==3||(_=T+p),K!==g||r!==0&&K.nodeType!==3||(b=T+r),K.nodeType===3&&(T+=K.nodeValue.length),(B=K.firstChild)!==null;)q=K,K=B;for(;;){if(K===e)break t;if(q===l&&++G===p&&(_=T),q===g&&++J===r&&(b=T),(B=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=B}l=_===-1||b===-1?null:{start:_,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(yu={focusedElem:e,selectionRange:l},Ua=!1,et=i;et!==null;)if(i=et,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,et=e;else for(;et!==null;){switch(i=et,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)p=e[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,l=i,p=g.memoizedProps,g=g.memoizedState,r=l.stateNode;try{var le=gi(l.type,p);e=r.getSnapshotBeforeUpdate(le,g),r.__reactInternalSnapshotBeforeUpdate=e}catch(ue){Ie(l,l.return,ue)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)Tu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,et=e;break}et=i.return}}function dp(e,i,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:yn(e,l),r&4&&Ko(5,l);break;case 1:if(yn(e,l),r&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(T){Ie(l,l.return,T)}else{var p=gi(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ie(l,l.return,T)}}r&64&&ap(l),r&512&&Xo(l,l.return);break;case 3:if(yn(e,l),r&64&&(e=l.updateQueue,e!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{$f(e,i)}catch(T){Ie(l,l.return,T)}}break;case 27:i===null&&r&4&&cp(l);case 26:case 5:yn(e,l),i===null&&r&4&&rp(l),r&512&&Xo(l,l.return);break;case 12:yn(e,l);break;case 31:yn(e,l),r&4&&mp(e,l);break;case 13:yn(e,l),r&4&&gp(e,l),r&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Lv.bind(null,l),eS(e,l))));break;case 22:if(r=l.memoizedState!==null||mn,!r){i=i!==null&&i.memoizedState!==null||Ze,p=mn;var g=Ze;mn=r,(Ze=i)&&!g?vn(e,l,(l.subtreeFlags&8772)!==0):yn(e,l),mn=p,Ze=g}break;case 30:break;default:yn(e,l)}}function pp(e){var i=e.alternate;i!==null&&(e.alternate=null,pp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&As(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,ht=!1;function gn(e,i,l){for(l=l.child;l!==null;)hp(e,i,l),l=l.sibling}function hp(e,i,l){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(So,l)}catch{}switch(l.tag){case 26:Ze||jt(l,i),gn(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ze||jt(l,i);var r=Ve,p=ht;Qn(l.type)&&(Ve=l.stateNode,ht=!1),gn(e,i,l),ol(l.stateNode),Ve=r,ht=p;break;case 5:Ze||jt(l,i);case 6:if(r=Ve,p=ht,Ve=null,gn(e,i,l),Ve=r,ht=p,Ve!==null)if(ht)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(l.stateNode)}catch(g){Ie(l,i,g)}else try{Ve.removeChild(l.stateNode)}catch(g){Ie(l,i,g)}break;case 18:Ve!==null&&(ht?(e=Ve,ah(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ao(e)):ah(Ve,l.stateNode));break;case 4:r=Ve,p=ht,Ve=l.stateNode.containerInfo,ht=!0,gn(e,i,l),Ve=r,ht=p;break;case 0:case 11:case 14:case 15:zn(2,l,i),Ze||zn(4,l,i),gn(e,i,l);break;case 1:Ze||(jt(l,i),r=l.stateNode,typeof r.componentWillUnmount=="function"&&sp(l,i,r)),gn(e,i,l);break;case 21:gn(e,i,l);break;case 22:Ze=(r=Ze)||l.memoizedState!==null,gn(e,i,l),Ze=r;break;default:gn(e,i,l)}}function mp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ao(e)}catch(l){Ie(i,i.return,l)}}}function gp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ao(e)}catch(l){Ie(i,i.return,l)}}function Nv(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new fp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new fp),i;default:throw Error(a(435,e.tag))}}function pa(e,i){var l=Nv(e);i.forEach(function(r){if(!l.has(r)){l.add(r);var p=kv.bind(null,e,r);r.then(p,p)}})}function mt(e,i){var l=i.deletions;if(l!==null)for(var r=0;r<l.length;r++){var p=l[r],g=e,T=i,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Qn(_.type)){Ve=_.stateNode,ht=!1;break e}break;case 5:Ve=_.stateNode,ht=!1;break e;case 3:case 4:Ve=_.stateNode.containerInfo,ht=!0;break e}_=_.return}if(Ve===null)throw Error(a(160));hp(g,T,p),Ve=null,ht=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)yp(i,e),i=i.sibling}var Ft=null;function yp(e,i){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(i,e),gt(e),r&4&&(zn(3,e,e.return),Ko(3,e),zn(5,e,e.return));break;case 1:mt(i,e),gt(e),r&512&&(Ze||l===null||jt(l,l.return)),r&64&&mn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var p=Ft;if(mt(i,e),gt(e),r&512&&(Ze||l===null||jt(l,l.return)),r&4){var g=l!==null?l.memoizedState:null;if(r=e.memoizedState,l===null)if(r===null)if(e.stateNode===null){e:{r=e.type,l=e.memoizedProps,p=p.ownerDocument||p;t:switch(r){case"title":g=p.getElementsByTagName("title")[0],(!g||g[xo]||g[nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(r),p.head.insertBefore(g,p.querySelector("head > title"))),at(g,r,l),g[nt]=e,je(g),r=g;break e;case"link":var T=yh("link","href",p).get(r+(l.href||""));if(T){for(var _=0;_<T.length;_++)if(g=T[_],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(_,1);break t}}g=p.createElement(r),at(g,r,l),p.head.appendChild(g);break;case"meta":if(T=yh("meta","content",p).get(r+(l.content||""))){for(_=0;_<T.length;_++)if(g=T[_],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(_,1);break t}}g=p.createElement(r),at(g,r,l),p.head.appendChild(g);break;default:throw Error(a(468,r))}g[nt]=e,je(g),r=g}e.stateNode=r}else vh(p,e.type,e.stateNode);else e.stateNode=gh(p,r,e.memoizedProps);else g!==r?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,r===null?vh(p,e.type,e.stateNode):gh(p,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Yr(e,e.memoizedProps,l.memoizedProps)}break;case 27:mt(i,e),gt(e),r&512&&(Ze||l===null||jt(l,l.return)),l!==null&&r&4&&Yr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(mt(i,e),gt(e),r&512&&(Ze||l===null||jt(l,l.return)),e.flags&32){p=e.stateNode;try{Mi(p,"")}catch(le){Ie(e,e.return,le)}}r&4&&e.stateNode!=null&&(p=e.memoizedProps,Yr(e,p,l!==null?l.memoizedProps:p)),r&1024&&(Xr=!0);break;case 6:if(mt(i,e),gt(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,l=e.stateNode;try{l.nodeValue=r}catch(le){Ie(e,e.return,le)}}break;case 3:if(Ma=null,p=Ft,Ft=ba(i.containerInfo),mt(i,e),Ft=p,gt(e),r&4&&l!==null&&l.memoizedState.isDehydrated)try{ao(i.containerInfo)}catch(le){Ie(e,e.return,le)}Xr&&(Xr=!1,vp(e));break;case 4:r=Ft,Ft=ba(e.stateNode.containerInfo),mt(i,e),gt(e),Ft=r;break;case 12:mt(i,e),gt(e);break;case 31:mt(i,e),gt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,pa(e,r)));break;case 13:mt(i,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ma=Tt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,pa(e,r)));break;case 22:p=e.memoizedState!==null;var b=l!==null&&l.memoizedState!==null,G=mn,J=Ze;if(mn=G||p,Ze=J||b,mt(i,e),Ze=J,mn=G,gt(e),r&8192)e:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||b||mn||Ze||yi(e)),l=null,i=e;;){if(i.tag===5||i.tag===26){if(l===null){b=l=i;try{if(g=b.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=b.stateNode;var K=b.memoizedProps.style,q=K!=null&&K.hasOwnProperty("display")?K.display:null;_.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(le){Ie(b,b.return,le)}}}else if(i.tag===6){if(l===null){b=i;try{b.stateNode.nodeValue=p?"":b.memoizedProps}catch(le){Ie(b,b.return,le)}}}else if(i.tag===18){if(l===null){b=i;try{var B=b.stateNode;p?sh(B,!0):sh(b.stateNode,!1)}catch(le){Ie(b,b.return,le)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=e.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,pa(e,l))));break;case 19:mt(i,e),gt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,pa(e,r)));break;case 30:break;case 21:break;default:mt(i,e),gt(e)}}function gt(e){var i=e.flags;if(i&2){try{for(var l,r=e.return;r!==null;){if(up(r)){l=r;break}r=r.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var p=l.stateNode,g=Qr(e);da(e,g,p);break;case 5:var T=l.stateNode;l.flags&32&&(Mi(T,""),l.flags&=-33);var _=Qr(e);da(e,_,T);break;case 3:case 4:var b=l.stateNode.containerInfo,G=Qr(e);Kr(e,G,b);break;default:throw Error(a(161))}}catch(J){Ie(e,e.return,J)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function vp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;vp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function yn(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)dp(e,i.alternate,i),i=i.sibling}function yi(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:zn(4,i,i.return),yi(i);break;case 1:jt(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&sp(i,i.return,l),yi(i);break;case 27:ol(i.stateNode);case 26:case 5:jt(i,i.return),yi(i);break;case 22:i.memoizedState===null&&yi(i);break;case 30:yi(i);break;default:yi(i)}e=e.sibling}}function vn(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,p=e,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:vn(p,g,l),Ko(4,g);break;case 1:if(vn(p,g,l),r=g,p=r.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){Ie(r,r.return,G)}if(r=g,p=r.updateQueue,p!==null){var _=r.stateNode;try{var b=p.shared.hiddenCallbacks;if(b!==null)for(p.shared.hiddenCallbacks=null,p=0;p<b.length;p++)Xf(b[p],_)}catch(G){Ie(r,r.return,G)}}l&&T&64&&ap(g),Xo(g,g.return);break;case 27:cp(g);case 26:case 5:vn(p,g,l),l&&r===null&&T&4&&rp(g),Xo(g,g.return);break;case 12:vn(p,g,l);break;case 31:vn(p,g,l),l&&T&4&&mp(p,g);break;case 13:vn(p,g,l),l&&T&4&&gp(p,g);break;case 22:g.memoizedState===null&&vn(p,g,l),Xo(g,g.return);break;case 30:break;default:vn(p,g,l)}i=i.sibling}}function $r(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ko(l))}function Zr(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ko(e))}function Jt(e,i,l,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sp(e,i,l,r),i=i.sibling}function Sp(e,i,l,r){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Jt(e,i,l,r),p&2048&&Ko(9,i);break;case 1:Jt(e,i,l,r);break;case 3:Jt(e,i,l,r),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ko(e)));break;case 12:if(p&2048){Jt(e,i,l,r),e=i.stateNode;try{var g=i.memoizedProps,T=g.id,_=g.onPostCommit;typeof _=="function"&&_(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ie(i,i.return,b)}}else Jt(e,i,l,r);break;case 31:Jt(e,i,l,r);break;case 13:Jt(e,i,l,r);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?Jt(e,i,l,r):$o(e,i):g._visibility&2?Jt(e,i,l,r):(g._visibility|=2,Xi(e,i,l,r,(i.subtreeFlags&10256)!==0||!1)),p&2048&&$r(T,i);break;case 24:Jt(e,i,l,r),p&2048&&Zr(i.alternate,i);break;default:Jt(e,i,l,r)}}function Xi(e,i,l,r,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,T=i,_=l,b=r,G=T.flags;switch(T.tag){case 0:case 11:case 15:Xi(g,T,_,b,p),Ko(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?Xi(g,T,_,b,p):$o(g,T):(J._visibility|=2,Xi(g,T,_,b,p)),p&&G&2048&&$r(T.alternate,T);break;case 24:Xi(g,T,_,b,p),p&&G&2048&&Zr(T.alternate,T);break;default:Xi(g,T,_,b,p)}i=i.sibling}}function $o(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,r=i,p=r.flags;switch(r.tag){case 22:$o(l,r),p&2048&&$r(r.alternate,r);break;case 24:$o(l,r),p&2048&&Zr(r.alternate,r);break;default:$o(l,r)}i=i.sibling}}var Zo=8192;function $i(e,i,l){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)Tp(e,i,l),e=e.sibling}function Tp(e,i,l){switch(e.tag){case 26:$i(e,i,l),e.flags&Zo&&e.memoizedState!==null&&dS(l,Ft,e.memoizedState,e.memoizedProps);break;case 5:$i(e,i,l);break;case 3:case 4:var r=Ft;Ft=ba(e.stateNode.containerInfo),$i(e,i,l),Ft=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Zo,Zo=16777216,$i(e,i,l),Zo=r):$i(e,i,l));break;default:$i(e,i,l)}}function Ep(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Wo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];et=r,_p(r,e)}Ep(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xp(e),e=e.sibling}function xp(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&zn(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ha(e)):Wo(e);break;default:Wo(e)}}function ha(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];et=r,_p(r,e)}Ep(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:zn(8,i,i.return),ha(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,ha(i));break;default:ha(i)}e=e.sibling}}function _p(e,i){for(;et!==null;){var l=et;switch(l.tag){case 0:case 11:case 15:zn(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ko(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,et=r;else e:for(l=e;et!==null;){r=et;var p=r.sibling,g=r.return;if(pp(r),r===l){et=null;break e}if(p!==null){p.return=g,et=p;break e}et=g}}}var bv={getCacheForType:function(e){var i=ot(Ke),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l},cacheSignal:function(){return ot(Ke).controller.signal}},Rv=typeof WeakMap=="function"?WeakMap:Map,Me=0,Pe=null,Se=null,Ee=0,we=0,bt=null,Vn=!1,Zi=!1,Wr=!1,Sn=0,Je=0,On=0,vi=0,jr=0,Rt=0,Wi=0,jo=null,yt=null,eu=!1,ma=0,Cp=0,ga=1/0,ya=null,Bn=null,We=0,Fn=null,ji=null,Tn=0,tu=0,nu=null,Ap=null,el=0,iu=null;function Mt(){return(Me&2)!==0&&Ee!==0?Ee&-Ee:w.T!==null?uu():zc()}function Np(){if(Rt===0)if((Ee&536870912)===0||_e){var e=Al;Al<<=1,(Al&3932160)===0&&(Al=262144),Rt=e}else Rt=536870912;return e=At.current,e!==null&&(e.flags|=32),Rt}function vt(e,i,l){(e===Pe&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(eo(e,0),Jn(e,Ee,Rt,!1)),Eo(e,l),((Me&2)===0||e!==Pe)&&(e===Pe&&((Me&2)===0&&(vi|=l),Je===4&&Jn(e,Ee,Rt,!1)),en(e))}function bp(e,i,l){if((Me&6)!==0)throw Error(a(327));var r=!l&&(i&127)===0&&(i&e.expiredLanes)===0||To(e,i),p=r?Iv(e,i):lu(e,i,!0),g=r;do{if(p===0){Zi&&!r&&Jn(e,i,0,!1);break}else{if(l=e.current.alternate,g&&!Mv(l)){p=lu(e,i,!1),g=!1;continue}if(p===2){if(g=i,e.errorRecoveryDisabledLanes&g)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var _=e;p=jo;var b=_.current.memoizedState.isDehydrated;if(b&&(eo(_,T).flags|=256),T=lu(_,T,!1),T!==2){if(Wr&&!b){_.errorRecoveryDisabledLanes|=g,vi|=g,p=4;break e}g=yt,yt=p,g!==null&&(yt===null?yt=g:yt.push.apply(yt,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){eo(e,0),Jn(e,i,0,!0);break}e:{switch(r=e,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Jn(r,i,Rt,!Vn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=ma+300-Tt(),10<p)){if(Jn(r,i,Rt,!Vn),bl(r,0,!0)!==0)break e;Tn=i,r.timeoutHandle=oh(Rp.bind(null,r,l,yt,ya,eu,i,Rt,vi,Wi,Vn,g,"Throttled",-0,0),p);break e}Rp(r,l,yt,ya,eu,i,Rt,vi,Wi,Vn,g,null,-0,0)}}break}while(!0);en(e)}function Rp(e,i,l,r,p,g,T,_,b,G,J,K,q,B){if(e.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},Tp(i,g,K);var le=(g&62914560)===g?ma-Tt():(g&4194048)===g?Cp-Tt():0;if(le=pS(K,le),le!==null){Tn=g,e.cancelPendingCommit=le(Gp.bind(null,e,i,g,l,r,p,T,_,b,J,K,null,q,B)),Jn(e,g,T,!G);return}}Gp(e,i,g,l,r,p,T,_,b)}function Mv(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var p=l[r],g=p.getSnapshot;p=p.value;try{if(!_t(g(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jn(e,i,l,r){i&=~jr,i&=~vi,e.suspendedLanes|=i,e.pingedLanes&=~i,r&&(e.warmLanes|=i),r=e.expirationTimes;for(var p=i;0<p;){var g=31-xt(p),T=1<<g;r[g]=-1,p&=~T}l!==0&&Hc(e,l,i)}function va(){return(Me&6)===0?(tl(0),!1):!0}function ou(){if(Se!==null){if(we===0)var e=Se.return;else e=Se,un=ui=null,Tr(e),Fi=null,Ho=0,e=Se;for(;e!==null;)lp(e.alternate,e),e=e.return;Se=null}}function eo(e,i){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Xv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Tn=0,ou(),Pe=e,Se=l=sn(e.current,null),Ee=i,we=0,bt=null,Vn=!1,Zi=To(e,i),Wr=!1,Wi=Rt=jr=vi=On=Je=0,yt=jo=null,eu=!1,(i&8)!==0&&(i|=i&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=i;0<r;){var p=31-xt(r),g=1<<p;i|=e[p],r&=~g}return Sn=i,ql(),l}function Mp(e,i){me=null,w.H=Jo,i===Bi||i===Ql?(i=Jf(),we=3):i===rr?(i=Jf(),we=4):we=i===Gr?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bt=i,Se===null&&(Je=1,sa(e,Ut(i,e.current)))}function wp(){var e=At.current;return e===null?!0:(Ee&4194048)===Ee?Ht===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Ht:!1}function Ip(){var e=w.H;return w.H=Jo,e===null?Jo:e}function Dp(){var e=w.A;return w.A=bv,e}function Sa(){Je=4,Vn||(Ee&4194048)!==Ee&&At.current!==null||(Zi=!0),(On&134217727)===0&&(vi&134217727)===0||Pe===null||Jn(Pe,Ee,Rt,!1)}function lu(e,i,l){var r=Me;Me|=2;var p=Ip(),g=Dp();(Pe!==e||Ee!==i)&&(ya=null,eo(e,i)),i=!1;var T=Je;e:do try{if(we!==0&&Se!==null){var _=Se,b=bt;switch(we){case 8:ou(),T=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(i=!0);var G=we;if(we=0,bt=null,to(e,_,b,G),l&&Zi){T=0;break e}break;default:G=we,we=0,bt=null,to(e,_,b,G)}}wv(),T=Je;break}catch(J){Mp(e,J)}while(!0);return i&&e.shellSuspendCounter++,un=ui=null,Me=r,w.H=p,w.A=g,Se===null&&(Pe=null,Ee=0,ql()),T}function wv(){for(;Se!==null;)Up(Se)}function Iv(e,i){var l=Me;Me|=2;var r=Ip(),p=Dp();Pe!==e||Ee!==i?(ya=null,ga=Tt()+500,eo(e,i)):Zi=To(e,i);e:do try{if(we!==0&&Se!==null){i=Se;var g=bt;t:switch(we){case 1:we=0,bt=null,to(e,i,g,1);break;case 2:case 9:if(Bf(g)){we=0,bt=null,Lp(i);break}i=function(){we!==2&&we!==9||Pe!==e||(we=7),en(e)},g.then(i,i);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:Bf(g)?(we=0,bt=null,Lp(i)):(we=0,bt=null,to(e,i,g,7));break;case 5:var T=null;switch(Se.tag){case 26:T=Se.memoizedState;case 5:case 27:var _=Se;if(T?Sh(T):_.stateNode.complete){we=0,bt=null;var b=_.sibling;if(b!==null)Se=b;else{var G=_.return;G!==null?(Se=G,Ta(G)):Se=null}break t}}we=0,bt=null,to(e,i,g,5);break;case 6:we=0,bt=null,to(e,i,g,6);break;case 8:ou(),Je=6;break e;default:throw Error(a(462))}}Dv();break}catch(J){Mp(e,J)}while(!0);return un=ui=null,w.H=r,w.A=p,Me=l,Se!==null?0:(Pe=null,Ee=0,ql(),Je)}function Dv(){for(;Se!==null&&!t0();)Up(Se)}function Up(e){var i=ip(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,i===null?Ta(e):Se=i}function Lp(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=Zd(l,i,i.pendingProps,i.type,void 0,Ee);break;case 11:i=Zd(l,i,i.pendingProps,i.type.render,i.ref,Ee);break;case 5:Tr(i);default:lp(l,i),i=Se=Df(i,Sn),i=ip(l,i,Sn)}e.memoizedProps=e.pendingProps,i===null?Ta(e):Se=i}function to(e,i,l,r){un=ui=null,Tr(i),Fi=null,Ho=0;var p=i.return;try{if(Tv(e,p,i,l,Ee)){Je=1,sa(e,Ut(l,e.current)),Se=null;return}}catch(g){if(p!==null)throw Se=p,g;Je=1,sa(e,Ut(l,e.current)),Se=null;return}i.flags&32768?(_e||r===1?e=!0:Zi||(Ee&536870912)!==0?e=!1:(Vn=e=!0,(r===2||r===9||r===3||r===6)&&(r=At.current,r!==null&&r.tag===13&&(r.flags|=16384))),kp(i,e)):Ta(i)}function Ta(e){var i=e;do{if((i.flags&32768)!==0){kp(i,Vn);return}e=i.return;var l=_v(i.alternate,i,Sn);if(l!==null){Se=l;return}if(i=i.sibling,i!==null){Se=i;return}Se=i=e}while(i!==null);Je===0&&(Je=5)}function kp(e,i){do{var l=Cv(e.alternate,e);if(l!==null){l.flags&=32767,Se=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){Se=e;return}Se=e=l}while(e!==null);Je=6,Se=null}function Gp(e,i,l,r,p,g,T,_,b){e.cancelPendingCommit=null;do Ea();while(We!==0);if((Me&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=Qs,f0(e,l,g,T,_,b),e===Pe&&(Se=Pe=null,Ee=0),ji=i,Fn=e,Tn=l,tu=g,nu=p,Ap=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Gv(_l,function(){return Vp(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=w.T,w.T=null,p=Q.p,Q.p=2,T=Me,Me|=4;try{Av(e,i,l)}finally{Me=T,Q.p=p,w.T=r}}We=1,Hp(),Pp(),qp()}}function Hp(){if(We===1){We=0;var e=Fn,i=ji,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=w.T,w.T=null;var r=Q.p;Q.p=2;var p=Me;Me|=4;try{yp(i,e);var g=yu,T=_f(e.containerInfo),_=g.focusedElem,b=g.selectionRange;if(T!==_&&_&&_.ownerDocument&&xf(_.ownerDocument.documentElement,_)){if(b!==null&&Os(_)){var G=b.start,J=b.end;if(J===void 0&&(J=G),"selectionStart"in _)_.selectionStart=G,_.selectionEnd=Math.min(J,_.value.length);else{var K=_.ownerDocument||document,q=K&&K.defaultView||window;if(q.getSelection){var B=q.getSelection(),le=_.textContent.length,ue=Math.min(b.start,le),ke=b.end===void 0?ue:Math.min(b.end,le);!B.extend&&ue>ke&&(T=ke,ke=ue,ue=T);var D=Ef(_,ue),I=Ef(_,ke);if(D&&I&&(B.rangeCount!==1||B.anchorNode!==D.node||B.anchorOffset!==D.offset||B.focusNode!==I.node||B.focusOffset!==I.offset)){var k=K.createRange();k.setStart(D.node,D.offset),B.removeAllRanges(),ue>ke?(B.addRange(k),B.extend(I.node,I.offset)):(k.setEnd(I.node,I.offset),B.addRange(k))}}}}for(K=[],B=_;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<K.length;_++){var Y=K[_];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ua=!!gu,yu=gu=null}finally{Me=p,Q.p=r,w.T=l}}e.current=i,We=2}}function Pp(){if(We===2){We=0;var e=Fn,i=ji,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=w.T,w.T=null;var r=Q.p;Q.p=2;var p=Me;Me|=4;try{dp(e,i.alternate,i)}finally{Me=p,Q.p=r,w.T=l}}We=3}}function qp(){if(We===4||We===3){We=0,n0();var e=Fn,i=ji,l=Tn,r=Ap;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?We=5:(We=0,ji=Fn=null,zp(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(Bn=null),_s(l),i=i.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(So,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=w.T,p=Q.p,Q.p=2,w.T=null;try{for(var g=e.onRecoverableError,T=0;T<r.length;T++){var _=r[T];g(_.value,{componentStack:_.stack})}}finally{w.T=i,Q.p=p}}(Tn&3)!==0&&Ea(),en(e),p=e.pendingLanes,(l&261930)!==0&&(p&42)!==0?e===iu?el++:(el=0,iu=e):el=0,tl(0)}}function zp(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ko(i)))}function Ea(){return Hp(),Pp(),qp(),Vp()}function Vp(){if(We!==5)return!1;var e=Fn,i=tu;tu=0;var l=_s(Tn),r=w.T,p=Q.p;try{Q.p=32>l?32:l,w.T=null,l=nu,nu=null;var g=Fn,T=Tn;if(We=0,ji=Fn=null,Tn=0,(Me&6)!==0)throw Error(a(331));var _=Me;if(Me|=4,xp(g.current),Sp(g,g.current,T,l),Me=_,tl(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(So,g)}catch{}return!0}finally{Q.p=p,w.T=r,zp(e,i)}}function Op(e,i,l){i=Ut(l,i),i=kr(e.stateNode,i,2),e=Hn(e,i,2),e!==null&&(Eo(e,2),en(e))}function Ie(e,i,l){if(e.tag===3)Op(e,e,l);else for(;i!==null;){if(i.tag===3){Op(i,e,l);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bn===null||!Bn.has(r))){e=Ut(l,e),l=Bd(2),r=Hn(i,l,2),r!==null&&(Fd(l,r,i,e),Eo(r,2),en(r));break}}i=i.return}}function au(e,i,l){var r=e.pingCache;if(r===null){r=e.pingCache=new Rv;var p=new Set;r.set(i,p)}else p=r.get(i),p===void 0&&(p=new Set,r.set(i,p));p.has(l)||(Wr=!0,p.add(l),e=Uv.bind(null,e,i,l),i.then(e,e))}function Uv(e,i,l){var r=e.pingCache;r!==null&&r.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Pe===e&&(Ee&l)===l&&(Je===4||Je===3&&(Ee&62914560)===Ee&&300>Tt()-ma?(Me&2)===0&&eo(e,0):jr|=l,Wi===Ee&&(Wi=0)),en(e)}function Bp(e,i){i===0&&(i=Gc()),e=ai(e,i),e!==null&&(Eo(e,i),en(e))}function Lv(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),Bp(e,l)}function kv(e,i){var l=0;switch(e.tag){case 31:case 13:var r=e.stateNode,p=e.memoizedState;p!==null&&(l=p.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(i),Bp(e,l)}function Gv(e,i){return Ss(e,i)}var xa=null,no=null,su=!1,_a=!1,ru=!1,Yn=0;function en(e){e!==no&&e.next===null&&(no===null?xa=no=e:no=no.next=e),_a=!0,su||(su=!0,Pv())}function tl(e,i){if(!ru&&_a){ru=!0;do for(var l=!1,r=xa;r!==null;){if(e!==0){var p=r.pendingLanes;if(p===0)var g=0;else{var T=r.suspendedLanes,_=r.pingedLanes;g=(1<<31-xt(42|e)+1)-1,g&=p&~(T&~_),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Qp(r,g))}else g=Ee,g=bl(r,r===Pe?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(g&3)===0||To(r,g)||(l=!0,Qp(r,g));r=r.next}while(l);ru=!1}}function Hv(){Fp()}function Fp(){_a=su=!1;var e=0;Yn!==0&&Kv()&&(e=Yn);for(var i=Tt(),l=null,r=xa;r!==null;){var p=r.next,g=Jp(r,i);g===0?(r.next=null,l===null?xa=p:l.next=p,p===null&&(no=l)):(l=r,(e!==0||(g&3)!==0)&&(_a=!0)),r=p}We!==0&&We!==5||tl(e),Yn!==0&&(Yn=0)}function Jp(e,i){for(var l=e.suspendedLanes,r=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var T=31-xt(g),_=1<<T,b=p[T];b===-1?((_&l)===0||(_&r)!==0)&&(p[T]=c0(_,i)):b<=i&&(e.expiredLanes|=_),g&=~_}if(i=Pe,l=Ee,l=bl(e,e===i?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,l===0||e===i&&(we===2||we===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ts(r),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||To(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(r!==null&&Ts(r),_s(l)){case 2:case 8:l=Lc;break;case 32:l=_l;break;case 268435456:l=kc;break;default:l=_l}return r=Yp.bind(null,e),l=Ss(l,r),e.callbackPriority=i,e.callbackNode=l,i}return r!==null&&r!==null&&Ts(r),e.callbackPriority=2,e.callbackNode=null,2}function Yp(e,i){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ea()&&e.callbackNode!==l)return null;var r=Ee;return r=bl(e,e===Pe?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(bp(e,r,i),Jp(e,Tt()),e.callbackNode!=null&&e.callbackNode===l?Yp.bind(null,e):null)}function Qp(e,i){if(Ea())return null;bp(e,i,!0)}function Pv(){$v(function(){(Me&6)!==0?Ss(Uc,Hv):Fp()})}function uu(){if(Yn===0){var e=Vi;e===0&&(e=Cl,Cl<<=1,(Cl&261888)===0&&(Cl=256)),Yn=e}return Yn}function Kp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Il(""+e)}function Xp(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function qv(e,i,l,r,p){if(i==="submit"&&l&&l.stateNode===p){var g=Kp((p[dt]||null).action),T=r.submitter;T&&(i=(i=T[dt]||null)?Kp(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var _=new kl("action","action",null,r,p);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Yn!==0){var b=T?Xp(p,T):new FormData(p);Mr(l,{pending:!0,data:b,method:p.method,action:g},null,b)}}else typeof g=="function"&&(_.preventDefault(),b=T?Xp(p,T):new FormData(p),Mr(l,{pending:!0,data:b,method:p.method,action:g},g,b))},currentTarget:p}]})}}for(var cu=0;cu<Ys.length;cu++){var fu=Ys[cu],zv=fu.toLowerCase(),Vv=fu[0].toUpperCase()+fu.slice(1);Bt(zv,"on"+Vv)}Bt(Nf,"onAnimationEnd"),Bt(bf,"onAnimationIteration"),Bt(Rf,"onAnimationStart"),Bt("dblclick","onDoubleClick"),Bt("focusin","onFocus"),Bt("focusout","onBlur"),Bt(iv,"onTransitionRun"),Bt(ov,"onTransitionStart"),Bt(lv,"onTransitionCancel"),Bt(Mf,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ov=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function $p(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var r=e[l],p=r.event;r=r.listeners;e:{var g=void 0;if(i)for(var T=r.length-1;0<=T;T--){var _=r[T],b=_.instance,G=_.currentTarget;if(_=_.listener,b!==g&&p.isPropagationStopped())break e;g=_,p.currentTarget=G;try{g(p)}catch(J){Pl(J)}p.currentTarget=null,g=b}else for(T=0;T<r.length;T++){if(_=r[T],b=_.instance,G=_.currentTarget,_=_.listener,b!==g&&p.isPropagationStopped())break e;g=_,p.currentTarget=G;try{g(p)}catch(J){Pl(J)}p.currentTarget=null,g=b}}}}function Te(e,i){var l=i[Cs];l===void 0&&(l=i[Cs]=new Set);var r=e+"__bubble";l.has(r)||(Zp(i,e,2,!1),l.add(r))}function du(e,i,l){var r=0;i&&(r|=4),Zp(l,e,r,i)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[Ca]){e[Ca]=!0,Bc.forEach(function(l){l!=="selectionchange"&&(Ov.has(l)||du(l,!1,e),du(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ca]||(i[Ca]=!0,du("selectionchange",!1,i))}}function Zp(e,i,l,r){switch(Nh(i)){case 2:var p=gS;break;case 8:p=yS;break;default:p=Ru}l=p.bind(null,i,l,e),p=void 0,!Us||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),r?p!==void 0?e.addEventListener(i,l,{capture:!0,passive:p}):e.addEventListener(i,l,!0):p!==void 0?e.addEventListener(i,l,{passive:p}):e.addEventListener(i,l,!1)}function hu(e,i,l,r,p){var g=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var T=r.tag;if(T===3||T===4){var _=r.stateNode.containerInfo;if(_===p)break;if(T===4)for(T=r.return;T!==null;){var b=T.tag;if((b===3||b===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;_!==null;){if(T=Ci(_),T===null)return;if(b=T.tag,b===5||b===6||b===26||b===27){r=g=T;continue e}_=_.parentNode}}r=r.return}tf(function(){var G=g,J=Is(l),K=[];e:{var q=wf.get(e);if(q!==void 0){var B=kl,le=e;switch(e){case"keypress":if(Ul(l)===0)break e;case"keydown":case"keyup":B=k0;break;case"focusin":le="focus",B=Hs;break;case"focusout":le="blur",B=Hs;break;case"beforeblur":case"afterblur":B=Hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=_0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=P0;break;case Nf:case bf:case Rf:B=N0;break;case Mf:B=z0;break;case"scroll":case"scrollend":B=E0;break;case"wheel":B=O0;break;case"copy":case"cut":case"paste":B=R0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=sf;break;case"toggle":case"beforetoggle":B=F0}var ue=(i&4)!==0,ke=!ue&&(e==="scroll"||e==="scrollend"),D=ue?q!==null?q+"Capture":null:q;ue=[];for(var I=G,k;I!==null;){var Y=I;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||D===null||(Y=Co(I,D),Y!=null&&ue.push(il(I,Y,k))),ke)break;I=I.return}0<ue.length&&(q=new B(q,le,null,l,J),K.push({event:q,listeners:ue}))}}if((i&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",q&&l!==ws&&(le=l.relatedTarget||l.fromElement)&&(Ci(le)||le[_i]))break e;if((B||q)&&(q=J.window===J?J:(q=J.ownerDocument)?q.defaultView||q.parentWindow:window,B?(le=l.relatedTarget||l.toElement,B=G,le=le?Ci(le):null,le!==null&&(ke=u(le),ue=le.tag,le!==ke||ue!==5&&ue!==27&&ue!==6)&&(le=null)):(B=null,le=G),B!==le)){if(ue=lf,Y="onMouseLeave",D="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(ue=sf,Y="onPointerLeave",D="onPointerEnter",I="pointer"),ke=B==null?q:_o(B),k=le==null?q:_o(le),q=new ue(Y,I+"leave",B,l,J),q.target=ke,q.relatedTarget=k,Y=null,Ci(J)===G&&(ue=new ue(D,I+"enter",le,l,J),ue.target=k,ue.relatedTarget=ke,Y=ue),ke=Y,B&&le)t:{for(ue=Bv,D=B,I=le,k=0,Y=D;Y;Y=ue(Y))k++;Y=0;for(var re=I;re;re=ue(re))Y++;for(;0<k-Y;)D=ue(D),k--;for(;0<Y-k;)I=ue(I),Y--;for(;k--;){if(D===I||I!==null&&D===I.alternate){ue=D;break t}D=ue(D),I=ue(I)}ue=null}else ue=null;B!==null&&Wp(K,q,B,ue,!1),le!==null&&ke!==null&&Wp(K,ke,le,ue,!0)}}e:{if(q=G?_o(G):window,B=q.nodeName&&q.nodeName.toLowerCase(),B==="select"||B==="input"&&q.type==="file")var Ne=mf;else if(pf(q))if(gf)Ne=ev;else{Ne=W0;var ae=Z0}else B=q.nodeName,!B||B.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?G&&Ms(G.elementType)&&(Ne=mf):Ne=j0;if(Ne&&(Ne=Ne(e,G))){hf(K,Ne,l,J);break e}ae&&ae(e,q,G),e==="focusout"&&G&&q.type==="number"&&G.memoizedProps.value!=null&&Rs(q,"number",q.value)}switch(ae=G?_o(G):window,e){case"focusin":(pf(ae)||ae.contentEditable==="true")&&(Ui=ae,Bs=G,Do=null);break;case"focusout":Do=Bs=Ui=null;break;case"mousedown":Fs=!0;break;case"contextmenu":case"mouseup":case"dragend":Fs=!1,Cf(K,l,J);break;case"selectionchange":if(nv)break;case"keydown":case"keyup":Cf(K,l,J)}var ye;if(qs)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Di?ff(e,l)&&(xe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(rf&&l.locale!=="ko"&&(Di||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Di&&(ye=nf()):(wn=J,Ls="value"in wn?wn.value:wn.textContent,Di=!0)),ae=Aa(G,xe),0<ae.length&&(xe=new af(xe,e,null,l,J),K.push({event:xe,listeners:ae}),ye?xe.data=ye:(ye=df(l),ye!==null&&(xe.data=ye)))),(ye=Y0?Q0(e,l):K0(e,l))&&(xe=Aa(G,"onBeforeInput"),0<xe.length&&(ae=new af("onBeforeInput","beforeinput",null,l,J),K.push({event:ae,listeners:xe}),ae.data=ye)),qv(K,e,G,l,J)}$p(K,i)})}function il(e,i,l){return{instance:e,listener:i,currentTarget:l}}function Aa(e,i){for(var l=i+"Capture",r=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Co(e,l),p!=null&&r.unshift(il(e,p,g)),p=Co(e,i),p!=null&&r.push(il(e,p,g))),e.tag===3)return r;e=e.return}return[]}function Bv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wp(e,i,l,r,p){for(var g=i._reactName,T=[];l!==null&&l!==r;){var _=l,b=_.alternate,G=_.stateNode;if(_=_.tag,b!==null&&b===r)break;_!==5&&_!==26&&_!==27||G===null||(b=G,p?(G=Co(l,g),G!=null&&T.unshift(il(l,G,b))):p||(G=Co(l,g),G!=null&&T.push(il(l,G,b)))),l=l.return}T.length!==0&&e.push({event:i,listeners:T})}var Fv=/\r\n?/g,Jv=/\u0000|\uFFFD/g;function jp(e){return(typeof e=="string"?e:""+e).replace(Fv,`
`).replace(Jv,"")}function eh(e,i){return i=jp(i),jp(e)===i}function Le(e,i,l,r,p,g){switch(l){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Mi(e,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Mi(e,""+r);break;case"className":Ml(e,"class",r);break;case"tabIndex":Ml(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(e,l,r);break;case"style":jc(e,r,g);break;case"data":if(i!=="object"){Ml(e,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=Il(""+r),e.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&Le(e,i,"name",p.name,p,null),Le(e,i,"formEncType",p.formEncType,p,null),Le(e,i,"formMethod",p.formMethod,p,null),Le(e,i,"formTarget",p.formTarget,p,null)):(Le(e,i,"encType",p.encType,p,null),Le(e,i,"method",p.method,p,null),Le(e,i,"target",p.target,p,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=Il(""+r),e.setAttribute(l,r);break;case"onClick":r!=null&&(e.onclick=ln);break;case"onScroll":r!=null&&Te("scroll",e);break;case"onScrollEnd":r!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(l=r.__html,l!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}l=Il(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""+r):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":r===!0?e.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,r):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(l,r):e.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(l):e.setAttribute(l,r);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Rl(e,"popover",r);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Rl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=S0.get(l)||l,Rl(e,l,r))}}function mu(e,i,l,r,p,g){switch(l){case"style":jc(e,r,g);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(l=r.__html,l!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof r=="string"?Mi(e,r):(typeof r=="number"||typeof r=="bigint")&&Mi(e,""+r);break;case"onScroll":r!=null&&Te("scroll",e);break;case"onScrollEnd":r!=null&&Te("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),g=e[dt]||null,g=g!=null?g[l]:null,typeof g=="function"&&e.removeEventListener(i,g,p),typeof r=="function")){typeof g!="function"&&g!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,r,p);break e}l in e?e[l]=r:r===!0?e.setAttribute(l,""):Rl(e,l,r)}}}function at(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var r=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":r=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Le(e,i,g,T,l,null)}}p&&Le(e,i,"srcSet",l.srcSet,l,null),r&&Le(e,i,"src",l.src,l,null);return;case"input":Te("invalid",e);var _=g=T=p=null,b=null,G=null;for(r in l)if(l.hasOwnProperty(r)){var J=l[r];if(J!=null)switch(r){case"name":p=J;break;case"type":T=J;break;case"checked":b=J;break;case"defaultChecked":G=J;break;case"value":g=J;break;case"defaultValue":_=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:Le(e,i,r,J,l,null)}}Xc(e,g,_,b,G,T,p,!1);return;case"select":Te("invalid",e),r=T=g=null;for(p in l)if(l.hasOwnProperty(p)&&(_=l[p],_!=null))switch(p){case"value":g=_;break;case"defaultValue":T=_;break;case"multiple":r=_;default:Le(e,i,p,_,l,null)}i=g,l=T,e.multiple=!!r,i!=null?Ri(e,!!r,i,!1):l!=null&&Ri(e,!!r,l,!0);return;case"textarea":Te("invalid",e),g=p=r=null;for(T in l)if(l.hasOwnProperty(T)&&(_=l[T],_!=null))switch(T){case"value":r=_;break;case"defaultValue":p=_;break;case"children":g=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Le(e,i,T,_,l,null)}Zc(e,r,p,g);return;case"option":for(b in l)if(l.hasOwnProperty(b)&&(r=l[b],r!=null))switch(b){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Le(e,i,b,r,l,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(r=0;r<nl.length;r++)Te(nl[r],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(r=l[G],r!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Le(e,i,G,r,l,null)}return;default:if(Ms(i)){for(J in l)l.hasOwnProperty(J)&&(r=l[J],r!==void 0&&mu(e,i,J,r,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(r=l[_],r!=null&&Le(e,i,_,r,l,null))}function Yv(e,i,l,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,_=null,b=null,G=null,J=null;for(B in l){var K=l[B];if(l.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=K;default:r.hasOwnProperty(B)||Le(e,i,B,null,r,K)}}for(var q in r){var B=r[q];if(K=l[q],r.hasOwnProperty(q)&&(B!=null||K!=null))switch(q){case"type":g=B;break;case"name":p=B;break;case"checked":G=B;break;case"defaultChecked":J=B;break;case"value":T=B;break;case"defaultValue":_=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,i));break;default:B!==K&&Le(e,i,q,B,r,K)}}bs(e,T,_,b,G,J,g,p);return;case"select":B=T=_=q=null;for(g in l)if(b=l[g],l.hasOwnProperty(g)&&b!=null)switch(g){case"value":break;case"multiple":B=b;default:r.hasOwnProperty(g)||Le(e,i,g,null,r,b)}for(p in r)if(g=r[p],b=l[p],r.hasOwnProperty(p)&&(g!=null||b!=null))switch(p){case"value":q=g;break;case"defaultValue":_=g;break;case"multiple":T=g;default:g!==b&&Le(e,i,p,g,r,b)}i=_,l=T,r=B,q!=null?Ri(e,!!l,q,!1):!!r!=!!l&&(i!=null?Ri(e,!!l,i,!0):Ri(e,!!l,l?[]:"",!1));return;case"textarea":B=q=null;for(_ in l)if(p=l[_],l.hasOwnProperty(_)&&p!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Le(e,i,_,null,r,p)}for(T in r)if(p=r[T],g=l[T],r.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":q=p;break;case"defaultValue":B=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Le(e,i,T,p,r,g)}$c(e,q,B);return;case"option":for(var le in l)if(q=l[le],l.hasOwnProperty(le)&&q!=null&&!r.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Le(e,i,le,null,r,q)}for(b in r)if(q=r[b],B=l[b],r.hasOwnProperty(b)&&q!==B&&(q!=null||B!=null))switch(b){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Le(e,i,b,q,r,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in l)q=l[ue],l.hasOwnProperty(ue)&&q!=null&&!r.hasOwnProperty(ue)&&Le(e,i,ue,null,r,q);for(G in r)if(q=r[G],B=l[G],r.hasOwnProperty(G)&&q!==B&&(q!=null||B!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:Le(e,i,G,q,r,B)}return;default:if(Ms(i)){for(var ke in l)q=l[ke],l.hasOwnProperty(ke)&&q!==void 0&&!r.hasOwnProperty(ke)&&mu(e,i,ke,void 0,r,q);for(J in r)q=r[J],B=l[J],!r.hasOwnProperty(J)||q===B||q===void 0&&B===void 0||mu(e,i,J,q,r,B);return}}for(var D in l)q=l[D],l.hasOwnProperty(D)&&q!=null&&!r.hasOwnProperty(D)&&Le(e,i,D,null,r,q);for(K in r)q=r[K],B=l[K],!r.hasOwnProperty(K)||q===B||q==null&&B==null||Le(e,i,K,q,r,B)}function th(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var p=l[r],g=p.transferSize,T=p.initiatorType,_=p.duration;if(g&&_&&th(T)){for(T=0,_=p.responseEnd,r+=1;r<l.length;r++){var b=l[r],G=b.startTime;if(G>_)break;var J=b.transferSize,K=b.initiatorType;J&&th(K)&&(b=b.responseEnd,T+=J*(b<_?1:(_-G)/(b-G)))}if(--r,i+=8*(g+T)/(p.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gu=null,yu=null;function Na(e){return e.nodeType===9?e:e.ownerDocument}function nh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ih(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function vu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Su=null;function Kv(){var e=window.event;return e&&e.type==="popstate"?e===Su?!1:(Su=e,!0):(Su=null,!1)}var oh=typeof setTimeout=="function"?setTimeout:void 0,Xv=typeof clearTimeout=="function"?clearTimeout:void 0,lh=typeof Promise=="function"?Promise:void 0,$v=typeof queueMicrotask=="function"?queueMicrotask:typeof lh<"u"?function(e){return lh.resolve(null).then(e).catch(Zv)}:oh;function Zv(e){setTimeout(function(){throw e})}function Qn(e){return e==="head"}function ah(e,i){var l=i,r=0;do{var p=l.nextSibling;if(e.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(r===0){e.removeChild(p),ao(i);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")ol(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,ol(l);for(var g=l.firstChild;g;){var T=g.nextSibling,_=g.nodeName;g[xo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=T}}else l==="body"&&ol(e.ownerDocument.body);l=p}while(l);ao(i)}function sh(e,i){var l=e;e=0;do{var r=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=r}while(l)}function Tu(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Tu(l),As(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Wv(e,i,l,r){for(;e.nodeType===1;){var p=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[xo])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function jv(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Pt(e.nextSibling),e===null))return null;return e}function rh(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pt(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eS(e,i){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||l.readyState!=="loading")i();else{var r=function(){i(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Pt(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var _u=null;function uh(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(i===0)return Pt(e.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}e=e.nextSibling}return null}function ch(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return e;i--}else l!=="/$"&&l!=="/&"||i++}e=e.previousSibling}return null}function fh(e,i,l){switch(i=Na(l),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ol(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);As(e)}var qt=new Map,dh=new Set;function ba(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=Q.d;Q.d={f:tS,r:nS,D:iS,C:oS,L:lS,m:aS,X:rS,S:sS,M:uS};function tS(){var e=En.f(),i=va();return e||i}function nS(e){var i=Ai(e);i!==null&&i.tag===5&&i.type==="form"?Md(i):En.r(e)}var io=typeof document>"u"?null:document;function ph(e,i,l){var r=io;if(r&&typeof i=="string"&&i){var p=It(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),dh.has(p)||(dh.add(p),e={rel:e,crossOrigin:l,href:i},r.querySelector(p)===null&&(i=r.createElement("link"),at(i,"link",e),je(i),r.head.appendChild(i)))}}function iS(e){En.D(e),ph("dns-prefetch",e,null)}function oS(e,i){En.C(e,i),ph("preconnect",e,i)}function lS(e,i,l){En.L(e,i,l);var r=io;if(r&&e&&i){var p='link[rel="preload"][as="'+It(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+It(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+It(l.imageSizes)+'"]')):p+='[href="'+It(e)+'"]';var g=p;switch(i){case"style":g=oo(e);break;case"script":g=lo(e)}qt.has(g)||(e=S({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),qt.set(g,e),r.querySelector(p)!==null||i==="style"&&r.querySelector(ll(g))||i==="script"&&r.querySelector(al(g))||(i=r.createElement("link"),at(i,"link",e),je(i),r.head.appendChild(i)))}}function aS(e,i){En.m(e,i);var l=io;if(l&&e){var r=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+It(r)+'"][href="'+It(e)+'"]',g=p;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=lo(e)}if(!qt.has(g)&&(e=S({rel:"modulepreload",href:e},i),qt.set(g,e),l.querySelector(p)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(al(g)))return}r=l.createElement("link"),at(r,"link",e),je(r),l.head.appendChild(r)}}}function sS(e,i,l){En.S(e,i,l);var r=io;if(r&&e){var p=Ni(r).hoistableStyles,g=oo(e);i=i||"default";var T=p.get(g);if(!T){var _={loading:0,preload:null};if(T=r.querySelector(ll(g)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},l),(l=qt.get(g))&&Cu(e,l);var b=T=r.createElement("link");je(b),at(b,"link",e),b._p=new Promise(function(G,J){b.onload=G,b.onerror=J}),b.addEventListener("load",function(){_.loading|=1}),b.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ra(T,i,r)}T={type:"stylesheet",instance:T,count:1,state:_},p.set(g,T)}}}function rS(e,i){En.X(e,i);var l=io;if(l&&e){var r=Ni(l).hoistableScripts,p=lo(e),g=r.get(p);g||(g=l.querySelector(al(p)),g||(e=S({src:e,async:!0},i),(i=qt.get(p))&&Au(e,i),g=l.createElement("script"),je(g),at(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(p,g))}}function uS(e,i){En.M(e,i);var l=io;if(l&&e){var r=Ni(l).hoistableScripts,p=lo(e),g=r.get(p);g||(g=l.querySelector(al(p)),g||(e=S({src:e,async:!0,type:"module"},i),(i=qt.get(p))&&Au(e,i),g=l.createElement("script"),je(g),at(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(p,g))}}function hh(e,i,l,r){var p=(p=he.current)?ba(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=oo(l.href),l=Ni(p).hoistableStyles,r=l.get(i),r||(r={type:"style",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=oo(l.href);var g=Ni(p).hoistableStyles,T=g.get(e);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,T),(g=p.querySelector(ll(e)))&&!g._p&&(T.instance=g,T.state.loading=5),qt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qt.set(e,l),g||cS(p,e,l,T.state))),i&&r===null)throw Error(a(528,""));return T}if(i&&r!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=lo(l),l=Ni(p).hoistableScripts,r=l.get(i),r||(r={type:"script",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function oo(e){return'href="'+It(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function mh(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function cS(e,i,l,r){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=e.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),at(i,"link",l),je(i),e.head.appendChild(i))}function lo(e){return'[src="'+It(e)+'"]'}function al(e){return"script[async]"+e}function gh(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var r=e.querySelector('style[data-href~="'+It(l.href)+'"]');if(r)return i.instance=r,je(r),r;var p=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),je(r),at(r,"style",p),Ra(r,l.precedence,e),i.instance=r;case"stylesheet":p=oo(l.href);var g=e.querySelector(ll(p));if(g)return i.state.loading|=4,i.instance=g,je(g),g;r=mh(l),(p=qt.get(p))&&Cu(r,p),g=(e.ownerDocument||e).createElement("link"),je(g);var T=g;return T._p=new Promise(function(_,b){T.onload=_,T.onerror=b}),at(g,"link",r),i.state.loading|=4,Ra(g,l.precedence,e),i.instance=g;case"script":return g=lo(l.src),(p=e.querySelector(al(g)))?(i.instance=p,je(p),p):(r=l,(p=qt.get(g))&&(r=S({},l),Au(r,p)),e=e.ownerDocument||e,p=e.createElement("script"),je(p),at(p,"link",r),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,Ra(r,l.precedence,e));return i.instance}function Ra(e,i,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=r.length?r[r.length-1]:null,g=p,T=0;T<r.length;T++){var _=r[T];if(_.dataset.precedence===i)g=_;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function Cu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Au(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ma=null;function yh(e,i,l){if(Ma===null){var r=new Map,p=Ma=new Map;p.set(l,r)}else p=Ma,r=p.get(l),r||(r=new Map,p.set(l,r));if(r.has(e))return r;for(r.set(e,null),l=l.getElementsByTagName(e),p=0;p<l.length;p++){var g=l[p];if(!(g[xo]||g[nt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=e+T;var _=r.get(T);_?_.push(g):r.set(T,[g])}}return r}function vh(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function fS(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Sh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dS(e,i,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=oo(r.href),g=i.querySelector(ll(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=wa.bind(e),i.then(e,e)),l.state.loading|=4,l.instance=g,je(g);return}g=i.ownerDocument||i,r=mh(r),(p=qt.get(p))&&Cu(r,p),g=g.createElement("link"),je(g);var T=g;T._p=new Promise(function(_,b){T.onload=_,T.onerror=b}),at(g,"link",r),l.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=wa.bind(e),i.addEventListener("load",l),i.addEventListener("error",l))}}var Nu=0;function pS(e,i){return e.stylesheets&&e.count===0&&Da(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var r=setTimeout(function(){if(e.stylesheets&&Da(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Nu===0&&(Nu=62500*Qv());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Da(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Nu?50:800)+i);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(p)}}:null}function wa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Da(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ia=null;function Da(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ia=new Map,i.forEach(hS,e),Ia=null,wa.call(e))}function hS(e,i){if(!(i.state.loading&4)){var l=Ia.get(e);if(l)var r=l.get(null);else{l=new Map,Ia.set(e,l);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),r=T)}r&&l.set(null,r)}p=i.instance,T=p.getAttribute("data-precedence"),g=l.get(T)||r,g===r&&l.set(null,p),l.set(T,p),this.count++,r=wa.bind(this),p.addEventListener("load",r),p.addEventListener("error",r),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var sl={$$typeof:P,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function mS(e,i,l,r,p,g,T,_,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Es(0),this.hiddenUpdates=Es(null),this.identifierPrefix=r,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Th(e,i,l,r,p,g,T,_,b,G,J,K){return e=new mS(e,i,l,T,b,G,J,K,_),i=1,g===!0&&(i|=24),g=Ct(3,null,null,i),e.current=g,g.stateNode=e,i=lr(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:r,isDehydrated:l,cache:i},ur(g),e}function Eh(e){return e?(e=Gi,e):Gi}function xh(e,i,l,r,p,g){p=Eh(p),r.context===null?r.context=p:r.pendingContext=p,r=Gn(i),r.payload={element:l},g=g===void 0?null:g,g!==null&&(r.callback=g),l=Hn(e,r,i),l!==null&&(vt(l,e,i),qo(l,e,i))}function _h(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function bu(e,i){_h(e,i),(e=e.alternate)&&_h(e,i)}function Ch(e){if(e.tag===13||e.tag===31){var i=ai(e,67108864);i!==null&&vt(i,e,67108864),bu(e,67108864)}}function Ah(e){if(e.tag===13||e.tag===31){var i=Mt();i=xs(i);var l=ai(e,i);l!==null&&vt(l,e,i),bu(e,i)}}var Ua=!0;function gS(e,i,l,r){var p=w.T;w.T=null;var g=Q.p;try{Q.p=2,Ru(e,i,l,r)}finally{Q.p=g,w.T=p}}function yS(e,i,l,r){var p=w.T;w.T=null;var g=Q.p;try{Q.p=8,Ru(e,i,l,r)}finally{Q.p=g,w.T=p}}function Ru(e,i,l,r){if(Ua){var p=Mu(r);if(p===null)hu(e,i,r,La,l),bh(e,r);else if(SS(p,e,i,l,r))r.stopPropagation();else if(bh(e,r),i&4&&-1<vS.indexOf(e)){for(;p!==null;){var g=Ai(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ti(g.pendingLanes);if(T!==0){var _=g;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var b=1<<31-xt(T);_.entanglements[1]|=b,T&=~b}en(g),(Me&6)===0&&(ga=Tt()+500,tl(0))}}break;case 31:case 13:_=ai(g,2),_!==null&&vt(_,g,2),va(),bu(g,2)}if(g=Mu(r),g===null&&hu(e,i,r,La,l),g===p)break;p=g}p!==null&&r.stopPropagation()}else hu(e,i,r,null,l)}}function Mu(e){return e=Is(e),wu(e)}var La=null;function wu(e){if(La=null,e=Ci(e),e!==null){var i=u(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=d(i),e!==null)return e;e=null}else if(l===31){if(e=h(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return La=e,null}function Nh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(i0()){case Uc:return 2;case Lc:return 8;case _l:case o0:return 32;case kc:return 268435456;default:return 32}default:return 32}}var Iu=!1,Kn=null,Xn=null,$n=null,rl=new Map,ul=new Map,Zn=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,i){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(i.pointerId)}}function cl(e,i,l,r,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:l,eventSystemFlags:r,nativeEvent:g,targetContainers:[p]},i!==null&&(i=Ai(i),i!==null&&Ch(i)),e):(e.eventSystemFlags|=r,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function SS(e,i,l,r,p){switch(i){case"focusin":return Kn=cl(Kn,e,i,l,r,p),!0;case"dragenter":return Xn=cl(Xn,e,i,l,r,p),!0;case"mouseover":return $n=cl($n,e,i,l,r,p),!0;case"pointerover":var g=p.pointerId;return rl.set(g,cl(rl.get(g)||null,e,i,l,r,p)),!0;case"gotpointercapture":return g=p.pointerId,ul.set(g,cl(ul.get(g)||null,e,i,l,r,p)),!0}return!1}function Rh(e){var i=Ci(e.target);if(i!==null){var l=u(i);if(l!==null){if(i=l.tag,i===13){if(i=d(l),i!==null){e.blockedOn=i,Vc(e.priority,function(){Ah(l)});return}}else if(i===31){if(i=h(l),i!==null){e.blockedOn=i,Vc(e.priority,function(){Ah(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ka(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=Mu(e.nativeEvent);if(l===null){l=e.nativeEvent;var r=new l.constructor(l.type,l);ws=r,l.target.dispatchEvent(r),ws=null}else return i=Ai(l),i!==null&&Ch(i),e.blockedOn=l,!1;i.shift()}return!0}function Mh(e,i,l){ka(e)&&l.delete(i)}function TS(){Iu=!1,Kn!==null&&ka(Kn)&&(Kn=null),Xn!==null&&ka(Xn)&&(Xn=null),$n!==null&&ka($n)&&($n=null),rl.forEach(Mh),ul.forEach(Mh)}function Ga(e,i){e.blockedOn===i&&(e.blockedOn=null,Iu||(Iu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,TS)))}var Ha=null;function wh(e){Ha!==e&&(Ha=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ha===e&&(Ha=null);for(var i=0;i<e.length;i+=3){var l=e[i],r=e[i+1],p=e[i+2];if(typeof r!="function"){if(wu(r||l)===null)continue;break}var g=Ai(l);g!==null&&(e.splice(i,3),i-=3,Mr(g,{pending:!0,data:p,method:l.method,action:r},r,p))}}))}function ao(e){function i(b){return Ga(b,e)}Kn!==null&&Ga(Kn,e),Xn!==null&&Ga(Xn,e),$n!==null&&Ga($n,e),rl.forEach(i),ul.forEach(i);for(var l=0;l<Zn.length;l++){var r=Zn[l];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Zn.length&&(l=Zn[0],l.blockedOn===null);)Rh(l),l.blockedOn===null&&Zn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var p=l[r],g=l[r+1],T=p[dt]||null;if(typeof g=="function")T||wh(l);else if(T){var _=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[dt]||null)_=T.formAction;else if(wu(p)!==null)continue}else _=T.action;typeof _=="function"?l[r+1]=_:(l.splice(r,3),r-=3),wh(l)}}}function Ih(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Du(e){this._internalRoot=e}Pa.prototype.render=Du.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,r=Mt();xh(l,r,e,i,null,null)},Pa.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;xh(e.current,2,null,e,null,null),va(),i[_i]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var i=zc();e={blockedOn:null,target:e,priority:i};for(var l=0;l<Zn.length&&i!==0&&i<Zn[l].priority;l++);Zn.splice(l,0,e),l===0&&Rh(e)}};var Dh=t.version;if(Dh!=="19.2.4")throw Error(a(527,Dh,"19.2.4"));Q.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(i),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var ES={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qa.isDisabled&&qa.supportsFiber)try{So=qa.inject(ES),Et=qa}catch{}}return dl.createRoot=function(e,i){if(!s(e))throw Error(a(299));var l=!1,r="",p=qd,g=zd,T=Vd;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=Th(e,1,!1,null,null,l,r,null,p,g,T,Ih),e[_i]=i.current,pu(e),new Du(i)},dl.hydrateRoot=function(e,i,l){if(!s(e))throw Error(a(299));var r=!1,p="",g=qd,T=zd,_=Vd,b=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(b=l.formState)),i=Th(e,1,!0,i,l??null,r,p,b,g,T,_,Ih),i.context=Eh(null),l=i.current,r=Mt(),r=xs(r),p=Gn(r),p.callback=null,Hn(l,p,r),l=r,i.current.lanes=l,Eo(i,l),en(i),e[_i]=i.current,pu(e),new Pa(i)},dl.version="19.2.4",dl}var Oh;function IS(){if(Oh)return ku.exports;Oh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ku.exports=wS(),ku.exports}var DS=IS();const US=Dg(DS);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bh="popstate";function LS(n={}){function t(s,u){let{pathname:d="/",search:h="",hash:y=""}=Ti(s.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Ju("",{pathname:d,search:h,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(s,u){let d=s.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let y=s.location.href,m=y.indexOf("#");h=m===-1?y:y.slice(0,m)}return h+"#"+(typeof u=="string"?u:yl(u))}function a(s,u){Kt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return GS(t,o,a,n)}function Be(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Kt(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kS(){return Math.random().toString(36).substring(2,10)}function Fh(n,t){return{usr:n.state,key:n.key,idx:t}}function Ju(n,t,o=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ti(t):t,state:o,key:t&&t.key||a||kS()}}function yl({pathname:n="/",search:t="",hash:o=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function Ti(n){let t={};if(n){let o=n.indexOf("#");o>=0&&(t.hash=n.substring(o),n=n.substring(0,o));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function GS(n,t,o,a={}){let{window:s=document.defaultView,v5Compat:u=!1}=a,d=s.history,h="POP",y=null,m=v();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function v(){return(d.state||{idx:null}).idx}function S(){h="POP";let A=v(),H=A==null?null:A-m;m=A,y&&y({action:h,location:M.location,delta:H})}function x(A,H){h="PUSH";let F=Ju(M.location,A,H);o&&o(F,A),m=v()+1;let P=Fh(F,m),L=M.createHref(F);try{d.pushState(P,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(L)}u&&y&&y({action:h,location:M.location,delta:1})}function C(A,H){h="REPLACE";let F=Ju(M.location,A,H);o&&o(F,A),m=v();let P=Fh(F,m),L=M.createHref(F);d.replaceState(P,"",L),u&&y&&y({action:h,location:M.location,delta:0})}function R(A){return HS(A)}let M={get action(){return h},get location(){return n(s,d)},listen(A){if(y)throw new Error("A history only accepts one active listener");return s.addEventListener(Bh,S),y=A,()=>{s.removeEventListener(Bh,S),y=null}},createHref(A){return t(s,A)},createURL:R,encodeLocation(A){let H=R(A);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:x,replace:C,go(A){return d.go(A)}};return M}function HS(n,t=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Be(o,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:yl(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=o+a),new URL(a,o)}function Ug(n,t,o="/"){return PS(n,t,o,!1)}function PS(n,t,o,a){let s=typeof t=="string"?Ti(t):t,u=_n(s.pathname||"/",o);if(u==null)return null;let d=Lg(n);qS(d);let h=null;for(let y=0;h==null&&y<d.length;++y){let m=$S(u);h=KS(d[y],m,a)}return h}function Lg(n,t=[],o=[],a="",s=!1){let u=(d,h,y=s,m)=>{let v={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&y)return;Be(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let S=xn([a,v.relativePath]),x=o.concat(v);d.children&&d.children.length>0&&(Be(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),Lg(d.children,t,x,S,y)),!(d.path==null&&!d.index)&&t.push({path:S,score:YS(S,d.index),routesMeta:x})};return n.forEach((d,h)=>{var y;if(d.path===""||!((y=d.path)!=null&&y.includes("?")))u(d,h);else for(let m of kg(d.path))u(d,h,!0,m)}),t}function kg(n){let t=n.split("/");if(t.length===0)return[];let[o,...a]=t,s=o.endsWith("?"),u=o.replace(/\?$/,"");if(a.length===0)return s?[u,""]:[u];let d=kg(a.join("/")),h=[];return h.push(...d.map(y=>y===""?u:[u,y].join("/"))),s&&h.push(...d),h.map(y=>n.startsWith("/")&&y===""?"/":y)}function qS(n){n.sort((t,o)=>t.score!==o.score?o.score-t.score:QS(t.routesMeta.map(a=>a.childrenIndex),o.routesMeta.map(a=>a.childrenIndex)))}var zS=/^:[\w-]+$/,VS=3,OS=2,BS=1,FS=10,JS=-2,Jh=n=>n==="*";function YS(n,t){let o=n.split("/"),a=o.length;return o.some(Jh)&&(a+=JS),t&&(a+=OS),o.filter(s=>!Jh(s)).reduce((s,u)=>s+(zS.test(u)?VS:u===""?BS:FS),a)}function QS(n,t){return n.length===t.length&&n.slice(0,-1).every((a,s)=>a===t[s])?n[n.length-1]-t[t.length-1]:0}function KS(n,t,o=!1){let{routesMeta:a}=n,s={},u="/",d=[];for(let h=0;h<a.length;++h){let y=a[h],m=h===a.length-1,v=u==="/"?t:t.slice(u.length)||"/",S=Wa({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},v),x=y.route;if(!S&&m&&o&&!a[a.length-1].route.index&&(S=Wa({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!S)return null;Object.assign(s,S.params),d.push({params:s,pathname:xn([u,S.pathname]),pathnameBase:eT(xn([u,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(u=xn([u,S.pathnameBase]))}return d}function Wa(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,a]=XS(n.path,n.caseSensitive,n.end),s=t.match(o);if(!s)return null;let u=s[0],d=u.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:S},x)=>{if(v==="*"){let R=h[x]||"";d=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const C=h[x];return S&&!C?m[v]=void 0:m[v]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:n}}function XS(n,t=!1,o=!0){Kt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,y)=>(a.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function $S(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function _n(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let o=t.endsWith("/")?t.length-1:t.length,a=n.charAt(o);return a&&a!=="/"?null:n.slice(o)||"/"}var ZS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function WS(n,t="/"){let{pathname:o,search:a="",hash:s=""}=typeof n=="string"?Ti(n):n,u;return o?(o=o.replace(/\/\/+/g,"/"),o.startsWith("/")?u=Yh(o.substring(1),"/"):u=Yh(o,t)):u=t,{pathname:u,search:tT(a),hash:nT(s)}}function Yh(n,t){let o=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?o.length>1&&o.pop():s!=="."&&o.push(s)}),o.length>1?o.join("/"):"/"}function qu(n,t,o,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jS(n){return n.filter((t,o)=>o===0||t.route.path&&t.route.path.length>0)}function Gg(n){let t=jS(n);return t.map((o,a)=>a===t.length-1?o.pathname:o.pathnameBase)}function Hg(n,t,o,a=!1){let s;typeof n=="string"?s=Ti(n):(s={...n},Be(!s.pathname||!s.pathname.includes("?"),qu("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),qu("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),qu("#","search","hash",s)));let u=n===""||s.pathname==="",d=u?"/":s.pathname,h;if(d==null)h=o;else{let S=t.length-1;if(!a&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),S-=1;s.pathname=x.join("/")}h=S>=0?t[S]:"/"}let y=WS(s,h),m=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(m||v)&&(y.pathname+="/"),y}var xn=n=>n.join("/").replace(/\/\/+/g,"/"),eT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,iT=class{constructor(n,t,o,a=!1){this.status=n,this.statusText=t||"",this.internal=a,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function oT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function lT(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Pg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qg(n,t){let o=n;if(typeof o!="string"||!ZS.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let a=o,s=!1;if(Pg)try{let u=new URL(window.location.href),d=o.startsWith("//")?new URL(u.protocol+o):new URL(o),h=_n(d.pathname,t);d.origin===u.origin&&h!=null?o=h+d.search+d.hash:s=!0}catch{Kt(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zg=["POST","PUT","PATCH","DELETE"];new Set(zg);var aT=["GET",...zg];new Set(aT);var mo=V.createContext(null);mo.displayName="DataRouter";var rs=V.createContext(null);rs.displayName="DataRouterState";var sT=V.createContext(!1),Vg=V.createContext({isTransitioning:!1});Vg.displayName="ViewTransition";var rT=V.createContext(new Map);rT.displayName="Fetchers";var uT=V.createContext(null);uT.displayName="Await";var Ot=V.createContext(null);Ot.displayName="Navigation";var Sl=V.createContext(null);Sl.displayName="Location";var An=V.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var pc=V.createContext(null);pc.displayName="RouteError";var Og="REACT_ROUTER_ERROR",cT="REDIRECT",fT="ROUTE_ERROR_RESPONSE";function dT(n){if(n.startsWith(`${Og}:${cT}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function pT(n){if(n.startsWith(`${Og}:${fT}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new iT(t.status,t.statusText,t.data)}catch{}}function hT(n,{relative:t}={}){Be(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:a}=V.useContext(Ot),{hash:s,pathname:u,search:d}=El(n,{relative:t}),h=u;return o!=="/"&&(h=u==="/"?o:xn([o,u])),a.createHref({pathname:h,search:d,hash:s})}function Tl(){return V.useContext(Sl)!=null}function Ei(){return Be(Tl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Sl).location}var Bg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fg(n){V.useContext(Ot).static||V.useLayoutEffect(n)}function mT(){let{isDataRoute:n}=V.useContext(An);return n?RT():gT()}function gT(){Be(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(mo),{basename:t,navigator:o}=V.useContext(Ot),{matches:a}=V.useContext(An),{pathname:s}=Ei(),u=JSON.stringify(Gg(a)),d=V.useRef(!1);return Fg(()=>{d.current=!0}),V.useCallback((y,m={})=>{if(Kt(d.current,Bg),!d.current)return;if(typeof y=="number"){o.go(y);return}let v=Hg(y,JSON.parse(u),s,m.relative==="path");n==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:xn([t,v.pathname])),(m.replace?o.replace:o.push)(v,m.state,m)},[t,o,u,s,n])}V.createContext(null);function El(n,{relative:t}={}){let{matches:o}=V.useContext(An),{pathname:a}=Ei(),s=JSON.stringify(Gg(o));return V.useMemo(()=>Hg(n,JSON.parse(s),a,t==="path"),[n,s,a,t])}function yT(n,t){return Jg(n,t)}function Jg(n,t,o,a,s){var F;Be(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(Ot),{matches:d}=V.useContext(An),h=d[d.length-1],y=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",S=h&&h.route;{let P=S&&S.path||"";Qg(m,!S||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let x=Ei(),C;if(t){let P=typeof t=="string"?Ti(t):t;Be(v==="/"||((F=P.pathname)==null?void 0:F.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${P.pathname}" was given in the \`location\` prop.`),C=P}else C=x;let R=C.pathname||"/",M=R;if(v!=="/"){let P=v.replace(/^\//,"").split("/");M="/"+R.replace(/^\//,"").split("/").slice(P.length).join("/")}let A=Ug(n,{pathname:M});Kt(S||A!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Kt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=xT(A&&A.map(P=>Object.assign({},P,{params:Object.assign({},y,P.params),pathname:xn([v,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?v:xn([v,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),d,o,a,s);return t&&H?V.createElement(Sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function vT(){let n=bT(),t=oT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),o?V.createElement("pre",{style:s},o):null,d)}var ST=V.createElement(vT,null),Yg=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const o=pT(n.digest);o&&(n=o)}let t=n!==void 0?V.createElement(An.Provider,{value:this.props.routeContext},V.createElement(pc.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?V.createElement(TT,{error:n},t):t}};Yg.contextType=sT;var zu=new WeakMap;function TT({children:n,error:t}){let{basename:o}=V.useContext(Ot);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=dT(t.digest);if(a){let s=zu.get(t);if(s)throw s;let u=qg(a.location,o);if(Pg&&!zu.get(t))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw zu.set(t,d),d}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function ET({routeContext:n,match:t,children:o}){let a=V.useContext(mo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(An.Provider,{value:n},o)}function xT(n,t=[],o=null,a=null,s=null){if(n==null){if(!o)return null;if(o.errors)n=o.matches;else if(t.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let u=n,d=o==null?void 0:o.errors;if(d!=null){let v=u.findIndex(S=>S.route.id&&(d==null?void 0:d[S.route.id])!==void 0);Be(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let h=!1,y=-1;if(o)for(let v=0;v<u.length;v++){let S=u[v];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=v),S.route.id){let{loaderData:x,errors:C}=o,R=S.route.loader&&!x.hasOwnProperty(S.route.id)&&(!C||C[S.route.id]===void 0);if(S.route.lazy||R){h=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let m=o&&a?(v,S)=>{var x,C;a(v,{location:o.location,params:((C=(x=o.matches)==null?void 0:x[0])==null?void 0:C.params)??{},unstable_pattern:lT(o.matches),errorInfo:S})}:void 0;return u.reduceRight((v,S,x)=>{let C,R=!1,M=null,A=null;o&&(C=d&&S.route.id?d[S.route.id]:void 0,M=S.route.errorElement||ST,h&&(y<0&&x===0?(Qg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,A=null):y===x&&(R=!0,A=S.route.hydrateFallbackElement||null)));let H=t.concat(u.slice(0,x+1)),F=()=>{let P;return C?P=M:R?P=A:S.route.Component?P=V.createElement(S.route.Component,null):S.route.element?P=S.route.element:P=v,V.createElement(ET,{match:S,routeContext:{outlet:v,matches:H,isDataRoute:o!=null},children:P})};return o&&(S.route.ErrorBoundary||S.route.errorElement||x===0)?V.createElement(Yg,{location:o.location,revalidation:o.revalidation,component:M,error:C,children:F(),routeContext:{outlet:null,matches:H,isDataRoute:!0},onError:m}):F()},null)}function hc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(n){let t=V.useContext(mo);return Be(t,hc(n)),t}function CT(n){let t=V.useContext(rs);return Be(t,hc(n)),t}function AT(n){let t=V.useContext(An);return Be(t,hc(n)),t}function mc(n){let t=AT(n),o=t.matches[t.matches.length-1];return Be(o.route.id,`${n} can only be used on routes that contain a unique "id"`),o.route.id}function NT(){return mc("useRouteId")}function bT(){var a;let n=V.useContext(pc),t=CT("useRouteError"),o=mc("useRouteError");return n!==void 0?n:(a=t.errors)==null?void 0:a[o]}function RT(){let{router:n}=_T("useNavigate"),t=mc("useNavigate"),o=V.useRef(!1);return Fg(()=>{o.current=!0}),V.useCallback(async(s,u={})=>{Kt(o.current,Bg),o.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:t,...u}))},[n,t])}var Qh={};function Qg(n,t,o){!t&&!Qh[n]&&(Qh[n]=!0,Kt(!1,o))}V.memo(MT);function MT({routes:n,future:t,state:o,onError:a}){return Jg(n,void 0,o,a,t)}function Qa(n){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wT({basename:n="/",children:t=null,location:o,navigationType:a="POP",navigator:s,static:u=!1,unstable_useTransitions:d}){Be(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),y=V.useMemo(()=>({basename:h,navigator:s,static:u,unstable_useTransitions:d,future:{}}),[h,s,u,d]);typeof o=="string"&&(o=Ti(o));let{pathname:m="/",search:v="",hash:S="",state:x=null,key:C="default"}=o,R=V.useMemo(()=>{let M=_n(m,h);return M==null?null:{location:{pathname:M,search:v,hash:S,state:x,key:C},navigationType:a}},[h,m,v,S,x,C,a]);return Kt(R!=null,`<Router basename="${h}"> is not able to match the URL "${m}${v}${S}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:V.createElement(Ot.Provider,{value:y},V.createElement(Sl.Provider,{children:t,value:R}))}function IT({children:n,location:t}){return yT(Yu(n),t)}function Yu(n,t=[]){let o=[];return V.Children.forEach(n,(a,s)=>{if(!V.isValidElement(a))return;let u=[...t,s];if(a.type===V.Fragment){o.push.apply(o,Yu(a.props.children,u));return}Be(a.type===Qa,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Yu(a.props.children,u)),o.push(d)}),o}var Ka="get",Xa="application/x-www-form-urlencoded";function us(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function DT(n){return us(n)&&n.tagName.toLowerCase()==="button"}function UT(n){return us(n)&&n.tagName.toLowerCase()==="form"}function LT(n){return us(n)&&n.tagName.toLowerCase()==="input"}function kT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GT(n,t){return n.button===0&&(!t||t==="_self")&&!kT(n)}var za=null;function HT(){if(za===null)try{new FormData(document.createElement("form"),0),za=!1}catch{za=!0}return za}var PT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vu(n){return n!=null&&!PT.has(n)?(Kt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xa}"`),null):n}function qT(n,t){let o,a,s,u,d;if(UT(n)){let h=n.getAttribute("action");a=h?_n(h,t):null,o=n.getAttribute("method")||Ka,s=Vu(n.getAttribute("enctype"))||Xa,u=new FormData(n)}else if(DT(n)||LT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||h.getAttribute("action");if(a=y?_n(y,t):null,o=n.getAttribute("formmethod")||h.getAttribute("method")||Ka,s=Vu(n.getAttribute("formenctype"))||Vu(h.getAttribute("enctype"))||Xa,u=new FormData(h,n),!HT()){let{name:m,type:v,value:S}=n;if(v==="image"){let x=m?`${m}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else m&&u.append(m,S)}}else{if(us(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Ka,a=null,s=Xa,d=n}return u&&s==="text/plain"&&(d=u,u=void 0),{action:a,method:o.toLowerCase(),encType:s,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gc(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function zT(n,t,o,a){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:t&&_n(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function VT(n,t){if(n.id in t)return t[n.id];try{let o=await import(n.module);return t[n.id]=o,o}catch(o){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BT(n,t,o){let a=await Promise.all(n.map(async s=>{let u=t.routes[s.route.id];if(u){let d=await VT(u,o);return d.links?d.links():[]}return[]}));return QT(a.flat(1).filter(OT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Kh(n,t,o,a,s,u){let d=(y,m)=>o[m]?y.route.id!==o[m].route.id:!0,h=(y,m)=>{var v;return o[m].pathname!==y.pathname||((v=o[m].route.path)==null?void 0:v.endsWith("*"))&&o[m].params["*"]!==y.params["*"]};return u==="assets"?t.filter((y,m)=>d(y,m)||h(y,m)):u==="data"?t.filter((y,m)=>{var S;let v=a.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(d(y,m)||h(y,m))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((S=o[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function FT(n,t,{includeHydrateFallback:o}={}){return JT(n.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let u=[s.module];return s.clientActionModule&&(u=u.concat(s.clientActionModule)),s.clientLoaderModule&&(u=u.concat(s.clientLoaderModule)),o&&s.hydrateFallbackModule&&(u=u.concat(s.hydrateFallbackModule)),s.imports&&(u=u.concat(s.imports)),u}).flat(1))}function JT(n){return[...new Set(n)]}function YT(n){let t={},o=Object.keys(n).sort();for(let a of o)t[a]=n[a];return t}function QT(n,t){let o=new Set;return new Set(t),n.reduce((a,s)=>{let u=JSON.stringify(YT(s));return o.has(u)||(o.add(u),a.push({key:u,link:s})),a},[])}function Kg(){let n=V.useContext(mo);return gc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function KT(){let n=V.useContext(rs);return gc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var yc=V.createContext(void 0);yc.displayName="FrameworkContext";function Xg(){let n=V.useContext(yc);return gc(n,"You must render this element inside a <HydratedRouter> element"),n}function XT(n,t){let o=V.useContext(yc),[a,s]=V.useState(!1),[u,d]=V.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:m,onMouseLeave:v,onTouchStart:S}=t,x=V.useRef(null);V.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let M=H=>{H.forEach(F=>{d(F.isIntersecting)})},A=new IntersectionObserver(M,{threshold:.5});return x.current&&A.observe(x.current),()=>{A.disconnect()}}},[n]),V.useEffect(()=>{if(a){let M=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(M)}}},[a]);let C=()=>{s(!0)},R=()=>{s(!1),d(!1)};return o?n!=="intent"?[u,x,{}]:[u,x,{onFocus:pl(h,C),onBlur:pl(y,R),onMouseEnter:pl(m,C),onMouseLeave:pl(v,R),onTouchStart:pl(S,C)}]:[!1,x,{}]}function pl(n,t){return o=>{n&&n(o),o.defaultPrevented||t(o)}}function $T({page:n,...t}){let{router:o}=Kg(),a=V.useMemo(()=>Ug(o.routes,n,o.basename),[o.routes,n,o.basename]);return a?V.createElement(WT,{page:n,matches:a,...t}):null}function ZT(n){let{manifest:t,routeModules:o}=Xg(),[a,s]=V.useState([]);return V.useEffect(()=>{let u=!1;return BT(n,t,o).then(d=>{u||s(d)}),()=>{u=!0}},[n,t,o]),a}function WT({page:n,matches:t,...o}){let a=Ei(),{future:s,manifest:u,routeModules:d}=Xg(),{basename:h}=Kg(),{loaderData:y,matches:m}=KT(),v=V.useMemo(()=>Kh(n,t,m,u,a,"data"),[n,t,m,u,a]),S=V.useMemo(()=>Kh(n,t,m,u,a,"assets"),[n,t,m,u,a]),x=V.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let M=new Set,A=!1;if(t.forEach(F=>{var L;let P=u.routes[F.route.id];!P||!P.hasLoader||(!v.some(z=>z.route.id===F.route.id)&&F.route.id in y&&((L=d[F.route.id])!=null&&L.shouldRevalidate)||P.hasClientLoader?A=!0:M.add(F.route.id))}),M.size===0)return[];let H=zT(n,h,s.unstable_trailingSlashAwareDataRequests,"data");return A&&M.size>0&&H.searchParams.set("_routes",t.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[H.pathname+H.search]},[h,s.unstable_trailingSlashAwareDataRequests,y,a,u,v,t,n,d]),C=V.useMemo(()=>FT(S,u),[S,u]),R=ZT(S);return V.createElement(V.Fragment,null,x.map(M=>V.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...o})),C.map(M=>V.createElement("link",{key:M,rel:"modulepreload",href:M,...o})),R.map(({key:M,link:A})=>V.createElement("link",{key:M,nonce:o.nonce,...A,crossOrigin:A.crossOrigin??o.crossOrigin})))}function jT(...n){return t=>{n.forEach(o=>{typeof o=="function"?o(t):o!=null&&(o.current=t)})}}var eE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eE&&(window.__reactRouterVersion="7.13.0")}catch{}function tE({basename:n,children:t,unstable_useTransitions:o,window:a}){let s=V.useRef();s.current==null&&(s.current=LS({window:a,v5Compat:!0}));let u=s.current,[d,h]=V.useState({action:u.action,location:u.location}),y=V.useCallback(m=>{o===!1?h(m):V.startTransition(()=>h(m))},[o]);return V.useLayoutEffect(()=>u.listen(y),[u,y]),V.createElement(wT,{basename:n,children:t,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:o})}var $g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zg=V.forwardRef(function({onClick:t,discover:o="render",prefetch:a="none",relative:s,reloadDocument:u,replace:d,state:h,target:y,to:m,preventScrollReset:v,viewTransition:S,unstable_defaultShouldRevalidate:x,...C},R){let{basename:M,unstable_useTransitions:A}=V.useContext(Ot),H=typeof m=="string"&&$g.test(m),F=qg(m,M);m=F.to;let P=hT(m,{relative:s}),[L,z,X]=XT(a,C),$=oE(m,{replace:d,state:h,target:y,preventScrollReset:v,relative:s,viewTransition:S,unstable_defaultShouldRevalidate:x,unstable_useTransitions:A});function ee(ce){t&&t(ce),ce.defaultPrevented||$(ce)}let ne=V.createElement("a",{...C,...X,href:F.absoluteURL||P,onClick:F.isExternal||u?t:ee,ref:jT(R,z),target:y,"data-discover":!H&&o==="render"?"true":void 0});return L&&!H?V.createElement(V.Fragment,null,ne,V.createElement($T,{page:P})):ne});Zg.displayName="Link";var Wg=V.forwardRef(function({"aria-current":t="page",caseSensitive:o=!1,className:a="",end:s=!1,style:u,to:d,viewTransition:h,children:y,...m},v){let S=El(d,{relative:m.relative}),x=Ei(),C=V.useContext(rs),{navigator:R,basename:M}=V.useContext(Ot),A=C!=null&&uE(S)&&h===!0,H=R.encodeLocation?R.encodeLocation(S).pathname:S.pathname,F=x.pathname,P=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;o||(F=F.toLowerCase(),P=P?P.toLowerCase():null,H=H.toLowerCase()),P&&M&&(P=_n(P,M)||P);const L=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let z=F===H||!s&&F.startsWith(H)&&F.charAt(L)==="/",X=P!=null&&(P===H||!s&&P.startsWith(H)&&P.charAt(H.length)==="/"),$={isActive:z,isPending:X,isTransitioning:A},ee=z?t:void 0,ne;typeof a=="function"?ne=a($):ne=[a,z?"active":null,X?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let ce=typeof u=="function"?u($):u;return V.createElement(Zg,{...m,"aria-current":ee,className:ne,ref:v,style:ce,to:d,viewTransition:h},typeof y=="function"?y($):y)});Wg.displayName="NavLink";var nE=V.forwardRef(({discover:n="render",fetcherKey:t,navigate:o,reloadDocument:a,replace:s,state:u,method:d=Ka,action:h,onSubmit:y,relative:m,preventScrollReset:v,viewTransition:S,unstable_defaultShouldRevalidate:x,...C},R)=>{let{unstable_useTransitions:M}=V.useContext(Ot),A=sE(),H=rE(h,{relative:m}),F=d.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&$g.test(h),L=z=>{if(y&&y(z),z.defaultPrevented)return;z.preventDefault();let X=z.nativeEvent.submitter,$=(X==null?void 0:X.getAttribute("formmethod"))||d,ee=()=>A(X||z.currentTarget,{fetcherKey:t,method:$,navigate:o,replace:s,state:u,relative:m,preventScrollReset:v,viewTransition:S,unstable_defaultShouldRevalidate:x});M&&o!==!1?V.startTransition(()=>ee()):ee()};return V.createElement("form",{ref:R,method:F,action:H,onSubmit:a?y:L,...C,"data-discover":!P&&n==="render"?"true":void 0})});nE.displayName="Form";function iE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jg(n){let t=V.useContext(mo);return Be(t,iE(n)),t}function oE(n,{target:t,replace:o,state:a,preventScrollReset:s,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:y}={}){let m=mT(),v=Ei(),S=El(n,{relative:u});return V.useCallback(x=>{if(GT(x,t)){x.preventDefault();let C=o!==void 0?o:yl(v)===yl(S),R=()=>m(n,{replace:C,state:a,preventScrollReset:s,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:h});y?V.startTransition(()=>R()):R()}},[v,m,S,o,a,t,n,s,u,d,h,y])}var lE=0,aE=()=>`__${String(++lE)}__`;function sE(){let{router:n}=jg("useSubmit"),{basename:t}=V.useContext(Ot),o=NT(),a=n.fetch,s=n.navigate;return V.useCallback(async(u,d={})=>{let{action:h,method:y,encType:m,formData:v,body:S}=qT(u,t);if(d.navigate===!1){let x=d.fetcherKey||aE();await a(x,o,d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:S,formMethod:d.method||y,formEncType:d.encType||m,flushSync:d.flushSync})}else await s(d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:S,formMethod:d.method||y,formEncType:d.encType||m,replace:d.replace,state:d.state,fromRouteId:o,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,s,t,o])}function rE(n,{relative:t}={}){let{basename:o}=V.useContext(Ot),a=V.useContext(An);Be(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),u={...El(n||".",{relative:t})},d=Ei();if(n==null){u.search=d.search;let h=new URLSearchParams(u.search),y=h.getAll("index");if(y.some(v=>v==="")){h.delete("index"),y.filter(S=>S).forEach(S=>h.append("index",S));let v=h.toString();u.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(u.pathname=u.pathname==="/"?o:xn([o,u.pathname])),yl(u)}function uE(n,{relative:t}={}){let o=V.useContext(Vg);Be(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=jg("useViewTransitionState"),s=El(n,{relative:t});if(!o.isTransitioning)return!1;let u=_n(o.currentLocation.pathname,a)||o.currentLocation.pathname,d=_n(o.nextLocation.pathname,a)||o.nextLocation.pathname;return Wa(s.pathname,d)!=null||Wa(s.pathname,u)!=null}/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=(...n)=>n.filter((t,o,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===o).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,a)=>a?a.toUpperCase():o.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=n=>{const t=fE(n);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=V.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:u,iconNode:d,...h},y)=>V.createElement("svg",{ref:y,...dE,width:t,height:t,stroke:n,strokeWidth:a?Number(o)*24/Number(t):o,className:ey("lucide",s),...!u&&!pE(h)&&{"aria-hidden":"true"},...h},[...d.map(([m,v])=>V.createElement(m,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(n,t)=>{const o=V.forwardRef(({className:a,...s},u)=>V.createElement(hE,{ref:u,iconNode:t,className:ey(`lucide-${cE(Xh(n))}`,`lucide-${n}`,a),...s}));return o.displayName=Xh(n),o};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],gE=Ge("arrow-down-to-line",mE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vE=Ge("arrow-right",yE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],TE=Ge("calculator",SE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xE=Ge("circle-alert",EE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$h=Ge("circle-check",_E);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AE=Ge("circle-play",CE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bE=Ge("copy",NE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ty=Ge("history",RE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wE=Ge("info",ME);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],vc=Ge("layers",IE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],UE=Ge("layout-dashboard",DE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kE=Ge("log-out",LE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],HE=Ge("menu",GE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ny=Ge("package",PE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],iy=Ge("pen",qE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Zh=Ge("pencil",zE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qu=Ge("plus",VE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],BE=Ge("printer",OE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ku=Ge("rotate-ccw",FE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],YE=Ge("ruler",JE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],ja=Ge("scissors",QE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oy=Ge("search",KE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],$E=Ge("shopping-cart",XE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Wh=Ge("sparkles",ZE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],es=Ge("trash-2",WE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ly=Ge("trending-up",jE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tx=Ge("triangle-alert",ex);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xu=Ge("x",nx),ix=({children:n})=>{const[t,o]=uo.useState(!1),a=[{to:"/",icon:UE,label:"Dashboard"},{to:"/productos",icon:ny,label:"Productos"},{to:"/materias-primas",icon:vc,label:"Materias Primas"}],s="bg-blue-50 text-blue-600 font-medium",u="text-gray-500 hover:bg-gray-100 transition-all duration-200";return E.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[t&&E.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>o(!1)}),E.jsx("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out
        md:relative md:translate-x-0
        ${t?"translate-x-0":"-translate-x-full"}
      `,children:E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white",children:E.jsx(TE,{size:24})}),E.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Calculadora"})]}),E.jsx("nav",{className:"flex-1 p-4 space-y-1",children:a.map(d=>E.jsxs(Wg,{to:d.to,onClick:()=>o(!1),className:({isActive:h})=>`
                  flex items-center gap-3 px-4 py-3 rounded-lg text-sm
                  ${h?s:u}
                `,children:[E.jsx(d.icon,{size:20}),d.label]},d.to))}),E.jsx("div",{className:"p-4 border-t border-gray-100",children:E.jsxs("button",{className:"flex items-center gap-3 w-full px-4 py-3 rounded-lg text-sm text-gray-500 hover:bg-red-50 hover:text-red-600 transition-all",children:[E.jsx(kE,{size:20}),"Cerrar Sesin"]})})]})}),E.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[E.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center px-4 md:px-8 justify-between sticky top-0 z-30",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{className:"p-2 md:hidden text-gray-500",onClick:()=>o(!0),children:E.jsx(HE,{size:24})}),E.jsx("h2",{className:"text-lg font-semibold text-gray-800 hidden md:block",children:"Panel de Control"})]}),E.jsx("div",{className:"flex items-center gap-4",children:E.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xs",children:"AD"})})]}),E.jsx("div",{className:"p-4 md:p-8 max-w-7xl mx-auto w-full",children:n})]})]})},jh=n=>{let t;const o=new Set,a=(m,v)=>{const S=typeof m=="function"?m(t):m;if(!Object.is(S,t)){const x=t;t=v??(typeof S!="object"||S===null)?S:Object.assign({},t,S),o.forEach(C=>C(t,x))}},s=()=>t,h={setState:a,getState:s,getInitialState:()=>y,subscribe:m=>(o.add(m),()=>o.delete(m))},y=t=n(a,s,h);return h},ox=(n=>n?jh(n):jh),lx=n=>n;function ax(n,t=lx){const o=uo.useSyncExternalStore(n.subscribe,uo.useCallback(()=>t(n.getState()),[n,t]),uo.useCallback(()=>t(n.getInitialState()),[n,t]));return uo.useDebugValue(o),o}const sx=n=>{const t=ox(n),o=a=>ax(t,a);return Object.assign(o,t),o},rx=(n=>sx);function ux(n,t){let o;try{o=n()}catch{return}return{getItem:s=>{var u;const d=y=>y===null?null:JSON.parse(y,void 0),h=(u=o.getItem(s))!=null?u:null;return h instanceof Promise?h.then(d):d(h)},setItem:(s,u)=>o.setItem(s,JSON.stringify(u,void 0)),removeItem:s=>o.removeItem(s)}}const $u=n=>t=>{try{const o=n(t);return o instanceof Promise?o:{then(a){return $u(a)(o)},catch(a){return this}}}catch(o){return{then(a){return this},catch(a){return $u(a)(o)}}}},cx=(n,t)=>(o,a,s)=>{let u={storage:ux(()=>window.localStorage),partialize:A=>A,version:0,merge:(A,H)=>({...H,...A}),...t},d=!1,h=0;const y=new Set,m=new Set;let v=u.storage;if(!v)return n((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),o(...A)},a,s);const S=()=>{const A=u.partialize({...a()});return v.setItem(u.name,{state:A,version:u.version})},x=s.setState;s.setState=(A,H)=>(x(A,H),S());const C=n((...A)=>(o(...A),S()),a,s);s.getInitialState=()=>C;let R;const M=()=>{var A,H;if(!v)return;const F=++h;d=!1,y.forEach(L=>{var z;return L((z=a())!=null?z:C)});const P=((H=u.onRehydrateStorage)==null?void 0:H.call(u,(A=a())!=null?A:C))||void 0;return $u(v.getItem.bind(v))(u.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==u.version){if(u.migrate){const z=u.migrate(L.state,L.version);return z instanceof Promise?z.then(X=>[!0,X]):[!0,z]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var z;if(F!==h)return;const[X,$]=L;if(R=u.merge($,(z=a())!=null?z:C),o(R,!0),X)return S()}).then(()=>{F===h&&(P==null||P(R,void 0),R=a(),d=!0,m.forEach(L=>L(R)))}).catch(L=>{F===h&&(P==null||P(void 0,L))})};return s.persist={setOptions:A=>{u={...u,...A},A.storage&&(v=A.storage)},clearStorage:()=>{v==null||v.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>M(),hasHydrated:()=>d,onHydrate:A=>(y.add(A),()=>{y.delete(A)}),onFinishHydration:A=>(m.add(A),()=>{m.delete(A)})},u.skipHydration||M(),R||C},fx=cx,dx=(n,t)=>n===t?1:n==="metro"&&t==="cm"?100:n==="cm"&&t==="metro"?.01:n==="kg"&&t==="gramo"?1e3:n==="gramo"&&t==="kg"?.001:1,Sc=(n,t,o,a,s)=>{const u=s.find(v=>v.id===n);if(!u)return[];const d=dx(u.unit,o);let h=t/d;const y=a.filter(v=>v.materialId===n&&v.remainingQuantity>0).sort((v,S)=>new Date(v.date).getTime()-new Date(S.date).getTime()),m=[];for(const v of y){if(h<=0)break;const S=Math.min(h,v.remainingQuantity);m.push({batchId:v.id,date:v.date,unitCost:v.unitCost,quantityUsed:S,quantityUsedInTargetUnit:S*d,subtotal:S*v.unitCost}),h-=S}if(h>0){const v=y[y.length-1],S=v?v.unitCost:0;m.push({batchId:"faltante",date:"N/A (Sin Stock)",unitCost:S,quantityUsed:h,quantityUsedInTargetUnit:h*d,subtotal:h*S,isMissing:!0})}return m},ay=(n,t,o,a,s)=>Sc(n,t,o,a,s).reduce((d,h)=>d+h.subtotal,0),Tc=rx()(fx((n,t)=>({products:[],rawMaterials:[],batches:[],movements:[],addProduct:o=>n(a=>({products:[...a.products,o]})),updateProduct:o=>n(a=>({products:a.products.map(s=>s.id===o.id?o:s)})),deleteProduct:o=>n(a=>({products:a.products.filter(s=>s.id!==o)})),addRawMaterial:o=>n(a=>({rawMaterials:[...a.rawMaterials,o]})),updateRawMaterial:o=>n(a=>({rawMaterials:a.rawMaterials.map(s=>s.id===o.id?o:s)})),deleteRawMaterial:o=>n(a=>({rawMaterials:a.rawMaterials.filter(s=>s.id!==o),batches:a.batches.filter(s=>s.materialId!==o),movements:a.movements.filter(s=>s.materialId!==o)})),addBatch:o=>n(a=>{const s={id:`mov-${Date.now()}`,materialId:o.materialId,batchId:o.id,date:o.date,type:"ingreso",quantity:o.initialQuantity,unitCost:o.unitCost,reference:o.provider};return{batches:[...a.batches,o],movements:[...a.movements,s]}}),deleteBatch:o=>n(a=>({batches:a.batches.filter(s=>s.id!==o),movements:a.movements.filter(s=>s.batchId!==o)})),updateBatch:o=>n(a=>{const s=a.movements.map(u=>u.batchId===o.id&&u.type==="ingreso"?{...u,quantity:o.initialQuantity,unitCost:o.unitCost,reference:o.provider,date:o.date}:u);return{batches:a.batches.map(u=>u.id===o.id?o:u),movements:s}}),updateBatchRemaining:(o,a)=>n(s=>({batches:s.batches.map(u=>u.id===o?{...u,remainingQuantity:a}:u)})),consumeStock:o=>{const a=t().products.find(s=>s.id===o);a&&n(s=>{let u=[...s.batches];const d=[],h=new Date().toISOString().split("T")[0];return a.materials.forEach(y=>{Sc(y.materialId,y.quantity,y.consumptionUnit,u,s.rawMaterials).forEach(v=>{v.batchId!=="faltante"&&(u=u.map(S=>S.id===v.batchId?{...S,remainingQuantity:Math.max(0,S.remainingQuantity-v.quantityUsed)}:S),d.push({id:`mov-${Date.now()}-${Math.random()}`,materialId:y.materialId,batchId:v.batchId,date:h,type:"egreso",quantity:v.quantityUsed,unitCost:v.unitCost,reference:`Prod: ${a.name}`}))})}),{batches:u,movements:[...s.movements,...d]}})}}),{name:"calculadora-pro-fifo-v4"})),Ec=(n,t,o)=>n.materials.reduce((a,s)=>a+ay(s.materialId,s.quantity,s.consumptionUnit,t,o),0),ts=(n,t)=>n===0?0:(n-t)/n*100;var px={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hx,mx;function gx(){return{geminiUrl:hx,vertexUrl:mx}}function yx(n,t,o,a){var s,u;if(!(n!=null&&n.baseUrl)){const d=gx();return t?(s=d.vertexUrl)!==null&&s!==void 0?s:o:(u=d.geminiUrl)!==null&&u!==void 0?u:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nn{}function ie(n,t){const o=/\{([^}]+)\}/g;return n.replace(o,(a,s)=>{if(Object.prototype.hasOwnProperty.call(t,s)){const u=t[s];return u!=null?String(u):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function f(n,t,o){for(let u=0;u<t.length-1;u++){const d=t[u];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in n))if(Array.isArray(o))n[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];f(v,t.slice(u+1),o[m])}else for(const m of y)f(m,t.slice(u+1),o)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];f(y[0],t.slice(u+1),o);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const a=t[t.length-1],s=n[a];if(s!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===s)return;if(typeof s=="object"&&typeof o=="object"&&s!==null&&o!==null)Object.assign(s,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[a]=o}function c(n,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return n;for(let a=0;a<t.length;a++){if(typeof n!="object"||n===null)return o;const s=t[a];if(s.endsWith("[]")){const u=s.slice(0,-2);if(u in n){const d=n[u];return Array.isArray(d)?d.map(h=>c(h,t.slice(a+1),o)):o}else return o}else n=n[s]}return n}catch(a){if(a instanceof TypeError)return o;throw a}}function vx(n,t){for(const[o,a]of Object.entries(t)){const s=o.split("."),u=a.split("."),d=new Set;let h=-1;for(let y=0;y<s.length;y++)if(s[y]==="*"){h=y;break}if(h!==-1&&u.length>h)for(let y=h;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}Zu(n,s,u,0,d)}}function Zu(n,t,o,a,s){if(a>=t.length||typeof n!="object"||n===null)return;const u=t[a];if(u.endsWith("[]")){const d=u.slice(0,-2),h=n;if(d in h&&Array.isArray(h[d]))for(const y of h[d])Zu(y,t,o,a+1,s)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,h=Object.keys(d).filter(m=>!m.startsWith("_")&&!s.has(m)),y={};for(const m of h)y[m]=d[m];for(const[m,v]of Object.entries(y)){const S=[];for(const x of o.slice(a))x==="*"?S.push(m):S.push(x);f(d,S,v)}for(const m of h)delete d[m]}}else{const d=n;u in d&&Zu(d[u],t,o,a+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sx(n){const t={},o=c(n,["operationName"]);o!=null&&f(t,["operationName"],o);const a=c(n,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function Tx(n){const t={},o=c(n,["name"]);o!=null&&f(t,["name"],o);const a=c(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=c(n,["done"]);s!=null&&f(t,["done"],s);const u=c(n,["error"]);u!=null&&f(t,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],xx(d)),t}function Ex(n){const t={},o=c(n,["name"]);o!=null&&f(t,["name"],o);const a=c(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=c(n,["done"]);s!=null&&f(t,["done"],s);const u=c(n,["error"]);u!=null&&f(t,["error"],u);const d=c(n,["response"]);return d!=null&&f(t,["response"],_x(d)),t}function xx(n){const t={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Cx(d))),f(t,["generatedVideos"],u)}const a=c(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const s=c(n,["raiMediaFilteredReasons"]);return s!=null&&f(t,["raiMediaFilteredReasons"],s),t}function _x(n){const t={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Ax(d))),f(t,["generatedVideos"],u)}const a=c(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const s=c(n,["raiMediaFilteredReasons"]);return s!=null&&f(t,["raiMediaFilteredReasons"],s),t}function Cx(n){const t={},o=c(n,["video"]);return o!=null&&f(t,["video"],Ix(o)),t}function Ax(n){const t={},o=c(n,["_self"]);return o!=null&&f(t,["video"],Dx(o)),t}function Nx(n){const t={},o=c(n,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function bx(n){const t={},o=c(n,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function Rx(n){const t={},o=c(n,["name"]);o!=null&&f(t,["name"],o);const a=c(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=c(n,["done"]);s!=null&&f(t,["done"],s);const u=c(n,["error"]);u!=null&&f(t,["error"],u);const d=c(n,["response"]);return d!=null&&f(t,["response"],Mx(d)),t}function Mx(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["parent"]);a!=null&&f(t,["parent"],a);const s=c(n,["documentName"]);return s!=null&&f(t,["documentName"],s),t}function sy(n){const t={},o=c(n,["name"]);o!=null&&f(t,["name"],o);const a=c(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=c(n,["done"]);s!=null&&f(t,["done"],s);const u=c(n,["error"]);u!=null&&f(t,["error"],u);const d=c(n,["response"]);return d!=null&&f(t,["response"],wx(d)),t}function wx(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["parent"]);a!=null&&f(t,["parent"],a);const s=c(n,["documentName"]);return s!=null&&f(t,["documentName"],s),t}function Ix(n){const t={},o=c(n,["uri"]);o!=null&&f(t,["uri"],o);const a=c(n,["encodedVideo"]);a!=null&&f(t,["videoBytes"],xc(a));const s=c(n,["encoding"]);return s!=null&&f(t,["mimeType"],s),t}function Dx(n){const t={},o=c(n,["gcsUri"]);o!=null&&f(t,["uri"],o);const a=c(n,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],xc(a));const s=c(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var em;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(em||(em={}));var tm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(tm||(tm={}));var nm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(nm||(nm={}));var jn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(jn||(jn={}));var im;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(im||(im={}));var om;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(om||(om={}));var lm;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(lm||(lm={}));var am;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(am||(am={}));var sm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(sm||(sm={}));var rm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(rm||(rm={}));var um;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(um||(um={}));var cm;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(cm||(cm={}));var fm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(fm||(fm={}));var dm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(dm||(dm={}));var pm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(pm||(pm={}));var hm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(hm||(hm={}));var mm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(mm||(mm={}));var gm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gm||(gm={}));var ym;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ym||(ym={}));var vm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(vm||(vm={}));var Sm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sm||(Sm={}));var ns;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ns||(ns={}));var Tm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Tm||(Tm={}));var Em;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Em||(Em={}));var xm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(xm||(xm={}));var Wu;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wu||(Wu={}));var _m;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(_m||(_m={}));var Cm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Cm||(Cm={}));var ju;(function(n){n.COLLECTION="COLLECTION"})(ju||(ju={}));var Am;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Am||(Am={}));var Nm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Nm||(Nm={}));var bm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(bm||(bm={}));var Rm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Rm||(Rm={}));var Mm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Mm||(Mm={}));var wm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wm||(wm={}));var Im;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Im||(Im={}));var Dm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Dm||(Dm={}));var Um;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Um||(Um={}));var Lm;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Lm||(Lm={}));var km;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(km||(km={}));var Gm;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Gm||(Gm={}));var Hm;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Hm||(Hm={}));var Pm;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(Pm||(Pm={}));var qm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(qm||(qm={}));var zm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(zm||(zm={}));var Vm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(Vm||(Vm={}));var Om;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Om||(Om={}));var Bm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Bm||(Bm={}));var Fm;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Fm||(Fm={}));var Jm;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(Jm||(Jm={}));var Ym;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ym||(Ym={}));var Qm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Qm||(Qm={}));var Km;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Km||(Km={}));var Xm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Xm||(Xm={}));var $m;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($m||($m={}));var Zm;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Zm||(Zm={}));var co;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(co||(co={}));class ec{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class hl{get text(){var t,o,a,s,u,d,h,y;if(((s=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const S=[];for(const x of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[C,R]of Object.entries(x))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(R!==null||R!==void 0)&&S.push(C);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;v=!0,m+=x.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,o,a,s,u,d,h,y;if(((s=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const S of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[x,C]of Object.entries(S))x!=="inlineData"&&(C!==null||C!==void 0)&&v.push(x);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,a,s,u,d,h,y;if(((s=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,o,a,s,u,d,h,y,m;if(((s=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,a,s,u,d,h,y,m;if(((s=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Wm{}class jm{}class Ux{}class Lx{}class kx{}class Gx{}class eg{}class tg{}class ng{}class Hx{}class is{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new is;let s;const u=t;return o?s=Ex(u):s=Tx(u),Object.assign(a,s),a}}class ig{}class og{}class lg{}class ag{}class Px{}class qx{}class zx{}class _c{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new _c,u=Rx(t);return Object.assign(a,u),a}}class Vx{}class Ox{}class Bx{}class Fx{}class sg{}class Jx{get text(){var t,o,a;let s="",u=!1;const d=[];for(const h of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(h))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,s+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?s:void 0}get data(){var t,o,a;let s="";const u=[];for(const d of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&y!==null&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(s+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class Yx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Cc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Cc,u=sy(t);return Object.assign(a,u),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Re(n,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ry(n,t){const o=Re(n,t);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function uy(n){return Array.isArray(n)?n.map(t=>os(t)):[os(n)]}function os(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function cy(n){const t=os(n);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fy(n){const t=os(n);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function rg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function dy(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(t=>rg(t)):[rg(n)]}function tc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function ug(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function cg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function rt(n){if(n==null)throw new Error("ContentUnion is required");return tc(n)?n:{role:"user",parts:dy(n)}}function Ac(n,t){if(!t)return[];if(n.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=rt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const o=rt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>rt(o)):[rt(t)]}function zt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(ug(n)||cg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rt(n)]}const t=[],o=[],a=tc(n[0]);for(const s of n){const u=tc(s);if(u!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)t.push(s);else{if(ug(s)||cg(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(s)}}return a||t.push({role:"user",parts:dy(o)}),t}function Qx(n,t){n.includes("null")&&(t.nullable=!0);const o=n.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(jn).includes(o[0].toUpperCase())?o[0].toUpperCase():jn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(jn).includes(a.toUpperCase())?a.toUpperCase():jn.TYPE_UNSPECIFIED})}}function po(n){const t={},o=["items"],a=["anyOf"],s=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,n=u[1]):u[1].type==="null"&&(t.nullable=!0,n=u[0])),n.type instanceof Array&&Qx(n.type,t);for(const[d,h]of Object.entries(n))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;t.type=Object.values(jn).includes(h.toUpperCase())?h.toUpperCase():jn.TYPE_UNSPECIFIED}else if(o.includes(d))t[d]=po(h);else if(a.includes(d)){const y=[];for(const m of h){if(m.type=="null"){t.nullable=!0;continue}y.push(po(m))}t[d]=y}else if(s.includes(d)){const y={};for(const[m,v]of Object.entries(h))y[m]=po(v);t[d]=y}else{if(d==="additionalProperties")continue;t[d]=h}return t}function Nc(n){return po(n)}function bc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Rc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function go(n){if(n.functionDeclarations)for(const t of n.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=po(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=po(t.response));return n}function yo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of n)t.push(o);return t}function Kx(n,t,o,a=1){const s=!t.startsWith(`${o}/`)&&t.split("/").length===a;return n.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${n.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:s?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${t}`:t:s?`${o}/${t}`:t}function bn(n,t){if(typeof t!="string")throw new Error("name must be a string");return Kx(n,t,"cachedContents")}function py(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ei(n){return xc(n)}function Xx(n){return n!=null&&typeof n=="object"&&"name"in n}function $x(n){return n!=null&&typeof n=="object"&&"video"in n}function Zx(n){return n!=null&&typeof n=="object"&&"uri"in n}function hy(n){var t;let o;if(Xx(n)&&(o=n.name),!(Zx(n)&&(o=n.uri,o===void 0))&&!($x(n)&&(o=(t=n.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const s=o.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${o}`);o=s[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function my(n,t){let o;return n.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function gy(n){for(const t of["models","tunedModels","publisherModels"])if(Wx(n,t))return n[t];return[]}function Wx(n,t){return n!==null&&typeof n=="object"&&t in n}function jx(n,t={}){const o=n,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function e_(n,t={}){const o=[],a=new Set;for(const s of n){const u=s.name;if(a.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);a.add(u);const d=jx(s,t);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function yy(n,t){let o;if(typeof t=="string")if(n.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,s=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(s>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function t_(n){if(typeof n!="string")return n;const t=n;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function vy(n){if(typeof n!="object"||n===null)return{};const t=n,o=t.inlinedResponses;if(typeof o!="object"||o===null)return n;const s=o.inlinedResponses;if(!Array.isArray(s)||s.length===0)return n;let u=!1;for(const d of s){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),n}function vo(n,t){const o=t;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Sy(n){const t=n;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n_(n){const t={},o=c(n,["responsesFile"]);o!=null&&f(t,["fileName"],o);const a=c(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>G_(d))),f(t,["inlinedResponses"],u)}const s=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["inlinedEmbedContentResponses"],u)}return t}function i_(n){const t={},o=c(n,["predictionsFormat"]);o!=null&&f(t,["format"],o);const a=c(n,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const s=c(n,["bigqueryDestination","outputUri"]);return s!=null&&f(t,["bigqueryUri"],s),t}function o_(n){const t={},o=c(n,["format"]);o!=null&&f(t,["predictionsFormat"],o);const a=c(n,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const s=c(n,["bigqueryUri"]);if(s!=null&&f(t,["bigqueryDestination","outputUri"],s),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function $a(n){const t={},o=c(n,["name"]);o!=null&&f(t,["name"],o);const a=c(n,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const s=c(n,["metadata","state"]);s!=null&&f(t,["state"],Sy(s));const u=c(n,["metadata","createTime"]);u!=null&&f(t,["createTime"],u);const d=c(n,["metadata","endTime"]);d!=null&&f(t,["endTime"],d);const h=c(n,["metadata","updateTime"]);h!=null&&f(t,["updateTime"],h);const y=c(n,["metadata","model"]);y!=null&&f(t,["model"],y);const m=c(n,["metadata","output"]);return m!=null&&f(t,["dest"],n_(vy(m))),t}function nc(n){const t={},o=c(n,["name"]);o!=null&&f(t,["name"],o);const a=c(n,["displayName"]);a!=null&&f(t,["displayName"],a);const s=c(n,["state"]);s!=null&&f(t,["state"],Sy(s));const u=c(n,["error"]);u!=null&&f(t,["error"],u);const d=c(n,["createTime"]);d!=null&&f(t,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(t,["startTime"],h);const y=c(n,["endTime"]);y!=null&&f(t,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(t,["updateTime"],m);const v=c(n,["model"]);v!=null&&f(t,["model"],v);const S=c(n,["inputConfig"]);S!=null&&f(t,["src"],l_(S));const x=c(n,["outputConfig"]);x!=null&&f(t,["dest"],i_(vy(x)));const C=c(n,["completionStats"]);return C!=null&&f(t,["completionStats"],C),t}function l_(n){const t={},o=c(n,["instancesFormat"]);o!=null&&f(t,["format"],o);const a=c(n,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const s=c(n,["bigquerySource","inputUri"]);return s!=null&&f(t,["bigqueryUri"],s),t}function a_(n,t){const o={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=c(t,["fileName"]);a!=null&&f(o,["fileName"],a);const s=c(t,["inlinedRequests"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>k_(n,d))),f(o,["requests","requests"],u)}return o}function s_(n){const t={},o=c(n,["format"]);o!=null&&f(t,["instancesFormat"],o);const a=c(n,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const s=c(n,["bigqueryUri"]);if(s!=null&&f(t,["bigquerySource","inputUri"],s),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function r_(n){const t={},o=c(n,["data"]);if(o!=null&&f(t,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function u_(n,t){const o={},a=c(t,["name"]);return a!=null&&f(o,["_url","name"],vo(n,a)),o}function c_(n,t){const o={},a=c(t,["name"]);return a!=null&&f(o,["_url","name"],vo(n,a)),o}function f_(n){const t={},o=c(n,["content"]);o!=null&&f(t,["content"],o);const a=c(n,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],d_(a));const s=c(n,["tokenCount"]);s!=null&&f(t,["tokenCount"],s);const u=c(n,["finishReason"]);u!=null&&f(t,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const y=c(n,["index"]);y!=null&&f(t,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(C=>C)),f(t,["safetyRatings"],x)}const S=c(n,["urlContextMetadata"]);return S!=null&&f(t,["urlContextMetadata"],S),t}function d_(n){const t={},o=c(n,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>s)),f(t,["citations"],a)}return t}function Ty(n){const t={},o=c(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>B_(u))),f(t,["parts"],s)}const a=c(n,["role"]);return a!=null&&f(t,["role"],a),t}function p_(n,t){const o={},a=c(n,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function h_(n,t){const o={},a=c(n,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const s=c(n,["dest"]);return t!==void 0&&s!=null&&f(t,["outputConfig"],o_(t_(s))),o}function fg(n,t){const o={},a=c(t,["model"]);a!=null&&f(o,["_url","model"],Re(n,a));const s=c(t,["src"]);s!=null&&f(o,["batch","inputConfig"],a_(n,yy(n,s)));const u=c(t,["config"]);return u!=null&&p_(u,o),o}function m_(n,t){const o={},a=c(t,["model"]);a!=null&&f(o,["model"],Re(n,a));const s=c(t,["src"]);s!=null&&f(o,["inputConfig"],s_(yy(n,s)));const u=c(t,["config"]);return u!=null&&h_(u,o),o}function g_(n,t){const o={},a=c(n,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),o}function y_(n,t){const o={},a=c(t,["model"]);a!=null&&f(o,["_url","model"],Re(n,a));const s=c(t,["src"]);s!=null&&f(o,["batch","inputConfig"],C_(n,s));const u=c(t,["config"]);return u!=null&&g_(u,o),o}function v_(n,t){const o={},a=c(t,["name"]);return a!=null&&f(o,["_url","name"],vo(n,a)),o}function S_(n,t){const o={},a=c(t,["name"]);return a!=null&&f(o,["_url","name"],vo(n,a)),o}function T_(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["name"]);a!=null&&f(t,["name"],a);const s=c(n,["done"]);s!=null&&f(t,["done"],s);const u=c(n,["error"]);return u!=null&&f(t,["error"],u),t}function E_(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["name"]);a!=null&&f(t,["name"],a);const s=c(n,["done"]);s!=null&&f(t,["done"],s);const u=c(n,["error"]);return u!=null&&f(t,["error"],u),t}function x_(n,t){const o={},a=c(t,["contents"]);if(a!=null){let u=Ac(n,a);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["requests[]","request","content"],u)}const s=c(t,["config"]);return s!=null&&(f(o,["_self"],__(s,o)),vx(o,{"requests[].*":"requests[].request.*"})),o}function __(n,t){const o={},a=c(n,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const s=c(n,["title"]);t!==void 0&&s!=null&&f(t,["requests[]","title"],s);const u=c(n,["outputDimensionality"]);if(t!==void 0&&u!=null&&f(t,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function C_(n,t){const o={},a=c(t,["fileName"]);a!=null&&f(o,["file_name"],a);const s=c(t,["inlinedRequests"]);return s!=null&&f(o,["requests"],x_(n,s)),o}function A_(n){const t={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=c(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function N_(n){const t={},o=c(n,["id"]);o!=null&&f(t,["id"],o);const a=c(n,["args"]);a!=null&&f(t,["args"],a);const s=c(n,["name"]);if(s!=null&&f(t,["name"],s),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function b_(n){const t={},o=c(n,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=c(n,["mode"]);if(a!=null&&f(t,["mode"],a),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function R_(n,t,o){const a={},s=c(t,["systemInstruction"]);o!==void 0&&s!=null&&f(o,["systemInstruction"],Ty(rt(s)));const u=c(t,["temperature"]);u!=null&&f(a,["temperature"],u);const d=c(t,["topP"]);d!=null&&f(a,["topP"],d);const h=c(t,["topK"]);h!=null&&f(a,["topK"],h);const y=c(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const m=c(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=c(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const S=c(t,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const x=c(t,["logprobs"]);x!=null&&f(a,["logprobs"],x);const C=c(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const R=c(t,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const M=c(t,["seed"]);M!=null&&f(a,["seed"],M);const A=c(t,["responseMimeType"]);A!=null&&f(a,["responseMimeType"],A);const H=c(t,["responseSchema"]);H!=null&&f(a,["responseSchema"],Nc(H));const F=c(t,["responseJsonSchema"]);if(F!=null&&f(a,["responseJsonSchema"],F),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=c(t,["safetySettings"]);if(o!==void 0&&P!=null){let De=P;Array.isArray(De)&&(De=De.map(Ce=>F_(Ce))),f(o,["safetySettings"],De)}const L=c(t,["tools"]);if(o!==void 0&&L!=null){let De=yo(L);Array.isArray(De)&&(De=De.map(Ce=>Y_(go(Ce)))),f(o,["tools"],De)}const z=c(t,["toolConfig"]);if(o!==void 0&&z!=null&&f(o,["toolConfig"],J_(z)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=c(t,["cachedContent"]);o!==void 0&&X!=null&&f(o,["cachedContent"],bn(n,X));const $=c(t,["responseModalities"]);$!=null&&f(a,["responseModalities"],$);const ee=c(t,["mediaResolution"]);ee!=null&&f(a,["mediaResolution"],ee);const ne=c(t,["speechConfig"]);if(ne!=null&&f(a,["speechConfig"],bc(ne)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=c(t,["thinkingConfig"]);ce!=null&&f(a,["thinkingConfig"],ce);const ge=c(t,["imageConfig"]);ge!=null&&f(a,["imageConfig"],L_(ge));const Ae=c(t,["enableEnhancedCivicAnswers"]);if(Ae!=null&&f(a,["enableEnhancedCivicAnswers"],Ae),c(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function M_(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>f_(m))),f(t,["candidates"],y)}const s=c(n,["modelVersion"]);s!=null&&f(t,["modelVersion"],s);const u=c(n,["promptFeedback"]);u!=null&&f(t,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(t,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(t,["usageMetadata"],h),t}function w_(n,t){const o={},a=c(t,["name"]);return a!=null&&f(o,["_url","name"],vo(n,a)),o}function I_(n,t){const o={},a=c(t,["name"]);return a!=null&&f(o,["_url","name"],vo(n,a)),o}function D_(n){const t={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function U_(n){const t={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function L_(n){const t={},o=c(n,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const a=c(n,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function k_(n,t){const o={},a=c(t,["model"]);a!=null&&f(o,["request","model"],Re(n,a));const s=c(t,["contents"]);if(s!=null){let h=zt(s);Array.isArray(h)&&(h=h.map(y=>Ty(y))),f(o,["request","contents"],h)}const u=c(t,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(t,["config"]);return d!=null&&f(o,["request","generationConfig"],R_(n,d,c(o,["request"],{}))),o}function G_(n){const t={},o=c(n,["response"]);o!=null&&f(t,["response"],M_(o));const a=c(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=c(n,["error"]);return s!=null&&f(t,["error"],s),t}function H_(n,t){const o={},a=c(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=c(n,["pageToken"]);if(t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function P_(n,t){const o={},a=c(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=c(n,["pageToken"]);t!==void 0&&s!=null&&f(t,["_query","pageToken"],s);const u=c(n,["filter"]);return t!==void 0&&u!=null&&f(t,["_query","filter"],u),o}function q_(n){const t={},o=c(n,["config"]);return o!=null&&H_(o,t),t}function z_(n){const t={},o=c(n,["config"]);return o!=null&&P_(o,t),t}function V_(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=c(n,["operations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>$a(d))),f(t,["batchJobs"],u)}return t}function O_(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=c(n,["batchPredictionJobs"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>nc(d))),f(t,["batchJobs"],u)}return t}function B_(n){const t={},o=c(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=c(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const s=c(n,["executableCode"]);s!=null&&f(t,["executableCode"],s);const u=c(n,["fileData"]);u!=null&&f(t,["fileData"],A_(u));const d=c(n,["functionCall"]);d!=null&&f(t,["functionCall"],N_(d));const h=c(n,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(t,["inlineData"],r_(y));const m=c(n,["text"]);m!=null&&f(t,["text"],m);const v=c(n,["thought"]);v!=null&&f(t,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const x=c(n,["videoMetadata"]);return x!=null&&f(t,["videoMetadata"],x),t}function F_(n){const t={},o=c(n,["category"]);if(o!=null&&f(t,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=c(n,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function J_(n){const t={},o=c(n,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=c(n,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],b_(a)),t}function Y_(n){const t={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=c(n,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const s=c(n,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const d=c(n,["googleMaps"]);d!=null&&f(t,["googleMaps"],D_(d));const h=c(n,["googleSearch"]);h!=null&&f(t,["googleSearch"],U_(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Cn||(Cn={}));class xi{constructor(t,o,a,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,s)}init(t,o,a){var s,u;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!a||Object.keys(a).length===0?d={config:{}}:typeof a=="object"?d=Object.assign({},a):d=a,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(s=d.config)===null||s===void 0?void 0:s.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q_ extends Nn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new xi(Cn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=fg(this.apiClient,t),a=o._url,s=ie("{model}:batchGenerateContent",a),h=o.batch.inputConfig.requests,y=h.requests,m=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const x=S.systemInstruction;delete S.systemInstruction;const C=S.request;C.systemInstruction=x,S.request=C}m.push(S)}return h.requests=m,delete o.config,delete o._url,delete o._query,{path:s,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},s=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${s}`),a.dest===void 0){const u=this.getGcsUri(t),d=this.getBigqueryUri(t);if(u)u.endsWith(".jsonl")?a.dest=`${u.slice(0,-6)}/dest`:a.dest=`${u}_dest_${s}`;else if(d)a.dest=`${d}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=m_(this.apiClient,t);return h=ie("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>nc(v))}else{const m=fg(this.apiClient,t);return h=ie("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>$a(v))}}async createEmbeddingsInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=y_(this.apiClient,t);return u=ie("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>$a(y))}}async get(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=I_(this.apiClient,t);return h=ie("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>nc(v))}else{const m=w_(this.apiClient,t);return h=ie("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>$a(v))}}async cancel(t){var o,a,s,u;let d="",h={};if(this.apiClient.isVertexAI()){const y=c_(this.apiClient,t);d=ie("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=u_(this.apiClient,t);d=ie("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=z_(t);return h=ie("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=O_(v),x=new sg;return Object.assign(x,S),x})}else{const m=q_(t);return h=ie("batches",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=V_(v),x=new sg;return Object.assign(x,S),x})}}async delete(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=S_(this.apiClient,t);return h=ie("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>E_(v))}else{const m=v_(this.apiClient,t);return h=ie("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>T_(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K_(n){const t={},o=c(n,["data"]);if(o!=null&&f(t,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function dg(n){const t={},o=c(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>yC(u))),f(t,["parts"],s)}const a=c(n,["role"]);return a!=null&&f(t,["role"],a),t}function X_(n,t){const o={},a=c(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const s=c(n,["expireTime"]);t!==void 0&&s!=null&&f(t,["expireTime"],s);const u=c(n,["displayName"]);t!==void 0&&u!=null&&f(t,["displayName"],u);const d=c(n,["contents"]);if(t!==void 0&&d!=null){let v=zt(d);Array.isArray(v)&&(v=v.map(S=>dg(S))),f(t,["contents"],v)}const h=c(n,["systemInstruction"]);t!==void 0&&h!=null&&f(t,["systemInstruction"],dg(rt(h)));const y=c(n,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>SC(S))),f(t,["tools"],v)}const m=c(n,["toolConfig"]);if(t!==void 0&&m!=null&&f(t,["toolConfig"],vC(m)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function $_(n,t){const o={},a=c(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const s=c(n,["expireTime"]);t!==void 0&&s!=null&&f(t,["expireTime"],s);const u=c(n,["displayName"]);t!==void 0&&u!=null&&f(t,["displayName"],u);const d=c(n,["contents"]);if(t!==void 0&&d!=null){let S=zt(d);Array.isArray(S)&&(S=S.map(x=>x)),f(t,["contents"],S)}const h=c(n,["systemInstruction"]);t!==void 0&&h!=null&&f(t,["systemInstruction"],rt(h));const y=c(n,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(x=>TC(x))),f(t,["tools"],S)}const m=c(n,["toolConfig"]);t!==void 0&&m!=null&&f(t,["toolConfig"],m);const v=c(n,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),o}function Z_(n,t){const o={},a=c(t,["model"]);a!=null&&f(o,["model"],ry(n,a));const s=c(t,["config"]);return s!=null&&X_(s,o),o}function W_(n,t){const o={},a=c(t,["model"]);a!=null&&f(o,["model"],ry(n,a));const s=c(t,["config"]);return s!=null&&$_(s,o),o}function j_(n,t){const o={},a=c(t,["name"]);return a!=null&&f(o,["_url","name"],bn(n,a)),o}function eC(n,t){const o={},a=c(t,["name"]);return a!=null&&f(o,["_url","name"],bn(n,a)),o}function tC(n){const t={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function nC(n){const t={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function iC(n){const t={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=c(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function oC(n){const t={},o=c(n,["id"]);o!=null&&f(t,["id"],o);const a=c(n,["args"]);a!=null&&f(t,["args"],a);const s=c(n,["name"]);if(s!=null&&f(t,["name"],s),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lC(n){const t={},o=c(n,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=c(n,["mode"]);if(a!=null&&f(t,["mode"],a),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function aC(n){const t={},o=c(n,["description"]);o!=null&&f(t,["description"],o);const a=c(n,["name"]);a!=null&&f(t,["name"],a);const s=c(n,["parameters"]);s!=null&&f(t,["parameters"],s);const u=c(n,["parametersJsonSchema"]);u!=null&&f(t,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(t,["response"],d);const h=c(n,["responseJsonSchema"]);if(h!=null&&f(t,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function sC(n,t){const o={},a=c(t,["name"]);return a!=null&&f(o,["_url","name"],bn(n,a)),o}function rC(n,t){const o={},a=c(t,["name"]);return a!=null&&f(o,["_url","name"],bn(n,a)),o}function uC(n){const t={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function cC(n){const t={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function fC(n,t){const o={},a=c(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=c(n,["pageToken"]);return t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),o}function dC(n,t){const o={},a=c(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=c(n,["pageToken"]);return t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),o}function pC(n){const t={},o=c(n,["config"]);return o!=null&&fC(o,t),t}function hC(n){const t={},o=c(n,["config"]);return o!=null&&dC(o,t),t}function mC(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=c(n,["cachedContents"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["cachedContents"],u)}return t}function gC(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=c(n,["cachedContents"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["cachedContents"],u)}return t}function yC(n){const t={},o=c(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=c(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const s=c(n,["executableCode"]);s!=null&&f(t,["executableCode"],s);const u=c(n,["fileData"]);u!=null&&f(t,["fileData"],iC(u));const d=c(n,["functionCall"]);d!=null&&f(t,["functionCall"],oC(d));const h=c(n,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(t,["inlineData"],K_(y));const m=c(n,["text"]);m!=null&&f(t,["text"],m);const v=c(n,["thought"]);v!=null&&f(t,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const x=c(n,["videoMetadata"]);return x!=null&&f(t,["videoMetadata"],x),t}function vC(n){const t={},o=c(n,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=c(n,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],lC(a)),t}function SC(n){const t={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=c(n,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const s=c(n,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const d=c(n,["googleMaps"]);d!=null&&f(t,["googleMaps"],uC(d));const h=c(n,["googleSearch"]);h!=null&&f(t,["googleSearch"],cC(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function TC(n){const t={},o=c(n,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=c(n,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(n,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const u=c(n,["enterpriseWebSearch"]);u!=null&&f(t,["enterpriseWebSearch"],u);const d=c(n,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(x=>aC(x))),f(t,["functionDeclarations"],S)}const h=c(n,["googleMaps"]);h!=null&&f(t,["googleMaps"],h);const y=c(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const m=c(n,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],m);const v=c(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function EC(n,t){const o={},a=c(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const s=c(n,["expireTime"]);return t!==void 0&&s!=null&&f(t,["expireTime"],s),o}function xC(n,t){const o={},a=c(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const s=c(n,["expireTime"]);return t!==void 0&&s!=null&&f(t,["expireTime"],s),o}function _C(n,t){const o={},a=c(t,["name"]);a!=null&&f(o,["_url","name"],bn(n,a));const s=c(t,["config"]);return s!=null&&EC(s,o),o}function CC(n,t){const o={},a=c(t,["name"]);a!=null&&f(o,["_url","name"],bn(n,a));const s=c(t,["config"]);return s!=null&&xC(s,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AC extends Nn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new xi(Cn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=W_(this.apiClient,t);return h=ie("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=Z_(this.apiClient,t);return h=ie("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=rC(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=sC(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=eC(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=nC(v),x=new lg;return Object.assign(x,S),x})}else{const m=j_(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=tC(v),x=new lg;return Object.assign(x,S),x})}}async update(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=CC(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=_C(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=hC(t);return h=ie("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=gC(v),x=new ag;return Object.assign(x,S),x})}else{const m=pC(t);return h=ie("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=mC(v),x=new ag;return Object.assign(x,S),x})}}}function ls(n,t){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(n);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(n,a[s])&&(o[a[s]]=n[a[s]]);return o}function pg(n){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&n[t],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(n){return this instanceof fe?(this.v=n,this):new fe(n)}function Yt(n,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,t||[]),s,u=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(C){return function(R){return Promise.resolve(R).then(C,S)}}function h(C,R){a[C]&&(s[C]=function(M){return new Promise(function(A,H){u.push([C,M,A,H])>1||y(C,M)})},R&&(s[C]=R(s[C])))}function y(C,R){try{m(a[C](R))}catch(M){x(u[0][3],M)}}function m(C){C.value instanceof fe?Promise.resolve(C.value.v).then(v,S):x(u[0][2],C)}function v(C){y("next",C)}function S(C){y("throw",C)}function x(C,R){C(R),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Qt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],o;return t?t.call(n):(n=typeof pg=="function"?pg(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(u){o[u]=n[u]&&function(d){return new Promise(function(h,y){d=n[u](d),s(h,y,d.done,d.value)})}}function s(u,d,h,y){Promise.resolve(y).then(function(m){u({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(n){var t;if(n.candidates==null||n.candidates.length===0)return!1;const o=(t=n.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Ey(o)}function Ey(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const t of n.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function bC(n){if(n.length!==0){for(const t of n)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function hg(n){if(n===void 0||n.length===0)return[];const t=[],o=n.length;let a=0;for(;a<o;)if(n[a].role==="user")t.push(n[a]),a++;else{const s=[];let u=!0;for(;a<o&&n[a].role==="model";)s.push(n[a]),u&&!Ey(n[a])&&(u=!1),a++;u?t.push(...s):t.pop()}return t}class RC{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new MC(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class MC{constructor(t,o,a,s={},u=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=s,this.history=u,this.sendPromise=Promise.resolve(),bC(u)}async sendMessage(t){var o;await this.sendPromise;const a=rt(t.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,d,h;const y=await s,m=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let x=[];v!=null&&(x=(h=v.slice(S))!==null&&h!==void 0?h:[]);const C=m?[m]:[];this.recordHistory(a,C,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(t){var o;await this.sendPromise;const a=rt(t.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const u=await s;return this.processStreamResponse(u,a)}getHistory(t=!1){const o=t?hg(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Yt(this,arguments,function*(){var s,u,d,h,y,m;const v=[];try{for(var S=!0,x=Qt(t),C;C=yield fe(x.next()),s=C.done,!s;S=!0){h=C.value,S=!1;const R=h;if(NC(R)){const M=(m=(y=R.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;M!==void 0&&v.push(M)}yield yield fe(R)}}catch(R){u={error:R}}finally{try{!S&&!s&&(d=x.return)&&(yield fe(d.call(x)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let s=[];o.length>0&&o.every(u=>u.role!==void 0)?s=o:s.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...hg(a)):this.history.push(t),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,vl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(n){const t={},o=c(n,["file"]);return o!=null&&f(t,["file"],o),t}function IC(n){const t={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function DC(n){const t={},o=c(n,["name"]);return o!=null&&f(t,["_url","file"],hy(o)),t}function UC(n){const t={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function LC(n){const t={},o=c(n,["name"]);return o!=null&&f(t,["_url","file"],hy(o)),t}function kC(n){const t={},o=c(n,["uris"]);return o!=null&&f(t,["uris"],o),t}function GC(n,t){const o={},a=c(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=c(n,["pageToken"]);return t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),o}function HC(n){const t={},o=c(n,["config"]);return o!=null&&GC(o,t),t}function PC(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=c(n,["files"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["files"],u)}return t}function qC(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["files"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),f(t,["files"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zC extends Nn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new xi(Cn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=HC(t);return u=ie("files",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=PC(y),v=new Vx;return Object.assign(v,m),v})}}async createInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=wC(t);return u=ie("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=IC(y),v=new Ox;return Object.assign(v,m),v})}}async get(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=LC(t);return u=ie("files/{file}",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=DC(t);return u=ie("files/{file}",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=UC(y),v=new Bx;return Object.assign(v,m),v})}}async registerFilesInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=kC(t);return u=ie("files:register",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=qC(y),v=new Fx;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Za(n){const t={},o=c(n,["data"]);if(o!=null&&f(t,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function VC(n){const t={},o=c(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>iA(u))),f(t,["parts"],s)}const a=c(n,["role"]);return a!=null&&f(t,["role"],a),t}function OC(n){const t={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=c(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function BC(n){const t={},o=c(n,["id"]);o!=null&&f(t,["id"],o);const a=c(n,["args"]);a!=null&&f(t,["args"],a);const s=c(n,["name"]);if(s!=null&&f(t,["name"],s),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function FC(n){const t={},o=c(n,["description"]);o!=null&&f(t,["description"],o);const a=c(n,["name"]);a!=null&&f(t,["name"],a);const s=c(n,["parameters"]);s!=null&&f(t,["parameters"],s);const u=c(n,["parametersJsonSchema"]);u!=null&&f(t,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(t,["response"],d);const h=c(n,["responseJsonSchema"]);if(h!=null&&f(t,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function JC(n){const t={},o=c(n,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const a=c(n,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const s=c(n,["audioTimestamp"]);s!=null&&f(t,["audioTimestamp"],s);const u=c(n,["candidateCount"]);u!=null&&f(t,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(t,["frequencyPenalty"],h);const y=c(n,["logprobs"]);y!=null&&f(t,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const S=c(n,["presencePenalty"]);S!=null&&f(t,["presencePenalty"],S);const x=c(n,["responseLogprobs"]);x!=null&&f(t,["responseLogprobs"],x);const C=c(n,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const R=c(n,["responseModalities"]);R!=null&&f(t,["responseModalities"],R);const M=c(n,["responseSchema"]);M!=null&&f(t,["responseSchema"],M);const A=c(n,["routingConfig"]);A!=null&&f(t,["routingConfig"],A);const H=c(n,["seed"]);H!=null&&f(t,["seed"],H);const F=c(n,["speechConfig"]);F!=null&&f(t,["speechConfig"],F);const P=c(n,["stopSequences"]);P!=null&&f(t,["stopSequences"],P);const L=c(n,["temperature"]);L!=null&&f(t,["temperature"],L);const z=c(n,["thinkingConfig"]);z!=null&&f(t,["thinkingConfig"],z);const X=c(n,["topK"]);X!=null&&f(t,["topK"],X);const $=c(n,["topP"]);if($!=null&&f(t,["topP"],$),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function YC(n){const t={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function QC(n){const t={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function KC(n,t){const o={},a=c(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const s=c(n,["responseModalities"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","responseModalities"],s);const u=c(n,["temperature"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=c(n,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Rc(S));const x=c(n,["thinkingConfig"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","thinkingConfig"],x);const C=c(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const R=c(n,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],VC(rt(R)));const M=c(n,["tools"]);if(t!==void 0&&M!=null){let X=yo(M);Array.isArray(X)&&(X=X.map($=>lA(go($)))),f(t,["setup","tools"],X)}const A=c(n,["sessionResumption"]);t!==void 0&&A!=null&&f(t,["setup","sessionResumption"],oA(A));const H=c(n,["inputAudioTranscription"]);t!==void 0&&H!=null&&f(t,["setup","inputAudioTranscription"],H);const F=c(n,["outputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","outputAudioTranscription"],F);const P=c(n,["realtimeInputConfig"]);t!==void 0&&P!=null&&f(t,["setup","realtimeInputConfig"],P);const L=c(n,["contextWindowCompression"]);t!==void 0&&L!=null&&f(t,["setup","contextWindowCompression"],L);const z=c(n,["proactivity"]);if(t!==void 0&&z!=null&&f(t,["setup","proactivity"],z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function XC(n,t){const o={},a=c(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],JC(a));const s=c(n,["responseModalities"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","responseModalities"],s);const u=c(n,["temperature"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=c(n,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Rc(S));const x=c(n,["thinkingConfig"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","thinkingConfig"],x);const C=c(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const R=c(n,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],rt(R));const M=c(n,["tools"]);if(t!==void 0&&M!=null){let $=yo(M);Array.isArray($)&&($=$.map(ee=>aA(go(ee)))),f(t,["setup","tools"],$)}const A=c(n,["sessionResumption"]);t!==void 0&&A!=null&&f(t,["setup","sessionResumption"],A);const H=c(n,["inputAudioTranscription"]);t!==void 0&&H!=null&&f(t,["setup","inputAudioTranscription"],H);const F=c(n,["outputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","outputAudioTranscription"],F);const P=c(n,["realtimeInputConfig"]);t!==void 0&&P!=null&&f(t,["setup","realtimeInputConfig"],P);const L=c(n,["contextWindowCompression"]);t!==void 0&&L!=null&&f(t,["setup","contextWindowCompression"],L);const z=c(n,["proactivity"]);t!==void 0&&z!=null&&f(t,["setup","proactivity"],z);const X=c(n,["explicitVadSignal"]);return t!==void 0&&X!=null&&f(t,["setup","explicitVadSignal"],X),o}function $C(n,t){const o={},a=c(t,["model"]);a!=null&&f(o,["setup","model"],Re(n,a));const s=c(t,["config"]);return s!=null&&f(o,["config"],KC(s,o)),o}function ZC(n,t){const o={},a=c(t,["model"]);a!=null&&f(o,["setup","model"],Re(n,a));const s=c(t,["config"]);return s!=null&&f(o,["config"],XC(s,o)),o}function WC(n){const t={},o=c(n,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o),t}function jC(n){const t={},o=c(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>s)),f(t,["weightedPrompts"],a)}return t}function eA(n){const t={},o=c(n,["media"]);if(o!=null){let m=uy(o);Array.isArray(m)&&(m=m.map(v=>Za(v))),f(t,["mediaChunks"],m)}const a=c(n,["audio"]);a!=null&&f(t,["audio"],Za(fy(a)));const s=c(n,["audioStreamEnd"]);s!=null&&f(t,["audioStreamEnd"],s);const u=c(n,["video"]);u!=null&&f(t,["video"],Za(cy(u)));const d=c(n,["text"]);d!=null&&f(t,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(t,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function tA(n){const t={},o=c(n,["media"]);if(o!=null){let m=uy(o);Array.isArray(m)&&(m=m.map(v=>v)),f(t,["mediaChunks"],m)}const a=c(n,["audio"]);a!=null&&f(t,["audio"],fy(a));const s=c(n,["audioStreamEnd"]);s!=null&&f(t,["audioStreamEnd"],s);const u=c(n,["video"]);u!=null&&f(t,["video"],cy(u));const d=c(n,["text"]);d!=null&&f(t,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(t,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function nA(n){const t={},o=c(n,["setupComplete"]);o!=null&&f(t,["setupComplete"],o);const a=c(n,["serverContent"]);a!=null&&f(t,["serverContent"],a);const s=c(n,["toolCall"]);s!=null&&f(t,["toolCall"],s);const u=c(n,["toolCallCancellation"]);u!=null&&f(t,["toolCallCancellation"],u);const d=c(n,["usageMetadata"]);d!=null&&f(t,["usageMetadata"],sA(d));const h=c(n,["goAway"]);h!=null&&f(t,["goAway"],h);const y=c(n,["sessionResumptionUpdate"]);y!=null&&f(t,["sessionResumptionUpdate"],y);const m=c(n,["voiceActivityDetectionSignal"]);m!=null&&f(t,["voiceActivityDetectionSignal"],m);const v=c(n,["voiceActivity"]);return v!=null&&f(t,["voiceActivity"],rA(v)),t}function iA(n){const t={},o=c(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=c(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const s=c(n,["executableCode"]);s!=null&&f(t,["executableCode"],s);const u=c(n,["fileData"]);u!=null&&f(t,["fileData"],OC(u));const d=c(n,["functionCall"]);d!=null&&f(t,["functionCall"],BC(d));const h=c(n,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(t,["inlineData"],Za(y));const m=c(n,["text"]);m!=null&&f(t,["text"],m);const v=c(n,["thought"]);v!=null&&f(t,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const x=c(n,["videoMetadata"]);return x!=null&&f(t,["videoMetadata"],x),t}function oA(n){const t={},o=c(n,["handle"]);if(o!=null&&f(t,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function lA(n){const t={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=c(n,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const s=c(n,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const d=c(n,["googleMaps"]);d!=null&&f(t,["googleMaps"],YC(d));const h=c(n,["googleSearch"]);h!=null&&f(t,["googleSearch"],QC(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function aA(n){const t={},o=c(n,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=c(n,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(n,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const u=c(n,["enterpriseWebSearch"]);u!=null&&f(t,["enterpriseWebSearch"],u);const d=c(n,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(x=>FC(x))),f(t,["functionDeclarations"],S)}const h=c(n,["googleMaps"]);h!=null&&f(t,["googleMaps"],h);const y=c(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const m=c(n,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],m);const v=c(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function sA(n){const t={},o=c(n,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const a=c(n,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const s=c(n,["candidatesTokenCount"]);s!=null&&f(t,["responseTokenCount"],s);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&f(t,["toolUsePromptTokenCount"],u);const d=c(n,["thoughtsTokenCount"]);d!=null&&f(t,["thoughtsTokenCount"],d);const h=c(n,["totalTokenCount"]);h!=null&&f(t,["totalTokenCount"],h);const y=c(n,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["promptTokensDetails"],C)}const m=c(n,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["cacheTokensDetails"],C)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["responseTokensDetails"],C)}const S=c(n,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["toolUsePromptTokensDetails"],C)}const x=c(n,["trafficType"]);return x!=null&&f(t,["trafficType"],x),t}function rA(n){const t={},o=c(n,["type"]);return o!=null&&f(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uA(n,t){const o={},a=c(n,["data"]);if(a!=null&&f(o,["data"],a),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(o,["mimeType"],s),o}function cA(n,t){const o={},a=c(n,["content"]);a!=null&&f(o,["content"],a);const s=c(n,["citationMetadata"]);s!=null&&f(o,["citationMetadata"],fA(s));const u=c(n,["tokenCount"]);u!=null&&f(o,["tokenCount"],u);const d=c(n,["finishReason"]);d!=null&&f(o,["finishReason"],d);const h=c(n,["avgLogprobs"]);h!=null&&f(o,["avgLogprobs"],h);const y=c(n,["groundingMetadata"]);y!=null&&f(o,["groundingMetadata"],y);const m=c(n,["index"]);m!=null&&f(o,["index"],m);const v=c(n,["logprobsResult"]);v!=null&&f(o,["logprobsResult"],v);const S=c(n,["safetyRatings"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(R=>R)),f(o,["safetyRatings"],C)}const x=c(n,["urlContextMetadata"]);return x!=null&&f(o,["urlContextMetadata"],x),o}function fA(n,t){const o={},a=c(n,["citationSources"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),f(o,["citations"],s)}return o}function dA(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["contents"]);if(u!=null){let d=zt(u);Array.isArray(d)&&(d=d.map(h=>h)),f(a,["contents"],d)}return a}function pA(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["tokensInfo"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(o,["tokensInfo"],u)}return o}function hA(n,t){const o={},a=c(n,["values"]);a!=null&&f(o,["values"],a);const s=c(n,["statistics"]);return s!=null&&f(o,["statistics"],mA(s)),o}function mA(n,t){const o={},a=c(n,["truncated"]);a!=null&&f(o,["truncated"],a);const s=c(n,["token_count"]);return s!=null&&f(o,["tokenCount"],s),o}function cs(n,t){const o={},a=c(n,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>C1(d))),f(o,["parts"],u)}const s=c(n,["role"]);return s!=null&&f(o,["role"],s),o}function gA(n,t){const o={},a=c(n,["controlType"]);a!=null&&f(o,["controlType"],a);const s=c(n,["enableControlImageComputation"]);return s!=null&&f(o,["computeControl"],s),o}function yA(n,t){const o={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function vA(n,t,o){const a={},s=c(n,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],rt(s));const u=c(n,["tools"]);if(t!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>Ay(y))),f(t,["tools"],h)}const d=c(n,["generationConfig"]);return t!==void 0&&d!=null&&f(t,["generationConfig"],u1(d)),a}function SA(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["contents"]);if(u!=null){let h=zt(u);Array.isArray(h)&&(h=h.map(y=>cs(y))),f(a,["contents"],h)}const d=c(t,["config"]);return d!=null&&yA(d),a}function TA(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["contents"]);if(u!=null){let h=zt(u);Array.isArray(h)&&(h=h.map(y=>y)),f(a,["contents"],h)}const d=c(t,["config"]);return d!=null&&vA(d,a),a}function EA(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["totalTokens"]);s!=null&&f(o,["totalTokens"],s);const u=c(n,["cachedContentTokenCount"]);return u!=null&&f(o,["cachedContentTokenCount"],u),o}function xA(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["totalTokens"]);return s!=null&&f(o,["totalTokens"],s),o}function _A(n,t,o){const a={},s=c(t,["model"]);return s!=null&&f(a,["_url","name"],Re(n,s)),a}function CA(n,t,o){const a={},s=c(t,["model"]);return s!=null&&f(a,["_url","name"],Re(n,s)),a}function AA(n,t){const o={},a=c(n,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function NA(n,t){const o={},a=c(n,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function bA(n,t,o){const a={},s=c(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const u=c(n,["negativePrompt"]);t!==void 0&&u!=null&&f(t,["parameters","negativePrompt"],u);const d=c(n,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const h=c(n,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const y=c(n,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const m=c(n,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const v=c(n,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const S=c(n,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const x=c(n,["includeSafetyAttributes"]);t!==void 0&&x!=null&&f(t,["parameters","includeSafetyAttributes"],x);const C=c(n,["includeRaiReason"]);t!==void 0&&C!=null&&f(t,["parameters","includeRaiReason"],C);const R=c(n,["language"]);t!==void 0&&R!=null&&f(t,["parameters","language"],R);const M=c(n,["outputMimeType"]);t!==void 0&&M!=null&&f(t,["parameters","outputOptions","mimeType"],M);const A=c(n,["outputCompressionQuality"]);t!==void 0&&A!=null&&f(t,["parameters","outputOptions","compressionQuality"],A);const H=c(n,["addWatermark"]);t!==void 0&&H!=null&&f(t,["parameters","addWatermark"],H);const F=c(n,["labels"]);t!==void 0&&F!=null&&f(t,["labels"],F);const P=c(n,["editMode"]);t!==void 0&&P!=null&&f(t,["parameters","editMode"],P);const L=c(n,["baseSteps"]);return t!==void 0&&L!=null&&f(t,["parameters","editConfig","baseSteps"],L),a}function RA(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["prompt"]);u!=null&&f(a,["instances[0]","prompt"],u);const d=c(t,["referenceImages"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(m=>w1(m))),f(a,["instances[0]","referenceImages"],y)}const h=c(t,["config"]);return h!=null&&bA(h,a),a}function MA(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>fs(d))),f(o,["generatedImages"],u)}return o}function wA(n,t,o){const a={},s=c(n,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const u=c(n,["title"]);t!==void 0&&u!=null&&f(t,["requests[]","title"],u);const d=c(n,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function IA(n,t,o){const a={},s=c(n,["taskType"]);t!==void 0&&s!=null&&f(t,["instances[]","task_type"],s);const u=c(n,["title"]);t!==void 0&&u!=null&&f(t,["instances[]","title"],u);const d=c(n,["outputDimensionality"]);t!==void 0&&d!=null&&f(t,["parameters","outputDimensionality"],d);const h=c(n,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h);const y=c(n,["autoTruncate"]);return t!==void 0&&y!=null&&f(t,["parameters","autoTruncate"],y),a}function DA(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["contents"]);if(u!=null){let y=Ac(n,u);Array.isArray(y)&&(y=y.map(m=>m)),f(a,["requests[]","content"],y)}const d=c(t,["config"]);d!=null&&wA(d,a);const h=c(t,["model"]);return h!==void 0&&f(a,["requests[]","model"],Re(n,h)),a}function UA(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["contents"]);if(u!=null){let h=Ac(n,u);Array.isArray(h)&&(h=h.map(y=>y)),f(a,["instances[]","content"],h)}const d=c(t,["config"]);return d!=null&&IA(d,a),a}function LA(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>h)),f(o,["embeddings"],d)}const u=c(n,["metadata"]);return u!=null&&f(o,["metadata"],u),o}function kA(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>hA(h))),f(o,["embeddings"],d)}const u=c(n,["metadata"]);return u!=null&&f(o,["metadata"],u),o}function GA(n,t){const o={},a=c(n,["endpoint"]);a!=null&&f(o,["name"],a);const s=c(n,["deployedModelId"]);return s!=null&&f(o,["deployedModelId"],s),o}function HA(n,t){const o={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(n,["fileUri"]);a!=null&&f(o,["fileUri"],a);const s=c(n,["mimeType"]);return s!=null&&f(o,["mimeType"],s),o}function PA(n,t){const o={},a=c(n,["id"]);a!=null&&f(o,["id"],a);const s=c(n,["args"]);s!=null&&f(o,["args"],s);const u=c(n,["name"]);if(u!=null&&f(o,["name"],u),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function qA(n,t){const o={},a=c(n,["allowedFunctionNames"]);a!=null&&f(o,["allowedFunctionNames"],a);const s=c(n,["mode"]);if(s!=null&&f(o,["mode"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function zA(n,t){const o={},a=c(n,["description"]);a!=null&&f(o,["description"],a);const s=c(n,["name"]);s!=null&&f(o,["name"],s);const u=c(n,["parameters"]);u!=null&&f(o,["parameters"],u);const d=c(n,["parametersJsonSchema"]);d!=null&&f(o,["parametersJsonSchema"],d);const h=c(n,["response"]);h!=null&&f(o,["response"],h);const y=c(n,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function VA(n,t,o,a){const s={},u=c(t,["systemInstruction"]);o!==void 0&&u!=null&&f(o,["systemInstruction"],cs(rt(u)));const d=c(t,["temperature"]);d!=null&&f(s,["temperature"],d);const h=c(t,["topP"]);h!=null&&f(s,["topP"],h);const y=c(t,["topK"]);y!=null&&f(s,["topK"],y);const m=c(t,["candidateCount"]);m!=null&&f(s,["candidateCount"],m);const v=c(t,["maxOutputTokens"]);v!=null&&f(s,["maxOutputTokens"],v);const S=c(t,["stopSequences"]);S!=null&&f(s,["stopSequences"],S);const x=c(t,["responseLogprobs"]);x!=null&&f(s,["responseLogprobs"],x);const C=c(t,["logprobs"]);C!=null&&f(s,["logprobs"],C);const R=c(t,["presencePenalty"]);R!=null&&f(s,["presencePenalty"],R);const M=c(t,["frequencyPenalty"]);M!=null&&f(s,["frequencyPenalty"],M);const A=c(t,["seed"]);A!=null&&f(s,["seed"],A);const H=c(t,["responseMimeType"]);H!=null&&f(s,["responseMimeType"],H);const F=c(t,["responseSchema"]);F!=null&&f(s,["responseSchema"],Nc(F));const P=c(t,["responseJsonSchema"]);if(P!=null&&f(s,["responseJsonSchema"],P),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=c(t,["safetySettings"]);if(o!==void 0&&L!=null){let Ce=L;Array.isArray(Ce)&&(Ce=Ce.map(He=>I1(He))),f(o,["safetySettings"],Ce)}const z=c(t,["tools"]);if(o!==void 0&&z!=null){let Ce=yo(z);Array.isArray(Ce)&&(Ce=Ce.map(He=>P1(go(He)))),f(o,["tools"],Ce)}const X=c(t,["toolConfig"]);if(o!==void 0&&X!=null&&f(o,["toolConfig"],H1(X)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=c(t,["cachedContent"]);o!==void 0&&$!=null&&f(o,["cachedContent"],bn(n,$));const ee=c(t,["responseModalities"]);ee!=null&&f(s,["responseModalities"],ee);const ne=c(t,["mediaResolution"]);ne!=null&&f(s,["mediaResolution"],ne);const ce=c(t,["speechConfig"]);if(ce!=null&&f(s,["speechConfig"],bc(ce)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=c(t,["thinkingConfig"]);ge!=null&&f(s,["thinkingConfig"],ge);const Ae=c(t,["imageConfig"]);Ae!=null&&f(s,["imageConfig"],h1(Ae));const De=c(t,["enableEnhancedCivicAnswers"]);if(De!=null&&f(s,["enableEnhancedCivicAnswers"],De),c(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function OA(n,t,o,a){const s={},u=c(t,["systemInstruction"]);o!==void 0&&u!=null&&f(o,["systemInstruction"],rt(u));const d=c(t,["temperature"]);d!=null&&f(s,["temperature"],d);const h=c(t,["topP"]);h!=null&&f(s,["topP"],h);const y=c(t,["topK"]);y!=null&&f(s,["topK"],y);const m=c(t,["candidateCount"]);m!=null&&f(s,["candidateCount"],m);const v=c(t,["maxOutputTokens"]);v!=null&&f(s,["maxOutputTokens"],v);const S=c(t,["stopSequences"]);S!=null&&f(s,["stopSequences"],S);const x=c(t,["responseLogprobs"]);x!=null&&f(s,["responseLogprobs"],x);const C=c(t,["logprobs"]);C!=null&&f(s,["logprobs"],C);const R=c(t,["presencePenalty"]);R!=null&&f(s,["presencePenalty"],R);const M=c(t,["frequencyPenalty"]);M!=null&&f(s,["frequencyPenalty"],M);const A=c(t,["seed"]);A!=null&&f(s,["seed"],A);const H=c(t,["responseMimeType"]);H!=null&&f(s,["responseMimeType"],H);const F=c(t,["responseSchema"]);F!=null&&f(s,["responseSchema"],Nc(F));const P=c(t,["responseJsonSchema"]);P!=null&&f(s,["responseJsonSchema"],P);const L=c(t,["routingConfig"]);L!=null&&f(s,["routingConfig"],L);const z=c(t,["modelSelectionConfig"]);z!=null&&f(s,["modelConfig"],z);const X=c(t,["safetySettings"]);if(o!==void 0&&X!=null){let Z=X;Array.isArray(Z)&&(Z=Z.map(U=>U)),f(o,["safetySettings"],Z)}const $=c(t,["tools"]);if(o!==void 0&&$!=null){let Z=yo($);Array.isArray(Z)&&(Z=Z.map(U=>Ay(go(U)))),f(o,["tools"],Z)}const ee=c(t,["toolConfig"]);o!==void 0&&ee!=null&&f(o,["toolConfig"],ee);const ne=c(t,["labels"]);o!==void 0&&ne!=null&&f(o,["labels"],ne);const ce=c(t,["cachedContent"]);o!==void 0&&ce!=null&&f(o,["cachedContent"],bn(n,ce));const ge=c(t,["responseModalities"]);ge!=null&&f(s,["responseModalities"],ge);const Ae=c(t,["mediaResolution"]);Ae!=null&&f(s,["mediaResolution"],Ae);const De=c(t,["speechConfig"]);De!=null&&f(s,["speechConfig"],bc(De));const Ce=c(t,["audioTimestamp"]);Ce!=null&&f(s,["audioTimestamp"],Ce);const He=c(t,["thinkingConfig"]);He!=null&&f(s,["thinkingConfig"],He);const w=c(t,["imageConfig"]);if(w!=null&&f(s,["imageConfig"],m1(w)),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Q=c(t,["modelArmorConfig"]);return o!==void 0&&Q!=null&&f(o,["modelArmorConfig"],Q),s}function mg(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["contents"]);if(u!=null){let h=zt(u);Array.isArray(h)&&(h=h.map(y=>cs(y))),f(a,["contents"],h)}const d=c(t,["config"]);return d!=null&&f(a,["generationConfig"],VA(n,d,a)),a}function gg(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["contents"]);if(u!=null){let h=zt(u);Array.isArray(h)&&(h=h.map(y=>y)),f(a,["contents"],h)}const d=c(t,["config"]);return d!=null&&f(a,["generationConfig"],OA(n,d,a)),a}function yg(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>cA(v))),f(o,["candidates"],m)}const u=c(n,["modelVersion"]);u!=null&&f(o,["modelVersion"],u);const d=c(n,["promptFeedback"]);d!=null&&f(o,["promptFeedback"],d);const h=c(n,["responseId"]);h!=null&&f(o,["responseId"],h);const y=c(n,["usageMetadata"]);return y!=null&&f(o,["usageMetadata"],y),o}function vg(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(S=>S)),f(o,["candidates"],v)}const u=c(n,["createTime"]);u!=null&&f(o,["createTime"],u);const d=c(n,["modelVersion"]);d!=null&&f(o,["modelVersion"],d);const h=c(n,["promptFeedback"]);h!=null&&f(o,["promptFeedback"],h);const y=c(n,["responseId"]);y!=null&&f(o,["responseId"],y);const m=c(n,["usageMetadata"]);return m!=null&&f(o,["usageMetadata"],m),o}function BA(n,t,o){const a={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(n,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const u=c(n,["aspectRatio"]);t!==void 0&&u!=null&&f(t,["parameters","aspectRatio"],u);const d=c(n,["guidanceScale"]);if(t!==void 0&&d!=null&&f(t,["parameters","guidanceScale"],d),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(n,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const y=c(n,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const m=c(n,["includeSafetyAttributes"]);t!==void 0&&m!=null&&f(t,["parameters","includeSafetyAttributes"],m);const v=c(n,["includeRaiReason"]);t!==void 0&&v!=null&&f(t,["parameters","includeRaiReason"],v);const S=c(n,["language"]);t!==void 0&&S!=null&&f(t,["parameters","language"],S);const x=c(n,["outputMimeType"]);t!==void 0&&x!=null&&f(t,["parameters","outputOptions","mimeType"],x);const C=c(n,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&f(t,["parameters","outputOptions","compressionQuality"],C),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=c(n,["imageSize"]);if(t!==void 0&&R!=null&&f(t,["parameters","sampleImageSize"],R),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function FA(n,t,o){const a={},s=c(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const u=c(n,["negativePrompt"]);t!==void 0&&u!=null&&f(t,["parameters","negativePrompt"],u);const d=c(n,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const h=c(n,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const y=c(n,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const m=c(n,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const v=c(n,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const S=c(n,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const x=c(n,["includeSafetyAttributes"]);t!==void 0&&x!=null&&f(t,["parameters","includeSafetyAttributes"],x);const C=c(n,["includeRaiReason"]);t!==void 0&&C!=null&&f(t,["parameters","includeRaiReason"],C);const R=c(n,["language"]);t!==void 0&&R!=null&&f(t,["parameters","language"],R);const M=c(n,["outputMimeType"]);t!==void 0&&M!=null&&f(t,["parameters","outputOptions","mimeType"],M);const A=c(n,["outputCompressionQuality"]);t!==void 0&&A!=null&&f(t,["parameters","outputOptions","compressionQuality"],A);const H=c(n,["addWatermark"]);t!==void 0&&H!=null&&f(t,["parameters","addWatermark"],H);const F=c(n,["labels"]);t!==void 0&&F!=null&&f(t,["labels"],F);const P=c(n,["imageSize"]);t!==void 0&&P!=null&&f(t,["parameters","sampleImageSize"],P);const L=c(n,["enhancePrompt"]);return t!==void 0&&L!=null&&f(t,["parameters","enhancePrompt"],L),a}function JA(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["prompt"]);u!=null&&f(a,["instances[0]","prompt"],u);const d=c(t,["config"]);return d!=null&&BA(d,a),a}function YA(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["prompt"]);u!=null&&f(a,["instances[0]","prompt"],u);const d=c(t,["config"]);return d!=null&&FA(d,a),a}function QA(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>l1(h))),f(o,["generatedImages"],d)}const u=c(n,["positivePromptSafetyAttributes"]);return u!=null&&f(o,["positivePromptSafetyAttributes"],_y(u)),o}function KA(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>fs(h))),f(o,["generatedImages"],d)}const u=c(n,["positivePromptSafetyAttributes"]);return u!=null&&f(o,["positivePromptSafetyAttributes"],Cy(u)),o}function XA(n,t,o){const a={},s=c(n,["numberOfVideos"]);if(t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(n,["durationSeconds"]);if(t!==void 0&&u!=null&&f(t,["parameters","durationSeconds"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(n,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const h=c(n,["resolution"]);t!==void 0&&h!=null&&f(t,["parameters","resolution"],h);const y=c(n,["personGeneration"]);if(t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=c(n,["negativePrompt"]);t!==void 0&&m!=null&&f(t,["parameters","negativePrompt"],m);const v=c(n,["enhancePrompt"]);if(t!==void 0&&v!=null&&f(t,["parameters","enhancePrompt"],v),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=c(n,["lastFrame"]);t!==void 0&&S!=null&&f(t,["instances[0]","lastFrame"],ds(S));const x=c(n,["referenceImages"]);if(t!==void 0&&x!=null){let C=x;Array.isArray(C)&&(C=C.map(R=>Z1(R))),f(t,["instances[0]","referenceImages"],C)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function $A(n,t,o){const a={},s=c(n,["numberOfVideos"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const u=c(n,["outputGcsUri"]);t!==void 0&&u!=null&&f(t,["parameters","storageUri"],u);const d=c(n,["fps"]);t!==void 0&&d!=null&&f(t,["parameters","fps"],d);const h=c(n,["durationSeconds"]);t!==void 0&&h!=null&&f(t,["parameters","durationSeconds"],h);const y=c(n,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const m=c(n,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const v=c(n,["resolution"]);t!==void 0&&v!=null&&f(t,["parameters","resolution"],v);const S=c(n,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const x=c(n,["pubsubTopic"]);t!==void 0&&x!=null&&f(t,["parameters","pubsubTopic"],x);const C=c(n,["negativePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","negativePrompt"],C);const R=c(n,["enhancePrompt"]);t!==void 0&&R!=null&&f(t,["parameters","enhancePrompt"],R);const M=c(n,["generateAudio"]);t!==void 0&&M!=null&&f(t,["parameters","generateAudio"],M);const A=c(n,["lastFrame"]);t!==void 0&&A!=null&&f(t,["instances[0]","lastFrame"],Xt(A));const H=c(n,["referenceImages"]);if(t!==void 0&&H!=null){let L=H;Array.isArray(L)&&(L=L.map(z=>W1(z))),f(t,["instances[0]","referenceImages"],L)}const F=c(n,["mask"]);t!==void 0&&F!=null&&f(t,["instances[0]","mask"],$1(F));const P=c(n,["compressionQuality"]);return t!==void 0&&P!=null&&f(t,["parameters","compressionQuality"],P),a}function ZA(n,t){const o={},a=c(n,["name"]);a!=null&&f(o,["name"],a);const s=c(n,["metadata"]);s!=null&&f(o,["metadata"],s);const u=c(n,["done"]);u!=null&&f(o,["done"],u);const d=c(n,["error"]);d!=null&&f(o,["error"],d);const h=c(n,["response","generateVideoResponse"]);return h!=null&&f(o,["response"],t1(h)),o}function WA(n,t){const o={},a=c(n,["name"]);a!=null&&f(o,["name"],a);const s=c(n,["metadata"]);s!=null&&f(o,["metadata"],s);const u=c(n,["done"]);u!=null&&f(o,["done"],u);const d=c(n,["error"]);d!=null&&f(o,["error"],d);const h=c(n,["response"]);return h!=null&&f(o,["response"],n1(h)),o}function jA(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["prompt"]);u!=null&&f(a,["instances[0]","prompt"],u);const d=c(t,["image"]);d!=null&&f(a,["instances[0]","image"],ds(d));const h=c(t,["video"]);h!=null&&f(a,["instances[0]","video"],Ny(h));const y=c(t,["source"]);y!=null&&i1(y,a);const m=c(t,["config"]);return m!=null&&XA(m,a),a}function e1(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["prompt"]);u!=null&&f(a,["instances[0]","prompt"],u);const d=c(t,["image"]);d!=null&&f(a,["instances[0]","image"],Xt(d));const h=c(t,["video"]);h!=null&&f(a,["instances[0]","video"],by(h));const y=c(t,["source"]);y!=null&&o1(y,a);const m=c(t,["config"]);return m!=null&&$A(m,a),a}function t1(n,t){const o={},a=c(n,["generatedSamples"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>s1(h))),f(o,["generatedVideos"],d)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(o,["raiMediaFilteredCount"],s);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&f(o,["raiMediaFilteredReasons"],u),o}function n1(n,t){const o={},a=c(n,["videos"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>r1(h))),f(o,["generatedVideos"],d)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(o,["raiMediaFilteredCount"],s);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&f(o,["raiMediaFilteredReasons"],u),o}function i1(n,t,o){const a={},s=c(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const u=c(n,["image"]);t!==void 0&&u!=null&&f(t,["instances[0]","image"],ds(u));const d=c(n,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],Ny(d)),a}function o1(n,t,o){const a={},s=c(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const u=c(n,["image"]);t!==void 0&&u!=null&&f(t,["instances[0]","image"],Xt(u));const d=c(n,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],by(d)),a}function l1(n,t){const o={},a=c(n,["_self"]);a!=null&&f(o,["image"],g1(a));const s=c(n,["raiFilteredReason"]);s!=null&&f(o,["raiFilteredReason"],s);const u=c(n,["_self"]);return u!=null&&f(o,["safetyAttributes"],_y(u)),o}function fs(n,t){const o={},a=c(n,["_self"]);a!=null&&f(o,["image"],xy(a));const s=c(n,["raiFilteredReason"]);s!=null&&f(o,["raiFilteredReason"],s);const u=c(n,["_self"]);u!=null&&f(o,["safetyAttributes"],Cy(u));const d=c(n,["prompt"]);return d!=null&&f(o,["enhancedPrompt"],d),o}function a1(n,t){const o={},a=c(n,["_self"]);a!=null&&f(o,["mask"],xy(a));const s=c(n,["labels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(o,["labels"],u)}return o}function s1(n,t){const o={},a=c(n,["video"]);return a!=null&&f(o,["video"],K1(a)),o}function r1(n,t){const o={},a=c(n,["_self"]);return a!=null&&f(o,["video"],X1(a)),o}function u1(n,t){const o={},a=c(n,["modelSelectionConfig"]);a!=null&&f(o,["modelConfig"],a);const s=c(n,["responseJsonSchema"]);s!=null&&f(o,["responseJsonSchema"],s);const u=c(n,["audioTimestamp"]);u!=null&&f(o,["audioTimestamp"],u);const d=c(n,["candidateCount"]);d!=null&&f(o,["candidateCount"],d);const h=c(n,["enableAffectiveDialog"]);h!=null&&f(o,["enableAffectiveDialog"],h);const y=c(n,["frequencyPenalty"]);y!=null&&f(o,["frequencyPenalty"],y);const m=c(n,["logprobs"]);m!=null&&f(o,["logprobs"],m);const v=c(n,["maxOutputTokens"]);v!=null&&f(o,["maxOutputTokens"],v);const S=c(n,["mediaResolution"]);S!=null&&f(o,["mediaResolution"],S);const x=c(n,["presencePenalty"]);x!=null&&f(o,["presencePenalty"],x);const C=c(n,["responseLogprobs"]);C!=null&&f(o,["responseLogprobs"],C);const R=c(n,["responseMimeType"]);R!=null&&f(o,["responseMimeType"],R);const M=c(n,["responseModalities"]);M!=null&&f(o,["responseModalities"],M);const A=c(n,["responseSchema"]);A!=null&&f(o,["responseSchema"],A);const H=c(n,["routingConfig"]);H!=null&&f(o,["routingConfig"],H);const F=c(n,["seed"]);F!=null&&f(o,["seed"],F);const P=c(n,["speechConfig"]);P!=null&&f(o,["speechConfig"],P);const L=c(n,["stopSequences"]);L!=null&&f(o,["stopSequences"],L);const z=c(n,["temperature"]);z!=null&&f(o,["temperature"],z);const X=c(n,["thinkingConfig"]);X!=null&&f(o,["thinkingConfig"],X);const $=c(n,["topK"]);$!=null&&f(o,["topK"],$);const ee=c(n,["topP"]);if(ee!=null&&f(o,["topP"],ee),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function c1(n,t,o){const a={},s=c(t,["model"]);return s!=null&&f(a,["_url","name"],Re(n,s)),a}function f1(n,t,o){const a={},s=c(t,["model"]);return s!=null&&f(a,["_url","name"],Re(n,s)),a}function d1(n,t){const o={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=c(n,["enableWidget"]);return a!=null&&f(o,["enableWidget"],a),o}function p1(n,t){const o={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=c(n,["timeRangeFilter"]);return a!=null&&f(o,["timeRangeFilter"],a),o}function h1(n,t){const o={},a=c(n,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const s=c(n,["imageSize"]);if(s!=null&&f(o,["imageSize"],s),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function m1(n,t){const o={},a=c(n,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const s=c(n,["imageSize"]);s!=null&&f(o,["imageSize"],s);const u=c(n,["personGeneration"]);u!=null&&f(o,["personGeneration"],u);const d=c(n,["outputMimeType"]);d!=null&&f(o,["imageOutputOptions","mimeType"],d);const h=c(n,["outputCompressionQuality"]);return h!=null&&f(o,["imageOutputOptions","compressionQuality"],h),o}function g1(n,t){const o={},a=c(n,["bytesBase64Encoded"]);a!=null&&f(o,["imageBytes"],ei(a));const s=c(n,["mimeType"]);return s!=null&&f(o,["mimeType"],s),o}function xy(n,t){const o={},a=c(n,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(o,["imageBytes"],ei(s));const u=c(n,["mimeType"]);return u!=null&&f(o,["mimeType"],u),o}function ds(n,t){const o={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=c(n,["imageBytes"]);a!=null&&f(o,["bytesBase64Encoded"],ei(a));const s=c(n,["mimeType"]);return s!=null&&f(o,["mimeType"],s),o}function Xt(n,t){const o={},a=c(n,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const s=c(n,["imageBytes"]);s!=null&&f(o,["bytesBase64Encoded"],ei(s));const u=c(n,["mimeType"]);return u!=null&&f(o,["mimeType"],u),o}function y1(n,t,o,a){const s={},u=c(t,["pageSize"]);o!==void 0&&u!=null&&f(o,["_query","pageSize"],u);const d=c(t,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const h=c(t,["filter"]);o!==void 0&&h!=null&&f(o,["_query","filter"],h);const y=c(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],my(n,y)),s}function v1(n,t,o,a){const s={},u=c(t,["pageSize"]);o!==void 0&&u!=null&&f(o,["_query","pageSize"],u);const d=c(t,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const h=c(t,["filter"]);o!==void 0&&h!=null&&f(o,["_query","filter"],h);const y=c(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],my(n,y)),s}function S1(n,t,o){const a={},s=c(t,["config"]);return s!=null&&y1(n,s,a),a}function T1(n,t,o){const a={},s=c(t,["config"]);return s!=null&&v1(n,s,a),a}function E1(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["nextPageToken"]);s!=null&&f(o,["nextPageToken"],s);const u=c(n,["_self"]);if(u!=null){let d=gy(u);Array.isArray(d)&&(d=d.map(h=>ic(h))),f(o,["models"],d)}return o}function x1(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["nextPageToken"]);s!=null&&f(o,["nextPageToken"],s);const u=c(n,["_self"]);if(u!=null){let d=gy(u);Array.isArray(d)&&(d=d.map(h=>oc(h))),f(o,["models"],d)}return o}function _1(n,t){const o={},a=c(n,["maskMode"]);a!=null&&f(o,["maskMode"],a);const s=c(n,["segmentationClasses"]);s!=null&&f(o,["maskClasses"],s);const u=c(n,["maskDilation"]);return u!=null&&f(o,["dilation"],u),o}function ic(n,t){const o={},a=c(n,["name"]);a!=null&&f(o,["name"],a);const s=c(n,["displayName"]);s!=null&&f(o,["displayName"],s);const u=c(n,["description"]);u!=null&&f(o,["description"],u);const d=c(n,["version"]);d!=null&&f(o,["version"],d);const h=c(n,["_self"]);h!=null&&f(o,["tunedModelInfo"],q1(h));const y=c(n,["inputTokenLimit"]);y!=null&&f(o,["inputTokenLimit"],y);const m=c(n,["outputTokenLimit"]);m!=null&&f(o,["outputTokenLimit"],m);const v=c(n,["supportedGenerationMethods"]);v!=null&&f(o,["supportedActions"],v);const S=c(n,["temperature"]);S!=null&&f(o,["temperature"],S);const x=c(n,["maxTemperature"]);x!=null&&f(o,["maxTemperature"],x);const C=c(n,["topP"]);C!=null&&f(o,["topP"],C);const R=c(n,["topK"]);R!=null&&f(o,["topK"],R);const M=c(n,["thinking"]);return M!=null&&f(o,["thinking"],M),o}function oc(n,t){const o={},a=c(n,["name"]);a!=null&&f(o,["name"],a);const s=c(n,["displayName"]);s!=null&&f(o,["displayName"],s);const u=c(n,["description"]);u!=null&&f(o,["description"],u);const d=c(n,["versionId"]);d!=null&&f(o,["version"],d);const h=c(n,["deployedModels"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(C=>GA(C))),f(o,["endpoints"],x)}const y=c(n,["labels"]);y!=null&&f(o,["labels"],y);const m=c(n,["_self"]);m!=null&&f(o,["tunedModelInfo"],z1(m));const v=c(n,["defaultCheckpointId"]);v!=null&&f(o,["defaultCheckpointId"],v);const S=c(n,["checkpoints"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(C=>C)),f(o,["checkpoints"],x)}return o}function C1(n,t){const o={},a=c(n,["mediaResolution"]);a!=null&&f(o,["mediaResolution"],a);const s=c(n,["codeExecutionResult"]);s!=null&&f(o,["codeExecutionResult"],s);const u=c(n,["executableCode"]);u!=null&&f(o,["executableCode"],u);const d=c(n,["fileData"]);d!=null&&f(o,["fileData"],HA(d));const h=c(n,["functionCall"]);h!=null&&f(o,["functionCall"],PA(h));const y=c(n,["functionResponse"]);y!=null&&f(o,["functionResponse"],y);const m=c(n,["inlineData"]);m!=null&&f(o,["inlineData"],uA(m));const v=c(n,["text"]);v!=null&&f(o,["text"],v);const S=c(n,["thought"]);S!=null&&f(o,["thought"],S);const x=c(n,["thoughtSignature"]);x!=null&&f(o,["thoughtSignature"],x);const C=c(n,["videoMetadata"]);return C!=null&&f(o,["videoMetadata"],C),o}function A1(n,t){const o={},a=c(n,["productImage"]);return a!=null&&f(o,["image"],Xt(a)),o}function N1(n,t,o){const a={},s=c(n,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const u=c(n,["baseSteps"]);t!==void 0&&u!=null&&f(t,["parameters","baseSteps"],u);const d=c(n,["outputGcsUri"]);t!==void 0&&d!=null&&f(t,["parameters","storageUri"],d);const h=c(n,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const y=c(n,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const m=c(n,["personGeneration"]);t!==void 0&&m!=null&&f(t,["parameters","personGeneration"],m);const v=c(n,["addWatermark"]);t!==void 0&&v!=null&&f(t,["parameters","addWatermark"],v);const S=c(n,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const x=c(n,["outputCompressionQuality"]);t!==void 0&&x!=null&&f(t,["parameters","outputOptions","compressionQuality"],x);const C=c(n,["enhancePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","enhancePrompt"],C);const R=c(n,["labels"]);return t!==void 0&&R!=null&&f(t,["labels"],R),a}function b1(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["source"]);u!=null&&M1(u,a);const d=c(t,["config"]);return d!=null&&N1(d,a),a}function R1(n,t){const o={},a=c(n,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>fs(u))),f(o,["generatedImages"],s)}return o}function M1(n,t,o){const a={},s=c(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const u=c(n,["personImage"]);t!==void 0&&u!=null&&f(t,["instances[0]","personImage","image"],Xt(u));const d=c(n,["productImages"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>A1(y))),f(t,["instances[0]","productImages"],h)}return a}function w1(n,t){const o={},a=c(n,["referenceImage"]);a!=null&&f(o,["referenceImage"],Xt(a));const s=c(n,["referenceId"]);s!=null&&f(o,["referenceId"],s);const u=c(n,["referenceType"]);u!=null&&f(o,["referenceType"],u);const d=c(n,["maskImageConfig"]);d!=null&&f(o,["maskImageConfig"],_1(d));const h=c(n,["controlImageConfig"]);h!=null&&f(o,["controlImageConfig"],gA(h));const y=c(n,["styleImageConfig"]);y!=null&&f(o,["styleImageConfig"],y);const m=c(n,["subjectImageConfig"]);return m!=null&&f(o,["subjectImageConfig"],m),o}function _y(n,t){const o={},a=c(n,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(o,["scores"],s);const u=c(n,["contentType"]);return u!=null&&f(o,["contentType"],u),o}function Cy(n,t){const o={},a=c(n,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(o,["scores"],s);const u=c(n,["contentType"]);return u!=null&&f(o,["contentType"],u),o}function I1(n,t){const o={},a=c(n,["category"]);if(a!=null&&f(o,["category"],a),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(o,["threshold"],s),o}function D1(n,t){const o={},a=c(n,["image"]);return a!=null&&f(o,["image"],Xt(a)),o}function U1(n,t,o){const a={},s=c(n,["mode"]);t!==void 0&&s!=null&&f(t,["parameters","mode"],s);const u=c(n,["maxPredictions"]);t!==void 0&&u!=null&&f(t,["parameters","maxPredictions"],u);const d=c(n,["confidenceThreshold"]);t!==void 0&&d!=null&&f(t,["parameters","confidenceThreshold"],d);const h=c(n,["maskDilation"]);t!==void 0&&h!=null&&f(t,["parameters","maskDilation"],h);const y=c(n,["binaryColorThreshold"]);t!==void 0&&y!=null&&f(t,["parameters","binaryColorThreshold"],y);const m=c(n,["labels"]);return t!==void 0&&m!=null&&f(t,["labels"],m),a}function L1(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["source"]);u!=null&&G1(u,a);const d=c(t,["config"]);return d!=null&&U1(d,a),a}function k1(n,t){const o={},a=c(n,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>a1(u))),f(o,["generatedMasks"],s)}return o}function G1(n,t,o){const a={},s=c(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const u=c(n,["image"]);t!==void 0&&u!=null&&f(t,["instances[0]","image"],Xt(u));const d=c(n,["scribbleImage"]);return t!==void 0&&d!=null&&f(t,["instances[0]","scribble"],D1(d)),a}function H1(n,t){const o={},a=c(n,["retrievalConfig"]);a!=null&&f(o,["retrievalConfig"],a);const s=c(n,["functionCallingConfig"]);return s!=null&&f(o,["functionCallingConfig"],qA(s)),o}function P1(n,t){const o={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=c(n,["computerUse"]);a!=null&&f(o,["computerUse"],a);const s=c(n,["fileSearch"]);s!=null&&f(o,["fileSearch"],s);const u=c(n,["codeExecution"]);if(u!=null&&f(o,["codeExecution"],u),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=c(n,["functionDeclarations"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(x=>x)),f(o,["functionDeclarations"],S)}const h=c(n,["googleMaps"]);h!=null&&f(o,["googleMaps"],d1(h));const y=c(n,["googleSearch"]);y!=null&&f(o,["googleSearch"],p1(y));const m=c(n,["googleSearchRetrieval"]);m!=null&&f(o,["googleSearchRetrieval"],m);const v=c(n,["urlContext"]);return v!=null&&f(o,["urlContext"],v),o}function Ay(n,t){const o={},a=c(n,["retrieval"]);a!=null&&f(o,["retrieval"],a);const s=c(n,["computerUse"]);if(s!=null&&f(o,["computerUse"],s),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=c(n,["codeExecution"]);u!=null&&f(o,["codeExecution"],u);const d=c(n,["enterpriseWebSearch"]);d!=null&&f(o,["enterpriseWebSearch"],d);const h=c(n,["functionDeclarations"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(C=>zA(C))),f(o,["functionDeclarations"],x)}const y=c(n,["googleMaps"]);y!=null&&f(o,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&f(o,["googleSearch"],m);const v=c(n,["googleSearchRetrieval"]);v!=null&&f(o,["googleSearchRetrieval"],v);const S=c(n,["urlContext"]);return S!=null&&f(o,["urlContext"],S),o}function q1(n,t){const o={},a=c(n,["baseModel"]);a!=null&&f(o,["baseModel"],a);const s=c(n,["createTime"]);s!=null&&f(o,["createTime"],s);const u=c(n,["updateTime"]);return u!=null&&f(o,["updateTime"],u),o}function z1(n,t){const o={},a=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&f(o,["baseModel"],a);const s=c(n,["createTime"]);s!=null&&f(o,["createTime"],s);const u=c(n,["updateTime"]);return u!=null&&f(o,["updateTime"],u),o}function V1(n,t,o){const a={},s=c(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const u=c(n,["description"]);t!==void 0&&u!=null&&f(t,["description"],u);const d=c(n,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),a}function O1(n,t,o){const a={},s=c(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const u=c(n,["description"]);t!==void 0&&u!=null&&f(t,["description"],u);const d=c(n,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),a}function B1(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","name"],Re(n,s));const u=c(t,["config"]);return u!=null&&V1(u,a),a}function F1(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["config"]);return u!=null&&O1(u,a),a}function J1(n,t,o){const a={},s=c(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const u=c(n,["safetyFilterLevel"]);t!==void 0&&u!=null&&f(t,["parameters","safetySetting"],u);const d=c(n,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=c(n,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const y=c(n,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const m=c(n,["outputCompressionQuality"]);t!==void 0&&m!=null&&f(t,["parameters","outputOptions","compressionQuality"],m);const v=c(n,["enhanceInputImage"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],v);const S=c(n,["imagePreservationFactor"]);t!==void 0&&S!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],S);const x=c(n,["labels"]);t!==void 0&&x!=null&&f(t,["labels"],x);const C=c(n,["numberOfImages"]);t!==void 0&&C!=null&&f(t,["parameters","sampleCount"],C);const R=c(n,["mode"]);return t!==void 0&&R!=null&&f(t,["parameters","mode"],R),a}function Y1(n,t,o){const a={},s=c(t,["model"]);s!=null&&f(a,["_url","model"],Re(n,s));const u=c(t,["image"]);u!=null&&f(a,["instances[0]","image"],Xt(u));const d=c(t,["upscaleFactor"]);d!=null&&f(a,["parameters","upscaleConfig","upscaleFactor"],d);const h=c(t,["config"]);return h!=null&&J1(h,a),a}function Q1(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>fs(d))),f(o,["generatedImages"],u)}return o}function K1(n,t){const o={},a=c(n,["uri"]);a!=null&&f(o,["uri"],a);const s=c(n,["encodedVideo"]);s!=null&&f(o,["videoBytes"],ei(s));const u=c(n,["encoding"]);return u!=null&&f(o,["mimeType"],u),o}function X1(n,t){const o={},a=c(n,["gcsUri"]);a!=null&&f(o,["uri"],a);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(o,["videoBytes"],ei(s));const u=c(n,["mimeType"]);return u!=null&&f(o,["mimeType"],u),o}function $1(n,t){const o={},a=c(n,["image"]);a!=null&&f(o,["_self"],Xt(a));const s=c(n,["maskMode"]);return s!=null&&f(o,["maskMode"],s),o}function Z1(n,t){const o={},a=c(n,["image"]);a!=null&&f(o,["image"],ds(a));const s=c(n,["referenceType"]);return s!=null&&f(o,["referenceType"],s),o}function W1(n,t){const o={},a=c(n,["image"]);a!=null&&f(o,["image"],Xt(a));const s=c(n,["referenceType"]);return s!=null&&f(o,["referenceType"],s),o}function Ny(n,t){const o={},a=c(n,["uri"]);a!=null&&f(o,["uri"],a);const s=c(n,["videoBytes"]);s!=null&&f(o,["encodedVideo"],ei(s));const u=c(n,["mimeType"]);return u!=null&&f(o,["encoding"],u),o}function by(n,t){const o={},a=c(n,["uri"]);a!=null&&f(o,["gcsUri"],a);const s=c(n,["videoBytes"]);s!=null&&f(o,["bytesBase64Encoded"],ei(s));const u=c(n,["mimeType"]);return u!=null&&f(o,["mimeType"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j1(n,t){const o={},a=c(n,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),o}function eN(n){const t={},o=c(n,["config"]);return o!=null&&j1(o,t),t}function tN(n,t){const o={},a=c(n,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function nN(n){const t={},o=c(n,["name"]);o!=null&&f(t,["_url","name"],o);const a=c(n,["config"]);return a!=null&&tN(a,t),t}function iN(n){const t={},o=c(n,["name"]);return o!=null&&f(t,["_url","name"],o),t}function oN(n,t){const o={},a=c(n,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["customMetadata"],u)}const s=c(n,["chunkingConfig"]);return t!==void 0&&s!=null&&f(t,["chunkingConfig"],s),o}function lN(n){const t={},o=c(n,["name"]);o!=null&&f(t,["name"],o);const a=c(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=c(n,["done"]);s!=null&&f(t,["done"],s);const u=c(n,["error"]);u!=null&&f(t,["error"],u);const d=c(n,["response"]);return d!=null&&f(t,["response"],sN(d)),t}function aN(n){const t={},o=c(n,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=c(n,["fileName"]);a!=null&&f(t,["fileName"],a);const s=c(n,["config"]);return s!=null&&oN(s,t),t}function sN(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["parent"]);a!=null&&f(t,["parent"],a);const s=c(n,["documentName"]);return s!=null&&f(t,["documentName"],s),t}function rN(n,t){const o={},a=c(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=c(n,["pageToken"]);return t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),o}function uN(n){const t={},o=c(n,["config"]);return o!=null&&rN(o,t),t}function cN(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=c(n,["fileSearchStores"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["fileSearchStores"],u)}return t}function Ry(n,t){const o={},a=c(n,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const s=c(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const u=c(n,["customMetadata"]);if(t!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>y)),f(t,["customMetadata"],h)}const d=c(n,["chunkingConfig"]);return t!==void 0&&d!=null&&f(t,["chunkingConfig"],d),o}function fN(n){const t={},o=c(n,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=c(n,["config"]);return a!=null&&Ry(a,t),t}function dN(n){const t={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pN="Content-Type",hN="X-Server-Timeout",mN="User-Agent",lc="x-goog-api-client",gN="1.39.0",yN=`google-genai-sdk/${gN}`,vN="v1beta1",SN="v1beta";class TN{constructor(t){var o,a,s;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!h?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:vN}else{if(!this.clientOptions.apiKey)throw new vl({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:SN,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const s=[this.getRequestUrlInternal(o)];return a&&s.push(this.getBaseResourcePath()),t!==""&&s.push(t),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===ju.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),s=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[d,h]of Object.entries(t.queryParams))s.searchParams.append(d,String(h));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,s.toString(),t.abortSignal),this.unaryApiCall(s,u,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[s,u]of Object.entries(o))typeof u=="object"?a[s]=Object.assign(Object.assign({},a[s]),u):u!==void 0&&(a[s]=u);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),s=this.constructUrl(t.path,o,a);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,s.toString(),t.abortSignal),this.streamApiCall(s,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,s){if(o&&o.timeout||s){const u=new AbortController,d=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}s&&s.addEventListener("abort",()=>{u.abort()}),t.signal=d}return o&&o.extraBody!==null&&EN(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async s=>(await Sg(s),new ec(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async s=>(await Sg(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(t){return Yt(this,arguments,function*(){var a;const s=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),u=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let d="";const h="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield fe(s.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=u.decode(v,{stream:!0});try{const R=JSON.parse(S);if("error"in R){const M=JSON.parse(JSON.stringify(R.error)),A=M.status,H=M.code,F=`got status: ${A}. ${JSON.stringify(R)}`;if(H>=400&&H<600)throw new vl({message:F,status:H})}}catch(R){if(R.name==="ApiError")throw R}d+=S;let x=-1,C=0;for(;;){x=-1,C=0;for(const A of y){const H=d.indexOf(A);H!==-1&&(x===-1||H<x)&&(x=H,C=A.length)}if(x===-1)break;const R=d.substring(0,x);d=d.substring(x+C);const M=R.trim();if(M.startsWith(h)){const A=M.substring(h.length).trim();try{const H=new Response(A,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield fe(new ec(H))}catch(H){throw new Error(`exception parsing stream chunk ${A}. ${H}`)}}}}}finally{s.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=yN+" "+this.clientOptions.userAgentExtra;return t[mN]=o,t[lc]=o,t[pN]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[s,u]of Object.entries(t.headers))a.append(s,u);t.timeout&&t.timeout>0&&a.append(hN,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const s={};o!=null&&(s.mimeType=o.mimeType,s.name=o.name,s.displayName=o.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const u=this.clientOptions.uploader,d=await u.stat(t);s.sizeBytes=String(d.size);const h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const y={file:s},m=this.getFileName(t),v=ie("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,s.sizeBytes,s.mimeType,m,y,o==null?void 0:o.httpOptions);return u.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,a){var s;const u=this.clientOptions.uploader,d=await u.stat(o),h=String(d.size),y=(s=a==null?void 0:a.mimeType)!==null&&s!==void 0?s:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),S={};a!=null&&Ry(a,S);const x=await this.fetchUploadUrl(m,h,y,v,S,a==null?void 0:a.httpOptions);return u.uploadToFileSearchStore(o,x,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,s,u,d){var h;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},s?{"X-Goog-Upload-File-Name":s}:{})};const m=await this.request({path:t,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Sg(n){var t;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let a;!((t=n.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=JSON.stringify(a);throw o>=400&&o<600?new vl({message:s,status:o}):new Error(s)}}function EN(n,t){if(!t||Object.keys(t).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(u,d){const h=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=h[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),h[y]=m)}return h}const s=a(o,t);n.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xN="mcp_used/unknown";let _N=!1;function My(n){for(const t of n)if(CN(t)||typeof t=="object"&&"inputSchema"in t)return!0;return _N}function wy(n){var t;const o=(t=n[lc])!==null&&t!==void 0?t:"";n[lc]=(o+` ${xN}`).trimStart()}function CN(n){return n!==null&&typeof n=="object"&&n instanceof Mc}function AN(n){return Yt(this,arguments,function*(o,a=100){let s,u=0;for(;u<a;){const d=yield fe(o.listTools({cursor:s}));for(const h of d.tools)yield yield fe(h),u++;if(!d.nextCursor)break;s=d.nextCursor}})}class Mc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Mc(t,o)}async initialize(){var t,o,a,s;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,Qt(AN(v))),m;m=await y.next(),t=m.done,!t;h=!0){s=m.value,h=!1;const S=s;d.push(S);const x=S.name;if(u[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);u[x]=v}}catch(S){o={error:S}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),e_(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[a.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await s.callTool({name:a.name,arguments:a.args},void 0,u);o.push({functionResponse:{name:a.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function NN(n,t,o){const a=new Yx;let s;o.data instanceof Blob?s=JSON.parse(await o.data.text()):s=JSON.parse(o.data),Object.assign(a,s),t(a)}class bN{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=wN(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${s}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const v=new Promise(P=>{m=P}),S=t.callbacks,x=function(){m({})},C=this.apiClient,R={onopen:x,onmessage:P=>{NN(C,S.onmessage,P)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(P){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(P){}},M=this.webSocketFactory.create(y,MN(d),R);M.connect(),await v;const F={setup:{model:Re(this.apiClient,t.model)}};return M.send(JSON.stringify(F)),new RN(M,this.apiClient)}}class RN{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=jC(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=WC(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(co.PLAY)}pause(){this.sendPlaybackControl(co.PAUSE)}stop(){this.sendPlaybackControl(co.STOP)}resetContext(){this.sendPlaybackControl(co.RESET_CONTEXT)}close(){this.conn.close()}}function MN(n){const t={};return n.forEach((o,a)=>{t[a]=o}),t}function wN(n){const t=new Headers;for(const[o,a]of Object.entries(n))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function DN(n,t,o){const a=new Jx;let s;o.data instanceof Blob?s=await o.data.text():o.data instanceof ArrayBuffer?s=new TextDecoder().decode(o.data):s=o.data;const u=JSON.parse(s);if(n.isVertexAI()){const d=nA(u);Object.assign(a,d)}else Object.assign(a,u);t(a)}class UN{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new bN(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,s,u,d,h;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&My(t.config.tools)&&wy(S);const x=HN(S);if(this.apiClient.isVertexAI()){const ne=this.apiClient.getProject(),ce=this.apiClient.getLocation(),ge=this.apiClient.getApiKey(),Ae=!!ne&&!!ce||!!ge;this.apiClient.getCustomBaseUrl()&&!Ae?v=y:(v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,v))}else{const ne=this.apiClient.getApiKey();let ce="BidiGenerateContent",ge="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ce}?${ge}=${ne}`}let C=()=>{};const R=new Promise(ne=>{C=ne}),M=t.callbacks,A=function(){var ne;(ne=M==null?void 0:M.onopen)===null||ne===void 0||ne.call(M),C({})},H=this.apiClient,F={onopen:A,onmessage:ne=>{DN(H,M.onmessage,ne)},onerror:(o=M==null?void 0:M.onerror)!==null&&o!==void 0?o:function(ne){},onclose:(a=M==null?void 0:M.onclose)!==null&&a!==void 0?a:function(ne){}},P=this.webSocketFactory.create(v,GN(x),F);P.connect(),await R;let L=Re(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const ne=this.apiClient.getProject(),ce=this.apiClient.getLocation();ne&&ce&&(L=`projects/${ne}/locations/${ce}/`+L)}let z={};this.apiClient.isVertexAI()&&((s=t.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ns.AUDIO]}:t.config.responseModalities=[ns.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(h=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],$=[];for(const ne of X)if(this.isCallableTool(ne)){const ce=ne;$.push(await ce.tool())}else $.push(ne);$.length>0&&(t.config.tools=$);const ee={model:L,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?z=ZC(this.apiClient,ee):z=$C(this.apiClient,ee),delete z.config,P.send(JSON.stringify(z)),new kN(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const LN={turnComplete:!0};class kN{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=zt(o.turns),t.isVertexAI()||(a=a.map(s=>cs(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const u of a){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(IN)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},LN),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:tA(t)}:o={realtimeInput:eA(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function GN(n){const t={};return n.forEach((o,a)=>{t[a]=o}),t}function HN(n){const t=new Headers;for(const[o,a]of Object.entries(n))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tg=10;function Eg(n){var t,o,a;if(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let s=!1;for(const d of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(ho(d)){s=!0;break}if(!s)return!0;const u=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ho(n){return"callTool"in n&&typeof n.callTool=="function"}function PN(n){var t,o,a;return(a=(o=(t=n.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(s=>ho(s)))!==null&&a!==void 0?a:!1}function xg(n){var t;const o=[];return!((t=n==null?void 0:n.config)===null||t===void 0)&&t.tools&&n.config.tools.forEach((a,s)=>{if(ho(a))return;const u=a;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(s)}),o}function _g(n){var t;return!(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qN extends Nn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,s,u,d,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!PN(o)||Eg(o.config))return await this.generateContentInternal(y);const m=xg(o);if(m.length>0){const M=m.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${M}.`)}let v,S;const x=zt(y.contents),C=(u=(s=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:Tg;let R=0;for(;R<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const M=v.candidates[0].content,A=[];for(const H of(h=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(ho(H)){const P=await H.callTool(v.functionCalls);A.push(...P)}R++,S={role:"user",parts:A},y.contents=zt(y.contents),y.contents.push(M),y.contents.push(S),_g(y.config)&&(x.push(M),x.push(S))}return _g(y.config)&&(v.automaticFunctionCallingHistory=x),v},this.generateContentStream=async o=>{var a,s,u,d,h;if(this.maybeMoveToResponseJsonSchem(o),Eg(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=xg(o);if(y.length>0){const S=y.map(x=>`tools[${x}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(s=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(h=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var s;let u;const d=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((s=y==null?void 0:y.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let h;return u?h={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async o=>{var a;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((a=d.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new xi(Cn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const s={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(s)},this.generateVideos=async o=>{var a,s,u,d,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((s=o.video)===null||s===void 0)&&s.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(u=o.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,s;const u=(o=t.config)===null||o===void 0?void 0:o.tools;if(!u)return t;const d=await Promise.all(u.map(async y=>ho(y)?await y.tool():y)),h={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(h.config.tools=d,t.config&&t.config.tools&&My(t.config.tools)){const y=(s=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),wy(m),h.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(t){var o,a,s;const u=new Map;for(const d of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(ho(d)){const h=d,y=await h.tool();for(const m of(s=y.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,h)}}return u}async processAfcStream(t){var o,a,s;const u=(s=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&s!==void 0?s:Tg;let d=!1,h=0;const y=await this.initAfcToolsMap(t);return(function(m,v,S){return Yt(this,arguments,function*(){for(var x,C,R,M,A,H;h<u;){d&&(h++,d=!1);const z=yield fe(m.processParamsMaybeAddMcpUsage(S)),X=yield fe(m.generateContentStreamInternal(z)),$=[],ee=[];try{for(var F=!0,P=(C=void 0,Qt(X)),L;L=yield fe(P.next()),x=L.done,!x;F=!0){M=L.value,F=!1;const ne=M;if(yield yield fe(ne),ne.candidates&&(!((A=ne.candidates[0])===null||A===void 0)&&A.content)){ee.push(ne.candidates[0].content);for(const ce of(H=ne.candidates[0].content.parts)!==null&&H!==void 0?H:[])if(h<u&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ce.functionCall.name)){const ge=yield fe(v.get(ce.functionCall.name).callTool([ce.functionCall]));$.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch(ne){C={error:ne}}finally{try{!F&&!x&&(R=P.return)&&(yield fe(R.call(P)))}finally{if(C)throw C.error}}if($.length>0){d=!0;const ne=new hl;ne.candidates=[{content:{role:"user",parts:$}}],yield yield fe(ne);const ce=[];ce.push(...ee),ce.push({role:"user",parts:$});const ge=zt(S.contents).concat(ce);S.contents=ge}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=gg(this.apiClient,t);return h=ie("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=vg(v),x=new hl;return Object.assign(x,S),x})}else{const m=mg(this.apiClient,t);return h=ie("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=yg(v),x=new hl;return Object.assign(x,S),x})}}async generateContentStreamInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=gg(this.apiClient,t);return h=ie("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),d.then(function(S){return Yt(this,arguments,function*(){var x,C,R,M;try{for(var A=!0,H=Qt(S),F;F=yield fe(H.next()),x=F.done,!x;A=!0){M=F.value,A=!1;const P=M,L=vg(yield fe(P.json()),t);L.sdkHttpResponse={headers:P.headers};const z=new hl;Object.assign(z,L),yield yield fe(z)}}catch(P){C={error:P}}finally{try{!A&&!x&&(R=H.return)&&(yield fe(R.call(H)))}finally{if(C)throw C.error}}})})}else{const m=mg(this.apiClient,t);return h=ie("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(S){return Yt(this,arguments,function*(){var x,C,R,M;try{for(var A=!0,H=Qt(S),F;F=yield fe(H.next()),x=F.done,!x;A=!0){M=F.value,A=!1;const P=M,L=yg(yield fe(P.json()),t);L.sdkHttpResponse={headers:P.headers};const z=new hl;Object.assign(z,L),yield yield fe(z)}}catch(P){C={error:P}}finally{try{!A&&!x&&(R=H.return)&&(yield fe(R.call(H)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=UA(this.apiClient,t);return h=ie("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=kA(v),x=new Wm;return Object.assign(x,S),x})}else{const m=DA(this.apiClient,t);return h=ie("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=LA(v),x=new Wm;return Object.assign(x,S),x})}}async generateImagesInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=YA(this.apiClient,t);return h=ie("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=KA(v),x=new jm;return Object.assign(x,S),x})}else{const m=JA(this.apiClient,t);return h=ie("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=QA(v),x=new jm;return Object.assign(x,S),x})}}async editImageInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=RA(this.apiClient,t);return u=ie("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=MA(y),v=new Ux;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=Y1(this.apiClient,t);return u=ie("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=Q1(y),v=new Lx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=b1(this.apiClient,t);return u=ie("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=R1(y),v=new kx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=L1(this.apiClient,t);return u=ie("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=k1(y),v=new Gx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=f1(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>oc(v))}else{const m=c1(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>ic(v))}}async listInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=T1(this.apiClient,t);return h=ie("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=x1(v),x=new eg;return Object.assign(x,S),x})}else{const m=S1(this.apiClient,t);return h=ie("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=E1(v),x=new eg;return Object.assign(x,S),x})}}async update(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=F1(this.apiClient,t);return h=ie("{model}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>oc(v))}else{const m=B1(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>ic(v))}}async delete(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=CA(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=NA(v),x=new tg;return Object.assign(x,S),x})}else{const m=_A(this.apiClient,t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=AA(v),x=new tg;return Object.assign(x,S),x})}}async countTokens(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=TA(this.apiClient,t);return h=ie("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=xA(v),x=new ng;return Object.assign(x,S),x})}else{const m=SA(this.apiClient,t);return h=ie("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=EA(v),x=new ng;return Object.assign(x,S),x})}}async computeTokens(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=dA(this.apiClient,t);return u=ie("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=pA(y),v=new Hx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=e1(this.apiClient,t);return h=ie("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>{const S=WA(v),x=new is;return Object.assign(x,S),x})}else{const m=jA(this.apiClient,t);return h=ie("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const S=ZA(v),x=new is;return Object.assign(x,S),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zN extends Nn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=o.name.split("/operations/")[0];let u;a&&"httpOptions"in a&&(u=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:s,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=o.name.split("/operations/")[0];let u;a&&"httpOptions"in a&&(u=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:s,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=bx(t);return h=ie("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d}else{const m=Nx(t);return h=ie("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=Sx(t);return u=ie("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VN(n){const t={},o=c(n,["data"]);if(o!=null&&f(t,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function ON(n){const t={},o=c(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>ZN(u))),f(t,["parts"],s)}const a=c(n,["role"]);return a!=null&&f(t,["role"],a),t}function BN(n,t,o){const a={},s=c(t,["expireTime"]);o!==void 0&&s!=null&&f(o,["expireTime"],s);const u=c(t,["newSessionExpireTime"]);o!==void 0&&u!=null&&f(o,["newSessionExpireTime"],u);const d=c(t,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const h=c(t,["liveConnectConstraints"]);o!==void 0&&h!=null&&f(o,["bidiGenerateContentSetup"],$N(n,h));const y=c(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),a}function FN(n,t){const o={},a=c(t,["config"]);return a!=null&&f(o,["config"],BN(n,a,o)),o}function JN(n){const t={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=c(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function YN(n){const t={},o=c(n,["id"]);o!=null&&f(t,["id"],o);const a=c(n,["args"]);a!=null&&f(t,["args"],a);const s=c(n,["name"]);if(s!=null&&f(t,["name"],s),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function QN(n){const t={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function KN(n){const t={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function XN(n,t){const o={},a=c(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const s=c(n,["responseModalities"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","responseModalities"],s);const u=c(n,["temperature"]);t!==void 0&&u!=null&&f(t,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const S=c(n,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],Rc(S));const x=c(n,["thinkingConfig"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","thinkingConfig"],x);const C=c(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const R=c(n,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],ON(rt(R)));const M=c(n,["tools"]);if(t!==void 0&&M!=null){let X=yo(M);Array.isArray(X)&&(X=X.map($=>jN(go($)))),f(t,["setup","tools"],X)}const A=c(n,["sessionResumption"]);t!==void 0&&A!=null&&f(t,["setup","sessionResumption"],WN(A));const H=c(n,["inputAudioTranscription"]);t!==void 0&&H!=null&&f(t,["setup","inputAudioTranscription"],H);const F=c(n,["outputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","outputAudioTranscription"],F);const P=c(n,["realtimeInputConfig"]);t!==void 0&&P!=null&&f(t,["setup","realtimeInputConfig"],P);const L=c(n,["contextWindowCompression"]);t!==void 0&&L!=null&&f(t,["setup","contextWindowCompression"],L);const z=c(n,["proactivity"]);if(t!==void 0&&z!=null&&f(t,["setup","proactivity"],z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function $N(n,t){const o={},a=c(t,["model"]);a!=null&&f(o,["setup","model"],Re(n,a));const s=c(t,["config"]);return s!=null&&f(o,["config"],XN(s,o)),o}function ZN(n){const t={},o=c(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=c(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const s=c(n,["executableCode"]);s!=null&&f(t,["executableCode"],s);const u=c(n,["fileData"]);u!=null&&f(t,["fileData"],JN(u));const d=c(n,["functionCall"]);d!=null&&f(t,["functionCall"],YN(d));const h=c(n,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(t,["inlineData"],VN(y));const m=c(n,["text"]);m!=null&&f(t,["text"],m);const v=c(n,["thought"]);v!=null&&f(t,["thought"],v);const S=c(n,["thoughtSignature"]);S!=null&&f(t,["thoughtSignature"],S);const x=c(n,["videoMetadata"]);return x!=null&&f(t,["videoMetadata"],x),t}function WN(n){const t={},o=c(n,["handle"]);if(o!=null&&f(t,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function jN(n){const t={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=c(n,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const s=c(n,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(S=>S)),f(t,["functionDeclarations"],v)}const d=c(n,["googleMaps"]);d!=null&&f(t,["googleMaps"],QN(d));const h=c(n,["googleSearch"]);h!=null&&f(t,["googleSearch"],KN(h));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=c(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eb(n){const t=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const a=n[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const s=Object.keys(a).map(u=>`${o}.${u}`);t.push(...s)}else t.push(o)}return t.join(",")}function tb(n,t){let o=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const u=a.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,o=u):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const s=n.fieldMask;if(o){const u=eb(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?n.fieldMask=s.join(","):delete n.fieldMask;return n}class nb extends Nn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=FN(this.apiClient,t);u=ie("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const y=tb(h,t.config);return s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ib(n,t){const o={},a=c(n,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function ob(n){const t={},o=c(n,["name"]);o!=null&&f(t,["_url","name"],o);const a=c(n,["config"]);return a!=null&&ib(a,t),t}function lb(n){const t={},o=c(n,["name"]);return o!=null&&f(t,["_url","name"],o),t}function ab(n,t){const o={},a=c(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=c(n,["pageToken"]);return t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),o}function sb(n){const t={},o=c(n,["parent"]);o!=null&&f(t,["_url","parent"],o);const a=c(n,["config"]);return a!=null&&ab(a,t),t}function rb(n){const t={},o=c(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=c(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=c(n,["documents"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(t,["documents"],u)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ub extends Nn{constructor(t){super(),this.apiClient=t,this.list=async o=>new xi(Cn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=lb(t);return u=ie("{name}",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(t){var o,a;let s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ob(t);s=ie("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sb(t);return u=ie("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=rb(y),v=new Px;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cb extends Nn{constructor(t,o=new ub(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new xi(Cn.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=eN(t);return u=ie("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async get(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iN(t);return u=ie("{name}",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(t){var o,a;let s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=nN(t);s=ie("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=uN(t);return u=ie("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=cN(y),v=new qx;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=fN(t);return u=ie("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=dN(y),v=new zx;return Object.assign(v,m),v})}}async importFile(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=aN(t);return u=ie("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=lN(y),v=new _c;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Iy=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Iy=n.randomUUID.bind(n),n.randomUUID();const t=new Uint8Array(1),o=n?()=>n.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const fb=()=>Iy();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ac(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const sc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const t=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(t.stack=n.stack),n.cause&&!t.cause&&(t.cause=n.cause),n.name&&(t.name=n.name),t}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vt extends Error{}class ft extends Vt{constructor(t,o,a,s){super(`${ft.makeMessage(t,o,a)}`),this.status=t,this.headers=s,this.error=o}static makeMessage(t,o,a){const s=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,o,a,s){if(!t||!s)return new ps({message:a,cause:sc(o)});const u=o;return t===400?new Uy(t,u,a,s):t===401?new Ly(t,u,a,s):t===403?new ky(t,u,a,s):t===404?new Gy(t,u,a,s):t===409?new Hy(t,u,a,s):t===422?new Py(t,u,a,s):t===429?new qy(t,u,a,s):t>=500?new zy(t,u,a,s):new ft(t,u,a,s)}}class rc extends ft{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ps extends ft{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Dy extends ps{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Uy extends ft{}class Ly extends ft{}class ky extends ft{}class Gy extends ft{}class Hy extends ft{}class Py extends ft{}class qy extends ft{}class zy extends ft{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const db=/^[a-z][a-z0-9+.-]*:/i,pb=n=>db.test(n);let uc=n=>(uc=Array.isArray,uc(n));const hb=uc;let mb=hb;const Cg=mb;function gb(n){if(!n)return!0;for(const t in n)return!1;return!0}function yb(n,t){return Object.prototype.hasOwnProperty.call(n,t)}const vb=(n,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Vt(`${n} must be an integer`);if(t<0)throw new Vt(`${n} must be a positive integer`);return t},Sb=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tb=n=>new Promise(t=>setTimeout(t,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ro="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const xb=()=>{var n,t,o,a,s;const u=Eb();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":Ng(Deno.build.os),"X-Stainless-Arch":Ag(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":Ng((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Ag((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const d=_b();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _b(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of n){const a=o.exec(navigator.userAgent);if(a){const s=a[1]||0,u=a[2]||0,d=a[3]||0;return{browser:t,version:`${s}.${u}.${d}`}}}return null}const Ag=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Ng=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Va;const Cb=()=>Va??(Va=xb());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ab(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Vy(...n){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...n)}function Nb(n){let t=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Vy({start(){},async pull(o){const{done:a,value:s}=await t.next();a?o.close():o.enqueue(s)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Oy(n){if(n[Symbol.asyncIterator])return n;const t=n.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function bb(n){var t,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(t=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=n.getReader(),s=a.cancel();a.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rb=({headers:n,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const By=()=>{var n;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((n=t==null?void 0:t.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Ou(n,t,o){return By(),new File(n,t??"unknown_file",o)}function Mb(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const wb=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fy=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",Ib=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Fy(n),Db=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function Ub(n,t,o){if(By(),n=await n,Ib(n))return n instanceof File?n:Ou([await n.arrayBuffer()],n.name);if(Db(n)){const s=await n.blob();return t||(t=new URL(n.url).pathname.split(/[\\/]/).pop()),Ou(await cc(s),t,o)}const a=await cc(n);if(t||(t=Mb(n)),!(o!=null&&o.type)){const s=a.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof s=="string"&&(o=Object.assign(Object.assign({},o),{type:s}))}return Ou(a,t,o)}async function cc(n){var t,o,a,s,u;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(Fy(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(wb(n))try{for(var h=!0,y=Qt(n),m;m=await y.next(),t=m.done,!t;h=!0){s=m.value,h=!1;const v=s;d.push(...await cc(v))}}catch(v){o={error:v}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${Lb(n)}`)}return d}function Lb(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jy{constructor(t){this._client=t}}Jy._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yy(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const bg=Object.freeze(Object.create(null)),kb=(n=Yy)=>(function(o,...a){if(o.length===1)return o[0];let s=!1;const u=[],d=o.reduce((v,S,x)=>{var C,R,M;/[?#]/.test(S)&&(s=!0);const A=a[x];let H=(s?encodeURIComponent:n)(""+A);return x!==a.length&&(A==null||typeof A=="object"&&A.toString===((M=Object.getPrototypeOf((R=Object.getPrototypeOf((C=A.hasOwnProperty)!==null&&C!==void 0?C:bg))!==null&&R!==void 0?R:bg))===null||M===void 0?void 0:M.toString))&&(H=A+"",u.push({start:v.length+S.length,length:H.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),v+S+(x===a.length?"":H)},""),h=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(h))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,S)=>v.start-S.start),u.length>0){let v=0;const S=u.reduce((x,C)=>{const R=" ".repeat(C.start-v),M="^".repeat(C.length);return v=C.start+C.length,x+R+M},"");throw new Vt(`Path parameters result in path with invalid segments:
${u.map(x=>x.error).join(`
`)}
${d}
${S}`)}return d}),Oa=kb(Yy);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qy extends Jy{create(t,o){var a;const{api_version:s=this._client.apiVersion}=t,u=ls(t,["api_version"]);if("model"in u&&"agent_config"in u)throw new Vt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Vt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Oa`/${s}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:s=this._client.apiVersion}=o??{};return this._client.delete(Oa`/${s}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:s=this._client.apiVersion}=o??{};return this._client.post(Oa`/${s}/interactions/${t}/cancel`,a)}get(t,o={},a){var s;const u=o??{},{api_version:d=this._client.apiVersion}=u,h=ls(u,["api_version"]);return this._client.get(Oa`/${d}/interactions/${t}`,Object.assign(Object.assign({query:h},a),{stream:(s=o==null?void 0:o.stream)!==null&&s!==void 0?s:!1}))}}Qy._key=Object.freeze(["interactions"]);class Ky extends Qy{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gb(n){let t=0;for(const s of n)t+=s.length;const o=new Uint8Array(t);let a=0;for(const s of n)o.set(s,a),a+=s.length;return o}let Ba;function wc(n){let t;return(Ba??(t=new globalThis.TextEncoder,Ba=t.encode.bind(t)))(n)}let Fa;function Rg(n){let t;return(Fa??(t=new globalThis.TextDecoder,Fa=t.decode.bind(t)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?wc(t):t;this.buffer=Gb([this.buffer,o]);const a=[];let s;for(;(s=Hb(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){a.push(Rg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,d=Rg(this.buffer.subarray(0,u));a.push(d),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}hs.NEWLINE_CHARS=new Set([`
`,"\r"]);hs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Hb(n,t){for(let s=t??0;s<n.length;s++){if(n[s]===10)return{preceding:s,index:s+1,carriage:!1};if(n[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function Pb(n){for(let a=0;a<n.length-1;a++){if(n[a]===10&&n[a+1]===10||n[a]===13&&n[a+1]===13)return a+2;if(n[a]===13&&n[a+1]===10&&a+3<n.length&&n[a+2]===13&&n[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const as={off:0,error:200,warn:300,info:400,debug:500},Mg=(n,t,o)=>{if(n){if(yb(as,n))return n;ct(o).warn(`${t} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(as))}`)}};function gl(){}function Ja(n,t,o){return!t||as[n]>as[o]?gl:t[n].bind(t)}const qb={error:gl,warn:gl,info:gl,debug:gl};let wg=new WeakMap;function ct(n){var t;const o=n.logger,a=(t=n.logLevel)!==null&&t!==void 0?t:"off";if(!o)return qb;const s=wg.get(o);if(s&&s[0]===a)return s[1];const u={error:Ja("error",o,a),warn:Ja("warn",o,a),info:Ja("info",o,a),debug:Ja("debug",o,a)};return wg.set(o,[a,u]),u}const Si=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fo{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let s=!1;const u=a?ct(a):console;function d(){return Yt(this,arguments,function*(){var y,m,v,S;if(s)throw new Vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let x=!1;try{try{for(var C=!0,R=Qt(zb(t,o)),M;M=yield fe(R.next()),y=M.done,!y;C=!0){S=M.value,C=!1;const A=S;if(!x)if(A.data.startsWith("[DONE]")){x=!0;continue}else try{yield yield fe(JSON.parse(A.data))}catch(H){throw u.error("Could not parse message into JSON:",A.data),u.error("From chunk:",A.raw),H}}}catch(A){m={error:A}}finally{try{!C&&!y&&(v=R.return)&&(yield fe(v.call(R)))}finally{if(m)throw m.error}}x=!0}catch(A){if(ac(A))return yield fe(void 0);throw A}finally{x||o.abort()}})}return new fo(d,o,a)}static fromReadableStream(t,o,a){let s=!1;function u(){return Yt(this,arguments,function*(){var y,m,v,S;const x=new hs,C=Oy(t);try{for(var R=!0,M=Qt(C),A;A=yield fe(M.next()),y=A.done,!y;R=!0){S=A.value,R=!1;const H=S;for(const F of x.decode(H))yield yield fe(F)}}catch(H){m={error:H}}finally{try{!R&&!y&&(v=M.return)&&(yield fe(v.call(M)))}finally{if(m)throw m.error}}for(const H of x.flush())yield yield fe(H)})}function d(){return Yt(this,arguments,function*(){var y,m,v,S;if(s)throw new Vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let x=!1;try{try{for(var C=!0,R=Qt(u()),M;M=yield fe(R.next()),y=M.done,!y;C=!0){S=M.value,C=!1;const A=S;x||A&&(yield yield fe(JSON.parse(A)))}}catch(A){m={error:A}}finally{try{!C&&!y&&(v=R.return)&&(yield fe(v.call(R)))}finally{if(m)throw m.error}}x=!0}catch(A){if(ac(A))return yield fe(void 0);throw A}finally{x||o.abort()}})}return new fo(d,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),s=u=>({next:()=>{if(u.length===0){const d=a.next();t.push(d),o.push(d)}return u.shift()}});return[new fo(()=>s(t),this.controller,this.client),new fo(()=>s(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Vy({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:s,done:u}=await o.next();if(u)return a.close();const d=wc(JSON.stringify(s)+`
`);a.enqueue(d)}catch(s){a.error(s)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function zb(n,t){return Yt(this,arguments,function*(){var a,s,u,d;if(!n.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Vt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Vt("Attempted to iterate over a response with no body");const h=new Ob,y=new hs,m=Oy(n.body);try{for(var v=!0,S=Qt(Vb(m)),x;x=yield fe(S.next()),a=x.done,!a;v=!0){d=x.value,v=!1;const C=d;for(const R of y.decode(C)){const M=h.decode(R);M&&(yield yield fe(M))}}}catch(C){s={error:C}}finally{try{!v&&!a&&(u=S.return)&&(yield fe(u.call(S)))}finally{if(s)throw s.error}}for(const C of y.flush()){const R=h.decode(C);R&&(yield yield fe(R))}})}function Vb(n){return Yt(this,arguments,function*(){var o,a,s,u;let d=new Uint8Array;try{for(var h=!0,y=Qt(n),m;m=yield fe(y.next()),o=m.done,!o;h=!0){u=m.value,h=!1;const v=u;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?wc(v):v;let x=new Uint8Array(d.length+S.length);x.set(d),x.set(S,d.length),d=x;let C;for(;(C=Pb(d))!==-1;)yield yield fe(d.slice(0,C)),d=d.slice(C)}}catch(v){a={error:v}}finally{try{!h&&!o&&(s=y.return)&&(yield fe(s.call(y)))}finally{if(a)throw a.error}}d.length>0&&(yield yield fe(d))})}class Ob{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,s]=Bb(t,":");return s.startsWith(" ")&&(s=s.substring(1)),o==="event"?this.event=s:o==="data"&&this.data.push(s),null}}function Bb(n,t){const o=n.indexOf(t);return o!==-1?[n.substring(0,o),t,n.substring(o+t.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Fb(n,t){const{response:o,requestLogID:a,retryOfRequestLogID:s,startTime:u}=t,d=await(async()=>{var h;if(t.options.stream)return ct(n).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,n):fo.fromSSEResponse(o,t.controller,n);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(h=y==null?void 0:y.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return ct(n).debug(`[${a}] response parsed`,Si({retryOfRequestLogID:s,url:o.url,status:o.status,body:d,durationMs:Date.now()-u})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ic extends Promise{constructor(t,o,a=Fb){super(s=>{s(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Ic(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xy=Symbol("brand.privateNullableHeaders");function*Jb(n){if(!n)return;if(Xy in n){const{values:a,nulls:s}=n;yield*a.entries();for(const u of s)yield[u,null];return}let t=!1,o;n instanceof Headers?o=n.entries():Cg(n)?o=n:(t=!0,o=Object.entries(n??{}));for(let a of o){const s=a[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const u=Cg(a[1])?a[1]:[a[1]];let d=!1;for(const h of u)h!==void 0&&(t&&!d&&(d=!0,yield[s,null]),yield[s,h])}}const ml=n=>{const t=new Headers,o=new Set;for(const a of n){const s=new Set;for(const[u,d]of Jb(a)){const h=u.toLowerCase();s.has(h)||(t.delete(u),s.add(h)),d===null?(t.delete(u),o.add(h)):(t.append(u,d),o.delete(h))}}return{[Xy]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bu=n=>{var t,o,a,s,u,d;if(typeof globalThis.process<"u")return(a=(o=(t=px)===null||t===void 0?void 0:t[n])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(d=(u=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||u===void 0?void 0:u.call(s,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $y;class ms{constructor(t){var o,a,s,u,d,h,y,{baseURL:m=Bu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Bu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,x=ls(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:S},x),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:ms.DEFAULT_TIMEOUT,this.logger=(s=C.logger)!==null&&s!==void 0?s:console;const R="warn";this.logLevel=R,this.logLevel=(d=(u=Mg(C.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Mg(Bu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:R,this.fetchOptions=C.fetchOptions,this.maxRetries=(h=C.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:Ab(),this.encoder=Rb,this._options=C,this.apiKey=v,this.apiVersion=S,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=ml([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return ml([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ml([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new Vt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ro}`}defaultIdempotencyKey(){return`stainless-node-retry-${fb()}`}makeStatusError(t,o,a,s){return ft.generate(t,o,a,s)}buildURL(t,o,a){const s=!this.baseURLOverridden()&&a||this.baseURL,u=pb(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),d=this.defaultQuery();return gb(d)||(o=Object.assign(Object.assign({},d),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(s=>Object.assign({method:t,path:o},s)))}request(t,o=null){return new Ic(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var s,u,d;const h=await t,y=(s=h.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o==null&&(o=y),await this.prepareOptions(h);const{req:m,url:v,timeout:S}=await this.buildRequest(h,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:h});const x="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,R=Date.now();if(ct(this).debug(`[${x}] sending request`,Si({retryOfRequestLogID:a,method:h.method,url:v,options:h,headers:m.headers})),!((u=h.signal)===null||u===void 0)&&u.aborted)throw new rc;const M=new AbortController,A=await this.fetchWithTimeout(v,m,S,M).catch(sc),H=Date.now();if(A instanceof globalThis.Error){const P=`retrying, ${o} attempts remaining`;if(!((d=h.signal)===null||d===void 0)&&d.aborted)throw new rc;const L=ac(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(o)return ct(this).info(`[${x}] connection ${L?"timed out":"failed"} - ${P}`),ct(this).debug(`[${x}] connection ${L?"timed out":"failed"} (${P})`,Si({retryOfRequestLogID:a,url:v,durationMs:H-R,message:A.message})),this.retryRequest(h,o,a??x);throw ct(this).info(`[${x}] connection ${L?"timed out":"failed"} - error; no more retries left`),ct(this).debug(`[${x}] connection ${L?"timed out":"failed"} (error; no more retries left)`,Si({retryOfRequestLogID:a,url:v,durationMs:H-R,message:A.message})),L?new Dy:new ps({cause:A})}const F=`[${x}${C}] ${m.method} ${v} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${H-R}ms`;if(!A.ok){const P=await this.shouldRetry(A);if(o&&P){const ne=`retrying, ${o} attempts remaining`;return await bb(A.body),ct(this).info(`${F} - ${ne}`),ct(this).debug(`[${x}] response error (${ne})`,Si({retryOfRequestLogID:a,url:A.url,status:A.status,headers:A.headers,durationMs:H-R})),this.retryRequest(h,o,a??x,A.headers)}const L=P?"error; no more retries left":"error; not retryable";ct(this).info(`${F} - ${L}`);const z=await A.text().catch(ne=>sc(ne).message),X=Sb(z),$=X?void 0:z;throw ct(this).debug(`[${x}] response error (${L})`,Si({retryOfRequestLogID:a,url:A.url,status:A.status,headers:A.headers,message:$,durationMs:Date.now()-R})),this.makeStatusError(A.status,X,$,A.headers)}return ct(this).info(F),ct(this).debug(`[${x}] response start`,Si({retryOfRequestLogID:a,url:A.url,status:A.status,headers:A.headers,durationMs:H-R})),{response:A,options:h,controller:M,requestLogID:x,retryOfRequestLogID:a,startTime:R}}async fetchWithTimeout(t,o,a,s){const u=o||{},{signal:d,method:h}=u,y=ls(u,["signal","method"]);d&&d.addEventListener("abort",()=>s.abort());const m=setTimeout(()=>s.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:s.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);h&&(S.method=h.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(m)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,s){var u;let d;const h=s==null?void 0:s.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(d=m)}const y=s==null?void 0:s.get("retry-after");if(y&&!d){const m=parseFloat(y);Number.isNaN(m)?d=Date.parse(y)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(u=t.maxRetries)!==null&&u!==void 0?u:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(o,m)}return await Tb(d),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const u=o-t,d=Math.min(.5*Math.pow(2,u),8),h=1-Math.random()*.25;return d*h*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,s,u;const d=Object.assign({},t),{method:h,path:y,query:m,defaultBaseURL:v}=d,S=this.buildURL(y,m,v);"timeout"in d&&vb("timeout",d.timeout),d.timeout=(a=d.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:x,body:C}=this.buildBody({options:d}),R=await this.buildHeaders({options:t,method:h,bodyHeaders:x,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:R},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(u=d.fetchOptions)!==null&&u!==void 0?u:{}),url:S,timeout:d.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:s}){let u={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const d=await this.authHeaders(t);let h=ml([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Cb()),this._options.defaultHeaders,a,t.headers,d]);return this.validateHeaders(h),h.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=ml([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Nb(t)}:this.encoder({body:t,headers:a})}}ms.DEFAULT_TIMEOUT=6e4;class tt extends ms{constructor(){super(...arguments),this.interactions=new Ky(this)}}$y=tt;tt.GeminiNextGenAPIClient=$y;tt.GeminiNextGenAPIClientError=Vt;tt.APIError=ft;tt.APIConnectionError=ps;tt.APIConnectionTimeoutError=Dy;tt.APIUserAbortError=rc;tt.NotFoundError=Gy;tt.ConflictError=Hy;tt.RateLimitError=qy;tt.BadRequestError=Uy;tt.AuthenticationError=Ly;tt.InternalServerError=zy;tt.PermissionDeniedError=ky;tt.UnprocessableEntityError=Py;tt.toFile=Ub;tt.Interactions=Ky;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yb(n,t){const o={},a=c(n,["name"]);return a!=null&&f(o,["_url","name"],a),o}function Qb(n,t){const o={},a=c(n,["name"]);return a!=null&&f(o,["_url","name"],a),o}function Kb(n,t){const o={},a=c(n,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function Xb(n,t){const o={},a=c(n,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function $b(n,t,o){const a={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=c(n,["tunedModelDisplayName"]);if(t!==void 0&&s!=null&&f(t,["displayName"],s),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);t!==void 0&&u!=null&&f(t,["tuningTask","hyperparameters","epochCount"],u);const d=c(n,["learningRateMultiplier"]);if(d!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(c(n,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(c(n,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=c(n,["batchSize"]);t!==void 0&&h!=null&&f(t,["tuningTask","hyperparameters","batchSize"],h);const y=c(n,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(c(n,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(c(n,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(c(n,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(c(n,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return a}function Zb(n,t,o){const a={};let s=c(o,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const z=c(n,["validationDataset"]);t!==void 0&&z!=null&&f(t,["supervisedTuningSpec"],Fu(z))}else if(s==="PREFERENCE_TUNING"){const z=c(n,["validationDataset"]);t!==void 0&&z!=null&&f(t,["preferenceOptimizationSpec"],Fu(z))}else if(s==="DISTILLATION"){const z=c(n,["validationDataset"]);t!==void 0&&z!=null&&f(t,["distillationSpec"],Fu(z))}const u=c(n,["tunedModelDisplayName"]);t!==void 0&&u!=null&&f(t,["tunedModelDisplayName"],u);const d=c(n,["description"]);t!==void 0&&d!=null&&f(t,["description"],d);let h=c(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const z=c(n,["epochCount"]);t!==void 0&&z!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],z)}else if(h==="PREFERENCE_TUNING"){const z=c(n,["epochCount"]);t!==void 0&&z!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],z)}else if(h==="DISTILLATION"){const z=c(n,["epochCount"]);t!==void 0&&z!=null&&f(t,["distillationSpec","hyperParameters","epochCount"],z)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const z=c(n,["learningRateMultiplier"]);t!==void 0&&z!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],z)}else if(y==="PREFERENCE_TUNING"){const z=c(n,["learningRateMultiplier"]);t!==void 0&&z!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],z)}else if(y==="DISTILLATION"){const z=c(n,["learningRateMultiplier"]);t!==void 0&&z!=null&&f(t,["distillationSpec","hyperParameters","learningRateMultiplier"],z)}let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const z=c(n,["exportLastCheckpointOnly"]);t!==void 0&&z!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],z)}else if(m==="PREFERENCE_TUNING"){const z=c(n,["exportLastCheckpointOnly"]);t!==void 0&&z!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],z)}else if(m==="DISTILLATION"){const z=c(n,["exportLastCheckpointOnly"]);t!==void 0&&z!=null&&f(t,["distillationSpec","exportLastCheckpointOnly"],z)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const z=c(n,["adapterSize"]);t!==void 0&&z!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],z)}else if(v==="PREFERENCE_TUNING"){const z=c(n,["adapterSize"]);t!==void 0&&z!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],z)}else if(v==="DISTILLATION"){const z=c(n,["adapterSize"]);t!==void 0&&z!=null&&f(t,["distillationSpec","hyperParameters","adapterSize"],z)}let S=c(o,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const z=c(n,["tuningMode"]);t!==void 0&&z!=null&&f(t,["supervisedTuningSpec","tuningMode"],z)}const x=c(n,["customBaseModel"]);t!==void 0&&x!=null&&f(t,["customBaseModel"],x);let C=c(o,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const z=c(n,["batchSize"]);t!==void 0&&z!=null&&f(t,["supervisedTuningSpec","hyperParameters","batchSize"],z)}let R=c(o,["config","method"]);if(R===void 0&&(R="SUPERVISED_FINE_TUNING"),R==="SUPERVISED_FINE_TUNING"){const z=c(n,["learningRate"]);t!==void 0&&z!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRate"],z)}const M=c(n,["labels"]);t!==void 0&&M!=null&&f(t,["labels"],M);const A=c(n,["beta"]);t!==void 0&&A!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],A);const H=c(n,["baseTeacherModel"]);t!==void 0&&H!=null&&f(t,["distillationSpec","baseTeacherModel"],H);const F=c(n,["tunedTeacherModelSource"]);t!==void 0&&F!=null&&f(t,["distillationSpec","tunedTeacherModelSource"],F);const P=c(n,["sftLossWeightMultiplier"]);t!==void 0&&P!=null&&f(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],P);const L=c(n,["outputUri"]);return t!==void 0&&L!=null&&f(t,["outputUri"],L),a}function Wb(n,t){const o={},a=c(n,["baseModel"]);a!=null&&f(o,["baseModel"],a);const s=c(n,["preTunedModel"]);s!=null&&f(o,["preTunedModel"],s);const u=c(n,["trainingDataset"]);u!=null&&uR(u);const d=c(n,["config"]);return d!=null&&$b(d,o),o}function jb(n,t){const o={},a=c(n,["baseModel"]);a!=null&&f(o,["baseModel"],a);const s=c(n,["preTunedModel"]);s!=null&&f(o,["preTunedModel"],s);const u=c(n,["trainingDataset"]);u!=null&&cR(u,o,t);const d=c(n,["config"]);return d!=null&&Zb(d,o,t),o}function eR(n,t){const o={},a=c(n,["name"]);return a!=null&&f(o,["_url","name"],a),o}function tR(n,t){const o={},a=c(n,["name"]);return a!=null&&f(o,["_url","name"],a),o}function nR(n,t,o){const a={},s=c(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const u=c(n,["pageToken"]);t!==void 0&&u!=null&&f(t,["_query","pageToken"],u);const d=c(n,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),a}function iR(n,t,o){const a={},s=c(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const u=c(n,["pageToken"]);t!==void 0&&u!=null&&f(t,["_query","pageToken"],u);const d=c(n,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),a}function oR(n,t){const o={},a=c(n,["config"]);return a!=null&&nR(a,o),o}function lR(n,t){const o={},a=c(n,["config"]);return a!=null&&iR(a,o),o}function aR(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["nextPageToken"]);s!=null&&f(o,["nextPageToken"],s);const u=c(n,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>Zy(h))),f(o,["tuningJobs"],d)}return o}function sR(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["nextPageToken"]);s!=null&&f(o,["nextPageToken"],s);const u=c(n,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>fc(h))),f(o,["tuningJobs"],d)}return o}function rR(n,t){const o={},a=c(n,["name"]);a!=null&&f(o,["model"],a);const s=c(n,["name"]);return s!=null&&f(o,["endpoint"],s),o}function uR(n,t){const o={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=c(n,["examples"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),f(o,["examples","examples"],s)}return o}function cR(n,t,o){const a={};let s=c(o,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const d=c(n,["gcsUri"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(s==="PREFERENCE_TUNING"){const d=c(n,["gcsUri"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(s==="DISTILLATION"){const d=c(n,["gcsUri"]);t!==void 0&&d!=null&&f(t,["distillationSpec","promptDatasetUri"],d)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(n,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(n,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(u==="DISTILLATION"){const d=c(n,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["distillationSpec","promptDatasetUri"],d)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Zy(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["name"]);s!=null&&f(o,["name"],s);const u=c(n,["state"]);u!=null&&f(o,["state"],py(u));const d=c(n,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(n,["tuningTask","startTime"]);h!=null&&f(o,["startTime"],h);const y=c(n,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=c(n,["description"]);v!=null&&f(o,["description"],v);const S=c(n,["baseModel"]);S!=null&&f(o,["baseModel"],S);const x=c(n,["_self"]);return x!=null&&f(o,["tunedModel"],rR(x)),o}function fc(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["name"]);s!=null&&f(o,["name"],s);const u=c(n,["state"]);u!=null&&f(o,["state"],py(u));const d=c(n,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(o,["startTime"],h);const y=c(n,["endTime"]);y!=null&&f(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=c(n,["error"]);v!=null&&f(o,["error"],v);const S=c(n,["description"]);S!=null&&f(o,["description"],S);const x=c(n,["baseModel"]);x!=null&&f(o,["baseModel"],x);const C=c(n,["tunedModel"]);C!=null&&f(o,["tunedModel"],C);const R=c(n,["preTunedModel"]);R!=null&&f(o,["preTunedModel"],R);const M=c(n,["supervisedTuningSpec"]);M!=null&&f(o,["supervisedTuningSpec"],M);const A=c(n,["preferenceOptimizationSpec"]);A!=null&&f(o,["preferenceOptimizationSpec"],A);const H=c(n,["distillationSpec"]);H!=null&&f(o,["distillationSpec"],H);const F=c(n,["tuningDataStats"]);F!=null&&f(o,["tuningDataStats"],F);const P=c(n,["encryptionSpec"]);P!=null&&f(o,["encryptionSpec"],P);const L=c(n,["partnerModelTuningSpec"]);L!=null&&f(o,["partnerModelTuningSpec"],L);const z=c(n,["customBaseModel"]);z!=null&&f(o,["customBaseModel"],z);const X=c(n,["experiment"]);X!=null&&f(o,["experiment"],X);const $=c(n,["labels"]);$!=null&&f(o,["labels"],$);const ee=c(n,["outputUri"]);ee!=null&&f(o,["outputUri"],ee);const ne=c(n,["pipelineJob"]);ne!=null&&f(o,["pipelineJob"],ne);const ce=c(n,["serviceAccount"]);ce!=null&&f(o,["serviceAccount"],ce);const ge=c(n,["tunedModelDisplayName"]);ge!=null&&f(o,["tunedModelDisplayName"],ge);const Ae=c(n,["veoTuningSpec"]);return Ae!=null&&f(o,["veoTuningSpec"],Ae),o}function fR(n,t){const o={},a=c(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=c(n,["name"]);s!=null&&f(o,["name"],s);const u=c(n,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(n,["done"]);d!=null&&f(o,["done"],d);const h=c(n,["error"]);return h!=null&&f(o,["error"],h),o}function Fu(n,t){const o={},a=c(n,["gcsUri"]);a!=null&&f(o,["validationDatasetUri"],a);const s=c(n,["vertexDatasetResource"]);return s!=null&&f(o,["validationDatasetUri"],s),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dR extends Nn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new xi(Cn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const s={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(s.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:s});return u.baseModel=void 0,await this.tuneInternal(u)}else{const s=Object.assign({},o);return await this.tuneInternal(s)}else{const s=Object.assign({},o),u=await this.tuneMldevInternal(s);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:Wu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=tR(t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>fc(v))}else{const m=eR(t);return h=ie("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>Zy(v))}}async listInternal(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=lR(t);return h=ie("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=sR(v),x=new ig;return Object.assign(x,S),x})}else{const m=oR(t);return h=ie("tunedModels",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=aR(v),x=new ig;return Object.assign(x,S),x})}}async cancel(t){var o,a,s,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Qb(t);return h=ie("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=Xb(v),x=new og;return Object.assign(x,S),x})}else{const m=Yb(t);return h=ie("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:v.headers},x})),d.then(v=>{const S=Kb(v),x=new og;return Object.assign(x,S),x})}}async tuneInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=jb(t,t);return u=ie("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>fc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Wb(t);return u=ie("tunedModels",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>fR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pR{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hR=1024*1024*8,mR=3,gR=1e3,yR=2,ss="x-goog-upload-status";async function vR(n,t,o){var a;const s=await Wy(n,t,o),u=await(s==null?void 0:s.json());if(((a=s==null?void 0:s.headers)===null||a===void 0?void 0:a[ss])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function SR(n,t,o){var a;const s=await Wy(n,t,o),u=await(s==null?void 0:s.json());if(((a=s==null?void 0:s.headers)===null||a===void 0?void 0:a[ss])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=sy(u),h=new Cc;return Object.assign(h,d),h}async function Wy(n,t,o){var a,s;let u=0,d=0,h=new ec(new Response),y="upload";for(u=n.size;d<u;){const m=Math.min(hR,u-d),v=n.slice(d,d+m);d+m>=u&&(y+=", finalize");let S=0,x=gR;for(;S<mR&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((a=h==null?void 0:h.headers)===null||a===void 0)&&a[ss]));)S++,await ER(x),x=x*yR;if(d+=m,((s=h==null?void 0:h.headers)===null||s===void 0?void 0:s[ss])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function TR(n){return{size:n.size,type:n.type}}function ER(n){return new Promise(t=>setTimeout(t,n))}class xR{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await vR(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await SR(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await TR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _R{create(t,o,a){return new CR(t,o,a)}}class CR{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig="x-goog-api-key";class AR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Ig)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Ig,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NR="gl-node/";class bR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=yx(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const s=new AR(this.apiKey);this.apiClient=new TN({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:NR+"web",uploader:new xR,downloader:new pR}),this.models=new qN(this.apiClient),this.live=new UN(this.apiClient,s,new _R),this.batches=new Q_(this.apiClient),this.chats=new RC(this.models,this.apiClient),this.caches=new AC(this.apiClient),this.files=new zC(this.apiClient),this.operations=new zN(this.apiClient),this.authTokens=new nb(this.apiClient),this.tunings=new dR(this.apiClient),this.fileSearchStores=new cb(this.apiClient)}}var RR={};const MR=async(n,t,o)=>{if(n.length===0)return"Agrega productos para obtener anlisis de IA.";const a=new bR({apiKey:RR.API_KEY}),s=n.map(u=>{const d=Ec(u,o,t),h=ts(u.price,d);return`Producto: ${u.name}, Costo: ${d.toFixed(2)}, Precio: ${u.price.toFixed(2)}, Margen: ${h.toFixed(1)}%`}).join(`
`);try{return(await a.models.generateContent({model:"gemini-3-flash-preview",contents:`Analiza la rentabilidad de estos productos y dame 3 consejos breves para mejorar el margen de beneficio en espaol. S conciso y profesional.
      
      Datos:
      ${s}`,config:{temperature:.7}})).text}catch(u){return console.error("Gemini Error:",u),"No se pudo obtener el anlisis de IA en este momento."}},Ya=({title:n,value:t,icon:o,color:a,subValue:s})=>E.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:n}),E.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:t})]}),E.jsx("div",{className:`p-3 rounded-xl ${a}`,children:E.jsx(o,{size:24})})]}),s&&E.jsx("div",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1",children:s})]}),wR=()=>{const{products:n,rawMaterials:t,batches:o}=Tc(),[a,s]=V.useState(null),[u,d]=V.useState(!1),h=n.map(C=>{const R=Ec(C,o,t),M=ts(C.price,R);return{cost:R,margin:M}}),y=h.length>0?h.reduce((C,R)=>C+R.margin,0)/h.length:0,m=h.filter(C=>C.margin<20).length,v=h.length>0?h.reduce((C,R)=>C+R.cost,0)/h.length:0,S=o.reduce((C,R)=>C+R.remainingQuantity,0),x=V.useCallback(async()=>{if(n.length===0)return;d(!0);const C=await MR(n,t,o);s(C),d(!1)},[n,t,o]);return V.useEffect(()=>{x()},[x]),E.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[E.jsxs("header",{children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard de Costos"}),E.jsx("p",{className:"text-gray-500 mt-1",children:"Anlisis basado en inventario real (FIFO)"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[E.jsx(Ya,{title:"Productos",value:n.length,icon:ny,color:"bg-blue-50 text-blue-600"}),E.jsx(Ya,{title:"Margen Promedio",value:`${y.toFixed(1)}%`,icon:ly,color:"bg-emerald-50 text-emerald-600",subValue:y>20?"Rendimiento Bueno":"Revisar Precios"}),E.jsx(Ya,{title:"Items en Stock",value:S.toFixed(0),icon:vc,color:"bg-purple-50 text-purple-600"}),E.jsx(Ya,{title:"Bajo Margen",value:m,icon:tx,color:"bg-amber-50 text-amber-600",subValue:"Crtico (<20%)"})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[E.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm p-8",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Mtricas de Inventario"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[E.jsx("span",{className:"text-gray-500",children:"Costo Unit. Promedio"}),E.jsxs("span",{className:"font-semibold text-gray-900",children:["",v.toFixed(2)]})]}),E.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[E.jsx("span",{className:"text-gray-500",children:"Lotes Activos"}),E.jsx("span",{className:"font-semibold text-indigo-600",children:o.filter(C=>C.remainingQuantity>0).length})]}),E.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[E.jsx("span",{className:"text-gray-500",children:"Productos Rentables"}),E.jsx("span",{className:"font-semibold text-emerald-600",children:h.filter(C=>C.margin>=30).length})]})]})]}),E.jsxs("div",{className:"bg-gradient-to-br from-[#4f46e5] to-[#4338ca] rounded-[2rem] shadow-xl p-8 text-white relative overflow-hidden",children:[E.jsx(Wh,{size:120,className:"absolute top-0 right-0 opacity-10"}),E.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[E.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:E.jsx(Wh,{size:18})}),E.jsx("h3",{className:"text-xl font-bold",children:"Inteligencia de Precios"})]}),E.jsx("div",{className:"flex-1",children:u?E.jsxs("div",{className:"space-y-3 mt-4",children:[E.jsx("div",{className:"h-4 bg-white/20 rounded-full w-full animate-pulse"}),E.jsx("div",{className:"h-4 bg-white/20 rounded-full w-4/5 animate-pulse"})]}):E.jsx("p",{className:"text-indigo-50 text-sm leading-relaxed mt-2 whitespace-pre-line",children:a})}),E.jsx("div",{className:"mt-8",children:E.jsxs("button",{onClick:x,className:"flex items-center gap-2 bg-white text-indigo-700 px-6 py-3 rounded-2xl font-bold text-sm shadow-lg hover:bg-gray-50 transition-colors",children:["Actualizar Anlisis ",E.jsx(vE,{size:16})]})})]})]})]})]})},tn=n=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),IR=n=>{if(n<=0)return 0;const t=Math.floor(n),o=n-t;return o<.5?t+.5:o<.9?t+.99:t+1},DR=()=>{const{products:n,rawMaterials:t,batches:o,addProduct:a,deleteProduct:s,updateProduct:u,consumeStock:d}=Tc(),[h,y]=V.useState(""),[m,v]=V.useState(!1),[S,x]=V.useState(null),[C,R]=V.useState(null),[M,A]=V.useState({name:"",reference:"",price:0,targetMargin:30,materials:[],status:"activa"}),H=n.filter(w=>w.name.toLowerCase().includes(h.toLowerCase())||w.reference.toLowerCase().includes(h.toLowerCase())),F=w=>(w||[]).reduce((Q,Z)=>{let U=Z.quantity;if(Z.mode==="pieces"&&Z.pieces){const j=o.filter(W=>W.materialId===Z.materialId).sort((W,te)=>new Date(te.date).getTime()-new Date(W.date).getTime())[0],N=(j==null?void 0:j.width)||140;U=Z.pieces.reduce((W,te)=>W+te.length*te.width,0)/N/100}return Q+ay(Z.materialId,U,Z.consumptionUnit,o,t)},0),P=V.useMemo(()=>F(M.materials),[M.materials,o,t]),L=V.useMemo(()=>{const w=M.targetMargin||0;return w>=100?0:P/(1-w/100)},[P,M.targetMargin]),z=V.useMemo(()=>IR(L),[L]),X=()=>{if(t.length===0)return;const w=t[0],Q=[...M.materials||[],{materialId:w.id,quantity:1,consumptionUnit:w.unit,mode:"linear",pieces:[{length:50,width:w.unit==="metro"?140:0}]}];A({...M,materials:Q})},$=(w,Q,Z)=>{const U=[...M.materials||[]];if(U[w]={...U[w],[Q]:Z},Q==="materialId"){const j=t.find(N=>N.id===Z);j&&(U[w].consumptionUnit=j.unit,U[w].mode="linear")}A({...M,materials:U})},ee=w=>{const Q=(M.materials||[]).filter((Z,U)=>U!==w);A({...M,materials:Q}),C===w?R(null):C!==null&&C>w&&R(C-1)},ne=w=>{const Q=[...M.materials||[]],Z=Q[w],U=o.filter(j=>j.materialId===Z.materialId).sort((j,N)=>new Date(N.date).getTime()-new Date(j.date).getTime())[0];Z.pieces=[...Z.pieces||[],{length:10,width:(U==null?void 0:U.width)||140}],A({...M,materials:Q})},ce=(w,Q,Z,U)=>{const j=[...M.materials||[]];j[w].pieces[Q][Z]=U,A({...M,materials:j})},ge=(w,Q)=>{const Z=[...M.materials||[]];Z[w].pieces=Z[w].pieces.filter((U,j)=>j!==Q),A({...M,materials:Z})},Ae=w=>{const Q={...w,name:`${w.name} (copia)`,reference:w.reference?`${w.reference}-COPIA`:"",createdAt:new Date().toISOString()};x(null),A(Q),v(!0)},De=w=>{var U;w.preventDefault();const Q=M.materials.map(j=>{if(j.mode==="pieces"&&j.pieces){const N=o.filter(te=>te.materialId===j.materialId).sort((te,se)=>new Date(se.date).getTime()-new Date(te.date).getTime())[0],O=(N==null?void 0:N.width)||140,W=j.pieces.reduce((te,se)=>te+se.length*se.width,0);return{...j,quantity:W/O/100}}return j}),Z={...M,materials:Q,id:S||Date.now().toString(),createdAt:S?(U=n.find(j=>j.id===S))==null?void 0:U.createdAt:new Date().toISOString()};S?u(Z):a(Z),v(!1)},Ce=(M.price||0)-L,He=L>0?Ce/L*100:0;return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Catlogo de Productos"}),E.jsx("p",{className:"text-gray-500 font-medium",children:"Gestin de Escandallos (Costos FIFO)"})]}),E.jsxs("button",{onClick:()=>{x(null),A({name:"",reference:"",price:0,targetMargin:30,materials:[],status:"activa"}),v(!0)},className:"flex items-center gap-2 bg-[#4f46e5] text-white px-5 py-2.5 rounded-xl font-bold text-sm shadow-sm hover:bg-[#4338ca] transition-all",children:[E.jsx(Qu,{size:18})," Nuevo Producto"]})]}),E.jsxs("div",{className:"relative",children:[E.jsx(oy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"text",placeholder:"Buscar por nombre o SKU...",className:"w-full pl-10 pr-4 py-3.5 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#4f46e5] outline-none",value:h,onChange:w=>y(w.target.value)})]}),E.jsx("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest",children:"Producto"}),E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest",children:"Referencia / SKU"}),E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest text-right",children:"Costo (FIFO)"}),E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest text-right",children:"Precio Venta"}),E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest text-center",children:"Margen"}),E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest text-right",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-50",children:H.map(w=>{const Q=Ec(w,o,t),Z=ts(w.price,Q);return E.jsxs("tr",{className:"hover:bg-gray-50/30 transition-colors",children:[E.jsx("td",{className:"px-8 py-5 font-bold text-gray-900",children:w.name}),E.jsx("td",{className:"px-8 py-5 font-mono text-[10px] font-black text-gray-400 uppercase tracking-tighter",children:w.reference||"---"}),E.jsx("td",{className:"px-8 py-5 text-right font-mono text-sm font-bold text-gray-600",children:tn(Q)}),E.jsx("td",{className:"px-8 py-5 text-right font-mono text-sm font-black text-[#4f46e5]",children:tn(w.price)}),E.jsx("td",{className:"px-8 py-5 text-center",children:E.jsxs("span",{className:`inline-flex px-2.5 py-1 rounded-lg text-[10px] font-black uppercase ${Z>=30?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:[Z.toFixed(1),"%"]})}),E.jsx("td",{className:"px-8 py-5 text-right",children:E.jsxs("div",{className:"flex justify-end gap-1",children:[E.jsx("button",{onClick:()=>{window.confirm("Registrar consumo de stock?")&&d(w.id)},className:"p-2 text-emerald-500 hover:bg-emerald-50 rounded-lg transition-colors",title:"Producir",children:E.jsx(AE,{size:18})}),E.jsx("button",{onClick:()=>Ae(w),className:"p-2 text-indigo-400 hover:bg-indigo-50 rounded-lg transition-colors",title:"Duplicar",children:E.jsx(bE,{size:18})}),E.jsx("button",{onClick:()=>{x(w.id),A(w),v(!0)},className:"p-2 text-gray-400 hover:bg-gray-50 rounded-lg transition-colors",title:"Editar",children:E.jsx(iy,{size:18})}),E.jsx("button",{onClick:()=>s(w.id),className:"p-2 text-gray-400 hover:bg-red-50 hover:text-red-500 rounded-lg transition-colors",title:"Eliminar",children:E.jsx(es,{size:18})})]})})]},w.id)})})]})}),m&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/60 backdrop-blur-md",children:E.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-5xl flex flex-col max-h-[90vh] overflow-hidden",children:[E.jsxs("div",{className:"px-10 py-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[E.jsx("h3",{className:"text-2xl font-black text-gray-900",children:S?"Editar Receta":"Nueva Receta de Producto"}),E.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-all",children:E.jsx(Xu,{size:24,className:"text-gray-400"})})]}),E.jsxs("form",{onSubmit:De,className:"p-10 overflow-y-auto flex-1 space-y-10",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),E.jsx("input",{required:!0,className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl outline-none focus:ring-2 focus:ring-[#4f46e5] font-bold",value:M.name,onChange:w=>A({...M,name:w.target.value}),placeholder:"Ej. Bolso de Mano Primavera"})]}),E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Referencia / SKU"}),E.jsx("input",{className:"w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-2xl outline-none font-mono font-bold uppercase",value:M.reference,onChange:w=>A({...M,reference:w.target.value}),placeholder:"REF-001"})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-4",children:[E.jsxs("h4",{className:"text-[10px] font-black text-gray-900 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(vc,{size:14,className:"text-[#4f46e5]"})," Composicin del Producto"]}),E.jsx("button",{type:"button",onClick:X,className:"text-[10px] font-bold text-[#4f46e5] bg-indigo-50 px-4 py-2 rounded-xl hover:bg-indigo-100 transition-colors",children:"+ Aadir Insumo"})]}),E.jsx("div",{className:"space-y-4",children:(M.materials||[]).map((w,Q)=>{var pe;const Z=t.find(oe=>oe.id===w.materialId),U=(Z==null?void 0:Z.unit)==="metro";let j=w.quantity,N=0;if(w.mode==="pieces"&&w.pieces){const oe=o.filter(St=>St.materialId===w.materialId).sort((St,$t)=>new Date($t.date).getTime()-new Date(St.date).getTime())[0],ve=(oe==null?void 0:oe.width)||140,Oe=w.pieces.reduce((St,$t)=>St+$t.length*$t.width,0);N=Oe/1e4,j=Oe/ve/100}else if(U){const oe=o.filter(ve=>ve.materialId===w.materialId).sort((ve,Oe)=>new Date(Oe.date).getTime()-new Date(ve.date).getTime())[0];N=w.quantity*(((oe==null?void 0:oe.width)||140)/100)}const O=Sc(w.materialId,j,w.consumptionUnit,o,t),W=O.reduce((oe,ve)=>oe+ve.subtotal,0),te=C===Q,se=O.some(oe=>oe.isMissing);let he="";if(O.length>0&&!O[0].isMissing){const oe=o.find(Oe=>Oe.id===O[0].batchId),ve=O[0].unitCost/(((oe==null?void 0:oe.width)||140)/100);he=`Usando FIFO  lote ${O[0].date} @ ${tn(ve)}/m`}return E.jsxs("div",{className:`bg-white border rounded-[2rem] overflow-hidden shadow-sm transition-all ${se?"border-red-200 ring-1 ring-red-100":"border-gray-100"}`,children:[E.jsxs("div",{className:"p-6 flex flex-wrap items-center gap-6",children:[E.jsxs("div",{className:"flex-1 min-w-[200px]",children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase mb-1 block ml-1",children:"Insumo"}),E.jsx("select",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-bold outline-none",value:w.materialId,onChange:oe=>$(Q,"materialId",oe.target.value),children:t.map(oe=>E.jsx("option",{value:oe.id,children:oe.name},oe.id))})]}),U&&E.jsxs("div",{className:"flex flex-col gap-1",children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase mb-1 block text-center",children:"Modo Uso"}),E.jsxs("div",{className:"bg-gray-100 p-1 rounded-xl flex gap-1",children:[E.jsxs("button",{type:"button",onClick:()=>$(Q,"mode","linear"),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase flex items-center gap-1.5 transition-all ${w.mode==="linear"?"bg-white text-indigo-600 shadow-sm":"text-gray-400"}`,children:[E.jsx(Ku,{size:10})," Lineal"]}),E.jsxs("button",{type:"button",onClick:()=>$(Q,"mode","pieces"),className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase flex items-center gap-1.5 transition-all ${w.mode==="pieces"?"bg-[#4f46e5] text-white shadow-sm":"text-gray-400"}`,children:[E.jsx(ja,{size:10})," Piezas"]})]})]}),E.jsx("div",{className:"w-36",children:w.mode==="linear"?E.jsxs(E.Fragment,{children:[E.jsxs("label",{className:"text-[9px] font-black text-gray-400 uppercase mb-1 block ml-1",children:["Cant. (",w.consumptionUnit,"s)"]}),E.jsx("input",{type:"number",step:"0.01",className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl text-sm font-black text-right",value:w.quantity,onChange:oe=>$(Q,"quantity",parseFloat(oe.target.value))})]}):E.jsxs(E.Fragment,{children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase mb-1 block ml-1",children:"Superficie Total"}),E.jsxs("div",{className:"px-4 py-3 bg-indigo-50 border border-indigo-100 rounded-xl text-sm font-black text-indigo-700 text-right",children:[N.toFixed(3)," m"]})]})}),E.jsxs("div",{className:"flex-1 min-w-[150px] text-right",children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase mb-1 block",children:"Costo Aplicado"}),E.jsx("div",{className:`text-lg font-black ${se?"text-red-500":"text-[#4f46e5]"}`,children:tn(W)}),E.jsx("div",{className:`text-[9px] font-bold uppercase tracking-tighter ${se?"text-red-400":"text-gray-400"}`,children:se?"Stock insuficiente":he})]}),E.jsxs("div",{className:"flex gap-1 self-end mb-1",children:[E.jsx("button",{type:"button",onClick:()=>R(te?null:Q),className:`p-3 rounded-xl transition-all ${te?"bg-[#4f46e5] text-white shadow-lg":"bg-gray-100 text-gray-400"}`,children:E.jsx(wE,{size:18})}),E.jsx("button",{type:"button",onClick:()=>ee(Q),className:"p-3 text-gray-300 hover:text-red-500 rounded-xl",children:E.jsx(es,{size:18})})]})]}),te&&E.jsxs("div",{className:"px-8 pb-8 pt-4 bg-gray-50/50 border-t border-gray-100 space-y-6",children:[w.mode==="pieces"&&E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("h5",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(ja,{size:12})," Desglose de piezas (cm)"]}),E.jsx("button",{type:"button",onClick:()=>ne(Q),className:"text-[9px] font-bold text-indigo-600 bg-white border border-indigo-100 px-3 py-1.5 rounded-lg",children:"+ Aadir Pieza"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:(w.pieces||[]).map((oe,ve)=>E.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 flex items-center gap-3 shadow-sm group",children:[E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("label",{className:"text-[8px] font-bold text-gray-400 uppercase block ml-1",children:"Largo"}),E.jsx("input",{type:"number",className:"w-full bg-gray-50 border-none rounded-lg text-xs font-bold px-2 py-1.5",value:oe.length,onChange:Oe=>ce(Q,ve,"length",parseFloat(Oe.target.value))})]}),E.jsx("div",{className:"text-gray-300 mt-4",children:""}),E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("label",{className:"text-[8px] font-bold text-gray-400 uppercase block ml-1",children:"Ancho"}),E.jsx("input",{type:"number",className:"w-full bg-gray-50 border-none rounded-lg text-xs font-bold px-2 py-1.5",value:oe.width,onChange:Oe=>ce(Q,ve,"width",parseFloat(Oe.target.value))})]}),E.jsx("button",{type:"button",onClick:()=>ge(Q,ve),className:"p-2 text-gray-300 hover:text-red-500",children:E.jsx(Xu,{size:14})})]},ve))}),E.jsxs("div",{className:"p-4 bg-indigo-600 rounded-2xl text-white flex justify-between items-center shadow-lg shadow-indigo-100",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:E.jsx(YE,{size:16})}),E.jsxs("div",{children:[E.jsx("div",{className:"text-[8px] font-black uppercase opacity-60 tracking-widest text-white",children:"Consumo Geomtrico"}),E.jsxs("div",{className:"text-sm font-black text-white",children:[(pe=w.pieces)==null?void 0:pe.map(oe=>`${oe.length}${oe.width}`).join(" + ")," cm"]})]})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("div",{className:"text-[14px] font-black text-white",children:[N.toFixed(4)," m"]}),E.jsxs("div",{className:"text-[9px] font-bold opacity-60 text-white",children:["Equivale a: ",j.toFixed(3)," m lineales"]})]})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("h5",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest flex items-center gap-2",children:[E.jsx(ty,{size:12})," Trazabilidad FIFO por m"]}),O.map((oe,ve)=>{const Oe=o.find(nn=>nn.id===oe.batchId),St=(Oe==null?void 0:Oe.width)||140,$t=oe.quantityUsed*St/100,xl=oe.unitCost/(St/100);return E.jsxs("div",{className:`flex justify-between items-center text-[10px] p-4 bg-white rounded-2xl border shadow-sm ${oe.isMissing?"border-red-100 bg-red-50":"border-emerald-50"}`,children:[E.jsx("span",{className:`font-bold ${oe.isMissing?"text-red-500":"text-gray-600"}`,children:oe.isMissing?"SIN STOCK DISPONIBLE":`Lote ${oe.date} (${Oe==null?void 0:Oe.provider})`}),E.jsxs("div",{className:"flex gap-6 items-center",children:[E.jsxs("div",{className:"text-right",children:[E.jsx("div",{className:"text-gray-400 font-bold uppercase text-[8px]",children:"rea Aplicada"}),E.jsxs("div",{className:"font-black text-gray-900",children:[$t.toFixed(3)," m"]})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("div",{className:"text-gray-400 font-bold uppercase text-[8px]",children:"Precio Real m"}),E.jsxs("div",{className:"font-black text-indigo-600",children:[tn(xl),"/m"]})]}),E.jsxs("div",{className:"text-right pl-4 border-l border-gray-100",children:[E.jsx("div",{className:"text-gray-400 font-bold uppercase text-[8px]",children:"Costo Parcial"}),E.jsx("div",{className:"font-black text-[#4f46e5]",children:tn(oe.subtotal)})]})]})]},ve)})]})]})]},Q)})})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[E.jsxs("div",{className:"bg-indigo-50/40 p-10 rounded-[2.5rem] border border-indigo-100 space-y-8",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsx("label",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest",children:"Escandallo de Produccin"}),E.jsxs("div",{className:"flex items-end justify-between border-b border-indigo-100 pb-4",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Costo FIFO Total"}),E.jsx("span",{className:"text-4xl font-black text-indigo-900",children:tn(P)})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Precios Sugeridos (",M.targetMargin,"%)"]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("button",{type:"button",onClick:()=>A({...M,price:L}),className:"bg-white p-5 rounded-3xl border border-indigo-100 text-left",children:[E.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase mb-1",children:"Margen Exacto"}),E.jsx("div",{className:"text-lg font-black text-indigo-600",children:tn(L)})]}),E.jsxs("button",{type:"button",onClick:()=>A({...M,price:z}),className:"bg-white p-5 rounded-3xl border-2 border-emerald-200 text-left",children:[E.jsxs("div",{className:"text-[9px] font-bold text-gray-400 uppercase mb-1 flex items-center gap-1",children:[E.jsx(ly,{size:10})," Redondeo"]}),E.jsx("div",{className:"text-lg font-black text-emerald-600",children:tn(z)})]})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between text-[10px] font-black uppercase text-gray-400",children:[E.jsx("span",{children:"Margen Objetivo"}),E.jsxs("span",{className:"text-indigo-600",children:[M.targetMargin,"%"]})]}),E.jsx("input",{type:"range",min:"10",max:"90",className:"w-full h-2 bg-indigo-100 rounded-lg appearance-none cursor-pointer accent-indigo-600",value:M.targetMargin,onChange:w=>A({...M,targetMargin:parseFloat(w.target.value)})})]})]}),E.jsxs("div",{className:"bg-[#1a1c23] p-10 rounded-[2.5rem] shadow-2xl space-y-8 border border-gray-800",children:[E.jsxs("div",{className:"space-y-3",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Precio Final al Pblico"}),E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-emerald-400 font-black text-4xl opacity-50",children:""}),E.jsx("input",{required:!0,type:"number",step:"0.01",className:"w-full pl-16 pr-6 py-8 bg-gray-800/50 border-2 border-emerald-500/30 rounded-[2rem] text-4xl font-black text-emerald-400 outline-none",value:M.price||"",onChange:w=>A({...M,price:parseFloat(w.target.value)})})]})]}),M.price&&M.price>0&&E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center p-8 bg-gray-800/30 rounded-[2rem] border border-gray-700",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Margen Real"}),E.jsxs("span",{className:"text-4xl font-black text-white",children:[ts(M.price,P).toFixed(1),"%"]})]}),E.jsx($h,{size:40,className:"text-emerald-500 opacity-20"})]}),E.jsxs("div",{className:`text-[12px] font-bold flex items-center gap-2 px-4 py-3 rounded-xl ${Ce>=0?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:[Ce>=0?"+":"",tn(Ce)," vs costo (",Ce>=0?"+":"",He.toFixed(1),"%)"]})]})]})]})]}),E.jsxs("div",{className:"px-10 py-8 border-t border-gray-100 bg-gray-50 flex gap-4",children:[E.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-10 py-5 border border-gray-200 rounded-2xl font-bold text-gray-500",children:"Descartar"}),E.jsxs("button",{onClick:De,className:"flex-1 px-10 py-5 bg-[#4f46e5] text-white rounded-2xl font-black shadow-xl flex items-center justify-center gap-2",children:[E.jsx($h,{size:20})," Guardar Receta"]})]})]})})]})},so=n=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),UR=()=>{const{rawMaterials:n,batches:t,addRawMaterial:o,deleteRawMaterial:a,updateRawMaterial:s,addBatch:u,deleteBatch:d,updateBatch:h}=Tc(),[y,m]=V.useState(""),[v,S]=V.useState(!1),[x,C]=V.useState(!1),[R,M]=V.useState(null),[A,H]=V.useState(null),[F,P]=V.useState("rollo"),[L,z]=V.useState(null),[X,$]=V.useState({name:"",description:"",type:"Tela",unit:"metro",provider:"",status:"activa",initialQty:0,unitCost:0,width:140}),[ee,ne]=V.useState({date:new Date().toISOString().split("T")[0],provider:"",initialQuantity:0,unitCost:0,reference:"",width:140,length:0}),ce=n.filter(U=>U.name.toLowerCase().includes(y.toLowerCase())||U.provider.toLowerCase().includes(y.toLowerCase())),ge=U=>{const j=t.filter(pe=>pe.materialId===U),N=j.reduce((pe,oe)=>pe+oe.initialQuantity,0),O=j.reduce((pe,oe)=>pe+oe.remainingQuantity,0),W=j.reduce((pe,oe)=>pe+oe.unitCost*oe.initialQuantity,0),te=N>0?W/N:0,se=j.reduce((pe,oe)=>pe+(oe.area||0),0),he=se>0?W/se:0;return{totalOriginalQty:N,totalRemainingQty:O,totalValue:W,weightedAvgCost:te,totalArea:se,avgCostPerM2:he}},Ae=U=>{U.preventDefault();const j=A||Date.now().toString(),N={id:j,name:X.name,description:X.description,type:X.type,unit:X.unit,provider:X.provider,status:X.status};if(A)s(N);else if(o(N),X.initialQty>0){const O=X.unit==="metro"?X.initialQty*((X.width||0)/100):void 0,W={id:`batch-${Date.now()}`,materialId:j,date:new Date().toISOString().split("T")[0],provider:X.provider||"Carga Inicial",initialQuantity:X.initialQty,remainingQuantity:X.initialQty,unitCost:X.unitCost,reference:"Carga Inicial",width:X.width,area:O,entryMode:"rollo"};u(W)}S(!1),H(null)},De=U=>{if(U.preventDefault(),!R)return;const j=n.find(se=>se.id===R);let N=0,O=ee.initialQuantity||0,W=ee.unitCost||0;F==="rollo"?(N=(ee.initialQuantity||0)*((ee.width||0)/100),W=ee.unitCost||0):(N=(ee.length||0)*(ee.width||0)/1e4,O=(ee.length||0)/100,W=(ee.unitCost||0)/O);const te={...ee,id:Date.now().toString(),materialId:R,initialQuantity:O,remainingQuantity:O,unitCost:W,area:N,entryMode:F};u(te),ne({date:new Date().toISOString().split("T")[0],provider:(j==null?void 0:j.provider)||"",initialQuantity:0,unitCost:0,reference:"",width:140,length:0})},Ce=U=>{if(U.preventDefault(),L){const j=t.find(N=>N.id===L.id);if(j&&j.remainingQuantity<j.initialQuantity)h({...L,initialQuantity:j.initialQuantity,unitCost:j.unitCost});else{let N=0,O=L.initialQuantity,W=L.unitCost;L.entryMode==="rollo"?(N=L.initialQuantity*((L.width||0)/100),W=L.unitCost):(N=(L.length||0)*(L.width||0)/1e4,O=(L.length||0)/100,W=(L.unitCost||0)/O),h({...L,initialQuantity:O,unitCost:W,area:N,remainingQuantity:O})}z(null)}},He=V.useMemo(()=>F==="rollo"?(ee.initialQuantity||0)*((ee.width||0)/100):(ee.length||0)*(ee.width||0)/1e4,[F,ee.initialQuantity,ee.width,ee.length]),w=V.useMemo(()=>{const U=ee.unitCost||0;if(F==="rollo"){const j=(ee.initialQuantity||0)*U;return He>0?j/He:0}else return He>0?U/He:0},[F,ee.unitCost,ee.initialQuantity,He]),Q=()=>{window.print()},Z=n.find(U=>U.id===R);return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("header",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Materias Primas"}),E.jsx("p",{className:"text-gray-500 font-medium",children:"Inventario Maestro y Gestin FIFO"})]}),E.jsxs("button",{onClick:()=>{H(null),$({name:"",description:"",type:"Tela",unit:"metro",provider:"",status:"activa",initialQty:0,unitCost:0,width:140}),S(!0)},className:"flex items-center gap-2 bg-[#4f46e5] text-white px-5 py-2.5 rounded-xl font-bold text-sm shadow-sm hover:bg-[#4338ca] transition-all",children:[E.jsx(Qu,{size:18})," Nuevo Material"]})]}),E.jsx("style",{children:`
        @media print {
          body * { visibility: hidden; }
          #print-area, #print-area * { visibility: visible; }
          #print-area { position: absolute; left: 0; top: 0; width: 100%; }
          .no-print { display: none !important; }
        }
      `}),E.jsxs("div",{className:"relative",children:[E.jsx(oy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"text",placeholder:"Buscar material o proveedor...",className:"w-full pl-10 pr-4 py-3.5 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#4f46e5] outline-none transition-all",value:y,onChange:U=>m(U.target.value)})]}),E.jsx("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm overflow-hidden",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest",children:"Materia Prima"}),E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest",children:"Categora"}),E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest text-right",children:"Stock Actual"}),E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest text-right",children:"Costo Promedio"}),E.jsx("th",{className:"px-8 py-5 text-[11px] font-bold text-gray-400 uppercase tracking-widest text-right",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-50",children:ce.map(U=>{const{totalRemainingQty:j,weightedAvgCost:N}=ge(U.id);return E.jsxs("tr",{className:"hover:bg-gray-50/30 transition-colors group",children:[E.jsx("td",{className:"px-8 py-4",children:E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-bold text-gray-900",children:U.name}),E.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:U.provider||"Varios"})]})}),E.jsx("td",{className:"px-8 py-4",children:E.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-[10px] font-bold text-gray-500 uppercase",children:U.type})}),E.jsxs("td",{className:"px-8 py-4 text-right",children:[E.jsx("span",{className:`text-sm font-black ${j<=0?"text-red-500":"text-gray-900"}`,children:j.toFixed(2)}),E.jsxs("span",{className:"text-[10px] text-gray-400 uppercase ml-1.5 font-bold",children:[U.unit,"s"]})]}),E.jsx("td",{className:"px-8 py-4 text-right",children:E.jsx("span",{className:"text-sm font-bold text-gray-700",children:so(N)})}),E.jsx("td",{className:"px-8 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-1",children:[E.jsx("button",{onClick:()=>{M(U.id),C(!0)},className:"p-2 text-indigo-400 hover:bg-indigo-50 rounded-lg transition-colors",title:"Ver Lotes",children:E.jsx(ty,{size:18})}),E.jsx("button",{onClick:()=>{const O=ge(U.id);H(U.id),$({...U,initialQty:O.totalRemainingQty,unitCost:O.weightedAvgCost}),S(!0)},className:"p-2 text-gray-400 hover:bg-gray-50 rounded-lg transition-colors",children:E.jsx(iy,{size:18})}),E.jsx("button",{onClick:()=>a(U.id),className:"p-2 text-gray-400 hover:bg-red-50 hover:text-red-500 rounded-lg transition-colors",children:E.jsx(es,{size:18})})]})})]},U.id)})})]})}),v&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/40 backdrop-blur-sm overflow-y-auto",children:E.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-xl p-10 my-8",children:[E.jsxs("h3",{className:"text-2xl font-black text-gray-900 mb-8",children:[A?"Editar":"Nueva"," Materia Prima"]}),E.jsxs("form",{onSubmit:Ae,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Nombre"}),E.jsx("input",{required:!0,className:"w-full px-5 py-4 bg-gray-50/50 border border-gray-100 rounded-2xl outline-none focus:ring-2 focus:ring-[#4f46e5] text-gray-900 font-medium placeholder-gray-300",value:X.name,onChange:U=>$({...X,name:U.target.value}),placeholder:"Ej. Tela de Corazn"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Tipo / Categora"}),E.jsxs("select",{className:"w-full px-5 py-4 bg-gray-50/50 border border-gray-100 rounded-2xl outline-none text-gray-900 font-medium appearance-none cursor-pointer",value:X.type,onChange:U=>$({...X,type:U.target.value}),children:[E.jsx("option",{value:"Tela",children:"Tela"}),E.jsx("option",{value:"Hilo",children:"Hilo"}),E.jsx("option",{value:"Herrajes",children:"Herrajes"}),E.jsx("option",{value:"Accesorios",children:"Accesorios"}),E.jsx("option",{value:"Otros",children:"Otros"})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Proveedor"}),E.jsx("input",{className:"w-full px-5 py-4 bg-gray-50/50 border border-gray-100 rounded-2xl outline-none text-gray-900 font-medium placeholder-gray-300",value:X.provider,onChange:U=>$({...X,provider:U.target.value}),placeholder:"Ej. Textiles Premium"})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Descripcin"}),E.jsx("input",{className:"w-full px-5 py-4 bg-gray-50/50 border border-gray-100 rounded-2xl outline-none text-gray-900 font-medium placeholder-gray-300",value:X.description,onChange:U=>$({...X,description:U.target.value}),placeholder:"Detalles de la materia prima..."})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest ml-1",children:"Unidad de Medida"}),E.jsxs("select",{className:"w-full px-5 py-4 bg-indigo-50/30 border border-indigo-100 rounded-2xl outline-none text-indigo-900 font-black appearance-none cursor-pointer",value:X.unit,onChange:U=>$({...X,unit:U.target.value}),children:[E.jsx("option",{value:"metro",children:"Metro (m)"}),E.jsx("option",{value:"cm",children:"Centmetro (cm)"}),E.jsx("option",{value:"kg",children:"Kilogramo (kg)"}),E.jsx("option",{value:"gramo",children:"Gramo (g)"}),E.jsx("option",{value:"unidad",children:"Unidad (u)"}),E.jsx("option",{value:"bobina",children:"Bobina"}),E.jsx("option",{value:"litro",children:"Litro (L)"})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:["Costo por ",X.unit]}),E.jsxs("div",{className:"relative",children:[E.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:""}),E.jsx("input",{type:"number",step:"0.01",className:"w-full pl-10 pr-5 py-4 bg-gray-50/50 border border-gray-100 rounded-2xl outline-none text-gray-900 font-black",value:X.unitCost||"",onChange:U=>$({...X,unitCost:parseFloat(U.target.value)}),placeholder:"0",disabled:!!A})]})]})]}),X.unit==="metro"&&E.jsxs("div",{className:"space-y-2 animate-in fade-in zoom-in-95",children:[E.jsx("label",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest ml-1",children:"Ancho til (cm)"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"number",step:"1",className:"w-full px-5 py-4 bg-emerald-50/30 border border-emerald-100 rounded-2xl outline-none text-emerald-700 font-black",value:X.width||"",onChange:U=>$({...X,width:parseInt(U.target.value)}),placeholder:"140"}),E.jsx("span",{className:"absolute right-5 top-1/2 -translate-y-1/2 text-[10px] font-black text-emerald-300 uppercase",children:"cm"})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Cantidad en Inventario"}),E.jsxs("div",{className:"relative group",children:[E.jsx("input",{type:"number",step:"0.01",className:"w-full px-5 py-4 bg-white border-2 border-[#4f46e5] rounded-2xl outline-none text-gray-900 font-black text-center shadow-sm",value:X.initialQty||"",onChange:U=>$({...X,initialQty:parseFloat(U.target.value)}),placeholder:"0",disabled:!!A}),E.jsx("div",{className:"absolute right-5 top-1/2 -translate-y-1/2 text-[10px] font-black text-gray-300 uppercase select-none",children:X.unit.charAt(0)})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Estado"}),E.jsxs("select",{className:"w-full px-5 py-4 bg-gray-50/50 border border-gray-100 rounded-2xl outline-none text-gray-900 font-medium appearance-none cursor-pointer",value:X.status,onChange:U=>$({...X,status:U.target.value}),children:[E.jsx("option",{value:"activa",children:"Activa"}),E.jsx("option",{value:"inactiva",children:"Inactiva"})]})]})]}),E.jsxs("div",{className:"flex gap-4 pt-4",children:[E.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 py-5 border border-gray-100 rounded-2xl font-bold text-gray-500 hover:bg-gray-50 transition-colors",children:"Cancelar"}),E.jsx("button",{type:"submit",className:"flex-1 py-5 bg-[#4f46e5] text-white rounded-2xl font-black shadow-xl hover:shadow-indigo-200 transition-all",children:"Guardar Material"})]})]})]})}),x&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/60 backdrop-blur-md",children:E.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-[90vw] flex flex-col max-h-[90vh] overflow-hidden",children:[E.jsxs("div",{className:"px-10 py-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-black text-gray-900",children:"Histrico de Compras y Lotes"}),E.jsxs("p",{className:"text-sm font-medium text-gray-400",children:[Z==null?void 0:Z.name," (",Z==null?void 0:Z.type,")"]})]}),E.jsxs("div",{className:"flex items-center gap-2 no-print",children:[E.jsx("button",{onClick:Q,className:"p-3 hover:bg-white rounded-full transition-all text-gray-400 hover:text-[#4f46e5]",title:"Imprimir Histrico",children:E.jsx(BE,{size:24})}),E.jsx("button",{onClick:()=>C(!1),className:"p-3 hover:bg-white rounded-full transition-all",children:E.jsx(Xu,{size:24,className:"text-gray-400"})})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-10",id:"print-area",children:[E.jsxs("div",{className:"bg-indigo-50/50 p-8 rounded-[2rem] border border-indigo-100 no-print",children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[E.jsxs("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2",children:[E.jsx($E,{size:14})," Registrar Nueva Entrada de Stock"]}),E.jsxs("div",{className:"bg-white p-1 rounded-xl border border-indigo-100 flex gap-1",children:[E.jsxs("button",{type:"button",onClick:()=>P("rollo"),className:`px-4 py-1.5 rounded-lg text-[10px] font-black uppercase flex items-center gap-2 transition-all ${F==="rollo"?"bg-[#4f46e5] text-white shadow-md":"text-gray-400 hover:bg-gray-50"}`,children:[E.jsx(Ku,{size:12})," Rollo Lineal"]}),E.jsxs("button",{type:"button",onClick:()=>P("pieza"),className:`px-4 py-1.5 rounded-lg text-[10px] font-black uppercase flex items-center gap-2 transition-all ${F==="pieza"?"bg-[#4f46e5] text-white shadow-md":"text-gray-400 hover:bg-gray-50"}`,children:[E.jsx(ja,{size:12})," Pieza Irregular"]})]})]}),E.jsxs("form",{onSubmit:De,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-6 gap-4 items-end",children:[E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Fecha"}),E.jsx("input",{type:"date",required:!0,className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-xl text-sm outline-none",value:ee.date,onChange:U=>ne({...ee,date:U.target.value})})]}),E.jsxs("div",{className:"space-y-1.5 lg:col-span-2",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Proveedor / Ref."}),E.jsx("input",{className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-xl text-sm outline-none",value:ee.provider,onChange:U=>ne({...ee,provider:U.target.value})})]}),F==="rollo"?E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Metros Lineales"}),E.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-xl text-sm font-bold outline-none",value:ee.initialQuantity||"",onChange:U=>ne({...ee,initialQuantity:parseFloat(U.target.value)})})]}):E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Largo (cm)"}),E.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-xl text-sm font-bold outline-none",value:ee.length||"",onChange:U=>ne({...ee,length:parseFloat(U.target.value)})})]}),E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-[10px] font-bold text-emerald-500 uppercase ml-1",children:"Ancho (cm)"}),E.jsx("input",{type:"number",step:"1",required:!0,className:"w-full px-5 py-3 bg-emerald-50 border border-emerald-100 rounded-xl text-sm font-bold outline-none text-emerald-700",value:ee.width||"",onChange:U=>ne({...ee,width:parseInt(U.target.value)})})]}),E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:F==="rollo"?"Costo/Metro ()":"Costo Total ()"}),E.jsx("input",{type:"number",step:"0.01",required:!0,className:"w-full px-5 py-3 bg-white border border-gray-200 rounded-xl text-sm font-bold outline-none",value:ee.unitCost||"",onChange:U=>ne({...ee,unitCost:parseFloat(U.target.value)})})]})]}),E.jsxs("div",{className:"flex flex-wrap gap-4 items-center p-4 bg-white/50 border border-indigo-100 rounded-2xl shadow-inner",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"rea Total Calculada"}),E.jsxs("span",{className:"text-lg font-black text-indigo-900",children:[He.toFixed(2)," m"]})]}),E.jsx("div",{className:"w-px h-8 bg-indigo-100 mx-2 hidden sm:block"}),E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Costo Real por m"}),E.jsxs("span",{className:"text-lg font-black text-emerald-600",children:[so(w),"/m"]})]}),E.jsxs("button",{type:"submit",className:"ml-auto bg-[#4f46e5] text-white px-8 py-3 rounded-xl font-black shadow-lg hover:bg-[#4338ca] transition-all flex items-center gap-2 text-sm",children:[E.jsx(Qu,{size:18})," Confirmar Entrada"]})]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-2 no-print",children:"Lotes Activos y Movimientos"}),E.jsx("div",{className:"bg-white border border-gray-100 rounded-[2rem] shadow-sm overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left min-w-[1000px]",children:[E.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-5 w-10 text-center"}),E.jsx("th",{className:"px-6 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"FECHA ENTRADA"}),E.jsx("th",{className:"px-6 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"MODO"}),E.jsx("th",{className:"px-6 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"PROVEEDOR / REF."}),E.jsx("th",{className:"px-6 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-widest text-right",children:"DIMENSIONES"}),E.jsx("th",{className:"px-6 py-5 text-[10px] font-bold text-emerald-600 uppercase tracking-widest text-right",children:"REA (m)"}),E.jsx("th",{className:"px-6 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-widest text-right",children:"COSTO COMPRA"}),E.jsx("th",{className:"px-6 py-5 text-[10px] font-bold text-indigo-500 uppercase tracking-widest text-right",children:"COSTO m"}),E.jsx("th",{className:"px-6 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-widest text-right",children:"RESTANTE"}),E.jsx("th",{className:"px-6 py-5 text-[10px] font-bold text-gray-400 uppercase tracking-widest text-center no-print",children:"ACCIN"})]})}),E.jsxs("tbody",{className:"divide-y divide-gray-100",children:[t.filter(U=>U.materialId===R).sort((U,j)=>new Date(U.date).getTime()-new Date(j.date).getTime()).map(U=>{const j=(U.entryMode==="pieza",U.unitCost*U.initialQuantity),N=U.area&&U.area>0?j/U.area:0;return E.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[E.jsx("td",{className:"px-4 py-4 text-center",children:E.jsx(gE,{size:16,className:"text-emerald-500 mx-auto"})}),E.jsx("td",{className:"px-6 py-4 text-[11px] font-bold text-gray-600",children:U.date}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-lg text-[9px] font-black uppercase ${U.entryMode==="pieza"?"bg-amber-50 text-amber-700":"bg-indigo-50 text-indigo-700"}`,children:[U.entryMode==="pieza"?E.jsx(ja,{size:10}):E.jsx(Ku,{size:10}),U.entryMode||"Rollo"]})}),E.jsx("td",{className:"px-6 py-4 text-[11px] font-black text-gray-900",children:U.provider}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex flex-col items-end",children:[E.jsx("span",{className:"text-[11px] font-bold text-gray-900",children:U.entryMode==="pieza"?`${U.length}  ${U.width} cm`:`${U.initialQuantity.toFixed(2)} m lineales`}),E.jsxs("span",{className:"text-[9px] text-gray-400 font-bold uppercase",children:[U.width," cm ancho"]})]})}),E.jsx("td",{className:"px-6 py-4 text-[11px] font-black text-right text-emerald-600 font-mono",children:U.area?`${U.area.toFixed(2)} m`:"---"}),E.jsx("td",{className:"px-6 py-4 text-[11px] font-black text-right font-mono text-gray-900",children:so(j)}),E.jsx("td",{className:"px-6 py-4 text-[11px] font-black text-right font-mono text-indigo-600",children:N>0?so(N):"---"}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("span",{className:`px-2 py-1 rounded-lg font-black text-[11px] ${U.remainingQuantity>0?"bg-emerald-50 text-emerald-600":"bg-gray-100 text-gray-300"}`,children:[U.remainingQuantity.toFixed(2)," m"]})}),E.jsx("td",{className:"px-6 py-4 text-center no-print",children:E.jsxs("div",{className:"flex justify-center gap-1",children:[E.jsx("button",{onClick:()=>z(U),className:"p-2 text-gray-300 hover:text-indigo-600 transition-colors",title:"Editar Lote",children:E.jsx(Zh,{size:16})}),E.jsx("button",{onClick:()=>d(U.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",title:"Eliminar Lote",children:E.jsx(es,{size:16})})]})})]},U.id)}),R&&E.jsxs("tr",{className:"bg-gray-50/80 font-black border-t-2 border-gray-200",children:[E.jsx("td",{className:"px-4"}),E.jsx("td",{className:"px-6 py-5 text-[10px] text-gray-900 uppercase",children:"TOTALES"}),E.jsx("td",{className:"px-6 py-5 text-center text-gray-400",children:"-"}),E.jsx("td",{className:"px-6 py-5 text-[10px] text-gray-400 text-center",children:"-"}),E.jsxs("td",{className:"px-6 py-5 text-[11px] text-right font-mono text-gray-400",children:[ge(R).totalOriginalQty.toFixed(2)," m lineales"]}),E.jsxs("td",{className:"px-6 py-5 text-[11px] text-right font-mono text-emerald-600",children:[ge(R).totalArea.toFixed(2)," m"]}),E.jsx("td",{className:"px-6 py-5 text-[11px] text-right font-mono text-gray-400",children:so(ge(R).totalValue)}),E.jsx("td",{className:"px-6 py-5 text-[11px] text-right font-mono text-indigo-600",children:so(ge(R).avgCostPerM2)}),E.jsxs("td",{className:"px-6 py-5 text-[11px] text-right font-mono text-emerald-600",children:[ge(R).totalRemainingQty.toFixed(2)," m"]}),E.jsx("td",{className:"px-6 py-5 text-center text-gray-400 no-print",children:"-"})]})]})]})})]})]}),E.jsx("div",{className:"px-10 py-8 bg-gray-50 border-t border-gray-100 flex justify-end no-print",children:E.jsx("button",{onClick:()=>C(!1),className:"px-10 py-4 bg-white border border-gray-200 rounded-2xl font-bold text-gray-700 hover:bg-gray-100 transition-all shadow-sm",children:"Cerrar Visor"})})]})}),L&&E.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-black/40 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md p-8 border border-gray-100",children:[E.jsxs("h4",{className:"text-xl font-black text-gray-900 mb-6 flex items-center gap-2",children:[E.jsx(Zh,{size:18,className:"text-indigo-500"})," Editar Registro"]}),E.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[L.remainingQuantity<L.initialQuantity&&E.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100 flex items-start gap-3",children:[E.jsx(xE,{size:20,className:"text-amber-500 shrink-0 mt-0.5"}),E.jsx("p",{className:"text-[10px] font-bold text-amber-700 leading-tight",children:"ESTE LOTE YA SE HA USADO. La cantidad, costo y dimensiones no son editables para mantener la coherencia FIFO."})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Fecha"}),E.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl outline-none",value:L.date,onChange:U=>z({...L,date:U.target.value})})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Proveedor / Referencia"}),E.jsx("input",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-100 rounded-xl outline-none",value:L.provider,onChange:U=>z({...L,provider:U.target.value})})]}),L.entryMode==="pieza"?E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Largo (cm)"}),E.jsx("input",{type:"number",step:"0.01",disabled:L.remainingQuantity<L.initialQuantity,className:"w-full px-3 py-3 bg-gray-50 border border-gray-100 rounded-xl outline-none disabled:opacity-50 font-bold text-sm",value:L.length||"",onChange:U=>z({...L,length:parseFloat(U.target.value)})})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-black text-emerald-500 uppercase",children:"Ancho (cm)"}),E.jsx("input",{type:"number",step:"1",disabled:L.remainingQuantity<L.initialQuantity,className:"w-full px-3 py-3 bg-emerald-50/50 border border-emerald-100 rounded-xl outline-none disabled:opacity-50 font-bold text-sm text-emerald-700",value:L.width||"",onChange:U=>z({...L,width:parseInt(U.target.value)})})]})]}):E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase",children:"M. Lineales"}),E.jsx("input",{type:"number",step:"0.01",disabled:L.remainingQuantity<L.initialQuantity,className:"w-full px-3 py-3 bg-gray-50 border border-gray-100 rounded-xl outline-none disabled:opacity-50 font-bold text-sm",value:L.initialQuantity,onChange:U=>z({...L,initialQuantity:parseFloat(U.target.value)})})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-black text-emerald-500 uppercase",children:"Ancho (cm)"}),E.jsx("input",{type:"number",step:"1",disabled:L.remainingQuantity<L.initialQuantity,className:"w-full px-3 py-3 bg-emerald-50/50 border border-emerald-100 rounded-xl outline-none disabled:opacity-50 font-bold text-sm text-emerald-700",value:L.width||"",onChange:U=>z({...L,width:parseInt(U.target.value)})})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase",children:L.entryMode==="pieza"?"Costo Total ()":"Costo Unitario (/m)"}),E.jsx("input",{type:"number",step:"0.01",disabled:L.remainingQuantity<L.initialQuantity,className:"w-full px-3 py-3 bg-gray-50 border border-gray-100 rounded-xl outline-none disabled:opacity-50 font-bold text-sm",value:L.unitCost,onChange:U=>z({...L,unitCost:parseFloat(U.target.value)})})]}),E.jsxs("div",{className:"flex gap-3 pt-4",children:[E.jsx("button",{type:"button",onClick:()=>z(null),className:"flex-1 py-4 border border-gray-100 rounded-xl font-bold text-gray-400",children:"Cancelar"}),E.jsx("button",{type:"submit",className:"flex-1 py-4 bg-indigo-600 text-white rounded-xl font-black shadow-lg",children:"Guardar"})]})]})]})})]})},LR=()=>E.jsx(tE,{children:E.jsx(ix,{children:E.jsxs(IT,{children:[E.jsx(Qa,{path:"/",element:E.jsx(wR,{})}),E.jsx(Qa,{path:"/productos",element:E.jsx(DR,{})}),E.jsx(Qa,{path:"/materias-primas",element:E.jsx(UR,{})})]})})}),jy=document.getElementById("root");if(!jy)throw new Error("Could not find root element to mount to");const kR=US.createRoot(jy);kR.render(E.jsx(uo.StrictMode,{children:E.jsx(LR,{})}));
